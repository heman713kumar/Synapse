var f0=Object.defineProperty;var h0=(e,t,a)=>t in e?f0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Ji=(e,t,a)=>(h0(e,typeof t!="symbol"?t+"":t,a),a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();function Td(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Md={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=Symbol.for("react.transitional.element"),x0=Symbol.for("react.fragment");function Ed(e,t,a){var l=null;if(a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:m0,type:e,key:l,ref:t!==void 0?t:null,props:a}}xi.Fragment=x0;xi.jsx=Ed;xi.jsxs=Ed;Md.exports=xi;var n=Md.exports,Dd={exports:{}},G={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.transitional.element"),g0=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),b0=Symbol.for("react.profiler"),v0=Symbol.for("react.consumer"),j0=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),S0=Symbol.for("react.memo"),Od=Symbol.for("react.lazy"),k0=Symbol.for("react.activity"),Vr=Symbol.iterator;function C0(e){return e===null||typeof e!="object"?null:(e=Vr&&e[Vr]||e["@@iterator"],typeof e=="function"?e:null)}var zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bd=Object.assign,_d={};function Ll(e,t,a){this.props=e,this.context=t,this.refs=_d,this.updater=a||zd}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ud(){}Ud.prototype=Ll.prototype;function Bc(e,t,a){this.props=e,this.context=t,this.refs=_d,this.updater=a||zd}var _c=Bc.prototype=new Ud;_c.constructor=Bc;Bd(_c,Ll.prototype);_c.isPureReactComponent=!0;var Gr=Array.isArray;function Uo(){}var ye={H:null,A:null,T:null,S:null},Rd=Object.prototype.hasOwnProperty;function Uc(e,t,a){var l=a.ref;return{$$typeof:zc,type:e,key:t,ref:l!==void 0?l:null,props:a}}function A0(e,t){return Uc(e.type,t,e.props)}function Rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===zc}function T0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Qr=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T0(""+e.key):t.toString(36)}function M0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Uo,Uo):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Pa(e,t,a,l,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zc:case g0:o=!0;break;case Od:return o=e._init,Pa(o(e._payload),t,a,l,s)}}if(o)return s=s(e),o=l===""?"."+Ki(e,0):l,Gr(s)?(a="",o!=null&&(a=o.replace(Qr,"$&/")+"/"),Pa(s,t,a,"",function(u){return u})):s!=null&&(Rc(s)&&(s=A0(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Qr,"$&/")+"/")+o)),t.push(s)),1;o=0;var c=l===""?".":l+":";if(Gr(e))for(var r=0;r<e.length;r++)l=e[r],i=c+Ki(l,r),o+=Pa(l,t,a,i,s);else if(r=C0(e),typeof r=="function")for(e=r.call(e),r=0;!(l=e.next()).done;)l=l.value,i=c+Ki(l,r++),o+=Pa(l,t,a,i,s);else if(i==="object"){if(typeof e.then=="function")return Pa(M0(e),t,a,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function ss(e,t,a){if(e==null)return e;var l=[],s=0;return Pa(e,l,"","",function(i){return t.call(a,i,s++)}),l}function E0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},D0={map:ss,forEach:function(e,t,a){ss(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ss(e,function(){t++}),t},toArray:function(e){return ss(e,function(t){return t})||[]},only:function(e){if(!Rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Activity=k0;G.Children=D0;G.Component=Ll;G.Fragment=p0;G.Profiler=b0;G.PureComponent=Bc;G.StrictMode=y0;G.Suspense=w0;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;G.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ye.H.useMemoCache(e)}};G.cache=function(e){return function(){return e.apply(null,arguments)}};G.cacheSignal=function(){return null};G.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var l=Bd({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!Rd.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(l[i]=t[i]);var i=arguments.length-2;if(i===1)l.children=a;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];l.children=o}return Uc(e.type,s,l)};G.createContext=function(e){return e={$$typeof:j0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:v0,_context:e},e};G.createElement=function(e,t,a){var l,s={},i=null;if(t!=null)for(l in t.key!==void 0&&(i=""+t.key),t)Rd.call(t,l)&&l!=="key"&&l!=="__self"&&l!=="__source"&&(s[l]=t[l]);var o=arguments.length-2;if(o===1)s.children=a;else if(1<o){for(var c=Array(o),r=0;r<o;r++)c[r]=arguments[r+2];s.children=c}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)s[l]===void 0&&(s[l]=o[l]);return Uc(e,i,s)};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:N0,render:e}};G.isValidElement=Rc;G.lazy=function(e){return{$$typeof:Od,_payload:{_status:-1,_result:e},_init:E0}};G.memo=function(e,t){return{$$typeof:S0,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ye.T,a={};ye.T=a;try{var l=e(),s=ye.S;s!==null&&s(a,l),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l.then(Uo,Xr)}catch(i){Xr(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),ye.T=t}};G.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()};G.use=function(e){return ye.H.use(e)};G.useActionState=function(e,t,a){return ye.H.useActionState(e,t,a)};G.useCallback=function(e,t){return ye.H.useCallback(e,t)};G.useContext=function(e){return ye.H.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e,t){return ye.H.useDeferredValue(e,t)};G.useEffect=function(e,t){return ye.H.useEffect(e,t)};G.useEffectEvent=function(e){return ye.H.useEffectEvent(e)};G.useId=function(){return ye.H.useId()};G.useImperativeHandle=function(e,t,a){return ye.H.useImperativeHandle(e,t,a)};G.useInsertionEffect=function(e,t){return ye.H.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return ye.H.useLayoutEffect(e,t)};G.useMemo=function(e,t){return ye.H.useMemo(e,t)};G.useOptimistic=function(e,t){return ye.H.useOptimistic(e,t)};G.useReducer=function(e,t,a){return ye.H.useReducer(e,t,a)};G.useRef=function(e){return ye.H.useRef(e)};G.useState=function(e){return ye.H.useState(e)};G.useSyncExternalStore=function(e,t,a){return ye.H.useSyncExternalStore(e,t,a)};G.useTransition=function(){return ye.H.useTransition()};G.version="19.2.0";Dd.exports=G;var y=Dd.exports;const gi=Td(y);var Ld={exports:{}},pi={},Hd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,H){var U=A.length;A.push(H);e:for(;0<U;){var Q=U-1>>>1,te=A[Q];if(0<s(te,H))A[Q]=H,A[U]=te,U=Q;else break e}}function a(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var H=A[0],U=A.pop();if(U!==H){A[0]=U;e:for(var Q=0,te=A.length,se=te>>>1;Q<se;){var ze=2*(Q+1)-1,q=A[ze],ne=ze+1,Be=A[ne];if(0>s(q,U))ne<te&&0>s(Be,q)?(A[Q]=Be,A[ne]=U,Q=ne):(A[Q]=q,A[ze]=U,Q=ze);else if(ne<te&&0>s(Be,U))A[Q]=Be,A[ne]=U,Q=ne;else break e}}return H}function s(A,H){var U=A.sortIndex-H.sortIndex;return U!==0?U:A.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var r=[],u=[],d=1,x=null,f=3,m=!1,v=!1,j=!1,M=!1,g=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function b(A){for(var H=a(u);H!==null;){if(H.callback===null)l(u);else if(H.startTime<=A)l(u),H.sortIndex=H.expirationTime,t(r,H);else break;H=a(u)}}function N(A){if(j=!1,b(A),!v)if(a(r)!==null)v=!0,w||(w=!0,V());else{var H=a(u);H!==null&&_(N,H.startTime-A)}}var w=!1,S=-1,T=5,E=-1;function D(){return M?!0:!(e.unstable_now()-E<T)}function z(){if(M=!1,w){var A=e.unstable_now();E=A;var H=!0;try{e:{v=!1,j&&(j=!1,h(S),S=-1),m=!0;var U=f;try{t:{for(b(A),x=a(r);x!==null&&!(x.expirationTime>A&&D());){var Q=x.callback;if(typeof Q=="function"){x.callback=null,f=x.priorityLevel;var te=Q(x.expirationTime<=A);if(A=e.unstable_now(),typeof te=="function"){x.callback=te,b(A),H=!0;break t}x===a(r)&&l(r),b(A)}else l(r);x=a(r)}if(x!==null)H=!0;else{var se=a(u);se!==null&&_(N,se.startTime-A),H=!1}}break e}finally{x=null,f=U,m=!1}H=void 0}}finally{H?V():w=!1}}}var V;if(typeof p=="function")V=function(){p(z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,L=ee.port2;ee.port1.onmessage=z,V=function(){L.postMessage(null)}}else V=function(){g(z,0)};function _(A,H){S=g(function(){A(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(A){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return A()}finally{f=U}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=f;f=A;try{return H()}finally{f=U}},e.unstable_scheduleCallback=function(A,H,U){var Q=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Q+U:Q):U=Q,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,A={id:d++,callback:H,priorityLevel:A,startTime:U,expirationTime:te,sortIndex:-1},U>Q?(A.sortIndex=U,t(u,A),a(r)===null&&A===a(u)&&(j?(h(S),S=-1):j=!0,_(N,U-Q))):(A.sortIndex=te,t(r,A),v||m||(v=!0,w||(w=!0,V()))),A},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(A){var H=f;return function(){var U=f;f=H;try{return A.apply(this,arguments)}finally{f=U}}}})(qd);Hd.exports=qd;var O0=Hd.exports,Id={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=y;function Yd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ea(){}var Qe={d:{f:ea,r:function(){throw Error(Yd(522))},D:ea,C:ea,L:ea,m:ea,X:ea,S:ea,M:ea},p:0,findDOMNode:null},B0=Symbol.for("react.portal");function _0(e,t,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B0,key:l==null?null:""+l,children:e,containerInfo:t,implementation:a}}var rn=z0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qe;Xe.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Yd(299));return _0(e,t,null,a)};Xe.flushSync=function(e){var t=rn.T,a=Qe.p;try{if(rn.T=null,Qe.p=2,e)return e()}finally{rn.T=t,Qe.p=a,Qe.d.f()}};Xe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qe.d.C(e,t))};Xe.prefetchDNS=function(e){typeof e=="string"&&Qe.d.D(e)};Xe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,l=yi(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Qe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:l,integrity:s,fetchPriority:i}):a==="script"&&Qe.d.X(e,{crossOrigin:l,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Xe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=yi(t.as,t.crossOrigin);Qe.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qe.d.M(e)};Xe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,l=yi(a,t.crossOrigin);Qe.d.L(e,a,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Xe.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=yi(t.as,t.crossOrigin);Qe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qe.d.m(e)};Xe.requestFormReset=function(e){Qe.d.r(e)};Xe.unstable_batchedUpdates=function(e,t){return e(t)};Xe.useFormState=function(e,t,a){return rn.H.useFormState(e,t,a)};Xe.useFormStatus=function(){return rn.H.useHostTransitionStatus()};Xe.version="19.2.0";function Vd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vd)}catch(e){console.error(e)}}Vd(),Id.exports=Xe;var U0=Id.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe=O0,Gd=y,R0=U0;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function In(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Xd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zd(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zr(e){if(In(e)!==e)throw Error(k(188))}function L0(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(k(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return Zr(s),e;if(i===l)return Zr(s),t;i=i.sibling}throw Error(k(188))}if(a.return!==l.return)a=s,l=i;else{for(var o=!1,c=s.child;c;){if(c===a){o=!0,a=s,l=i;break}if(c===l){o=!0,l=s,a=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===a){o=!0,a=i,l=s;break}if(c===l){o=!0,l=i,a=s;break}c=c.sibling}if(!o)throw Error(k(189))}}if(a.alternate!==l)throw Error(k(190))}if(a.tag!==3)throw Error(k(188));return a.stateNode.current===a?e:t}function Jd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Jd(e),t!==null)return t;e=e.sibling}return null}var be=Object.assign,H0=Symbol.for("react.element"),is=Symbol.for("react.transitional.element"),ln=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),$d=Symbol.for("react.consumer"),It=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),Ho=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),qo=Symbol.for("react.activity"),q0=Symbol.for("react.memo_cache_sentinel"),Jr=Symbol.iterator;function Kl(e){return e===null||typeof e!="object"?null:(e=Jr&&e[Jr]||e["@@iterator"],typeof e=="function"?e:null)}var I0=Symbol.for("react.client.reference");function Io(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case al:return"Fragment";case Ro:return"Profiler";case Kd:return"StrictMode";case Lo:return"Suspense";case Ho:return"SuspenseList";case qo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ln:return"Portal";case It:return e.displayName||"Context";case $d:return(e._context.displayName||"Context")+".Consumer";case Lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hc:return t=e.displayName||null,t!==null?t:Io(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return Io(e(t))}catch{}}return null}var nn=Array.isArray,Y=Gd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=R0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ba={pending:!1,data:null,method:null,action:null},Yo=[],ll=-1;function Ot(e){return{current:e}}function Re(e){0>ll||(e.current=Yo[ll],Yo[ll]=null,ll--)}function xe(e,t){ll++,Yo[ll]=e.current,e.current=t}var Et=Ot(null),wn=Ot(null),fa=Ot(null),Hs=Ot(null);function qs(e,t){switch(xe(fa,t),xe(wn,e),xe(Et,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ed(t),e=pm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Et),xe(Et,e)}function wl(){Re(Et),Re(wn),Re(fa)}function Vo(e){e.memoizedState!==null&&xe(Hs,e);var t=Et.current,a=pm(t,e.type);t!==a&&(xe(wn,e),xe(Et,a))}function Is(e){wn.current===e&&(Re(Et),Re(wn)),Hs.current===e&&(Re(Hs),Bn._currentValue=Ba)}var $i,Kr;function Ea(e){if($i===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);$i=t&&t[1]||"",Kr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+e+Kr}var Fi=!1;function Wi(e,t){if(!e||Fi)return"";Fi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(m){var f=m}Reflect.construct(e,[],x)}else{try{x.call()}catch(m){f=m}e.call(x.prototype)}}else{try{throw Error()}catch(m){f=m}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),o=i[0],c=i[1];if(o&&c){var r=o.split(`
`),u=c.split(`
`);for(s=l=0;l<r.length&&!r[l].includes("DetermineComponentFrameRoot");)l++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(l===r.length||s===u.length)for(l=r.length-1,s=u.length-1;1<=l&&0<=s&&r[l]!==u[s];)s--;for(;1<=l&&0<=s;l--,s--)if(r[l]!==u[s]){if(l!==1||s!==1)do if(l--,s--,0>s||r[l]!==u[s]){var d=`
`+r[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=s);break}}}finally{Fi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ea(a):""}function Y0(e,t){switch(e.tag){case 26:case 27:case 5:return Ea(e.type);case 16:return Ea("Lazy");case 13:return e.child!==t&&t!==null?Ea("Suspense Fallback"):Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 15:return Wi(e.type,!1);case 11:return Wi(e.type.render,!1);case 1:return Wi(e.type,!0);case 31:return Ea("Activity");default:return""}}function $r(e){try{var t="",a=null;do t+=Y0(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Go=Object.prototype.hasOwnProperty,qc=Oe.unstable_scheduleCallback,Pi=Oe.unstable_cancelCallback,V0=Oe.unstable_shouldYield,G0=Oe.unstable_requestPaint,st=Oe.unstable_now,Q0=Oe.unstable_getCurrentPriorityLevel,Fd=Oe.unstable_ImmediatePriority,Wd=Oe.unstable_UserBlockingPriority,Ys=Oe.unstable_NormalPriority,X0=Oe.unstable_LowPriority,Pd=Oe.unstable_IdlePriority,Z0=Oe.log,J0=Oe.unstable_setDisableYieldValue,Yn=null,it=null;function oa(e){if(typeof Z0=="function"&&J0(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Yn,e)}catch{}}var ot=Math.clz32?Math.clz32:F0,K0=Math.log,$0=Math.LN2;function F0(e){return e>>>=0,e===0?32:31-(K0(e)/$0|0)|0}var os=256,cs=262144,rs=4194304;function Da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var c=l&134217727;return c!==0?(l=c&~i,l!==0?s=Da(l):(o&=c,o!==0?s=Da(o):a||(a=c&~e,a!==0&&(s=Da(a))))):(c=l&~i,c!==0?s=Da(c):o!==0?s=Da(o):a||(a=l&~e,a!==0&&(s=Da(a)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function Vn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function W0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ef(){var e=rs;return rs<<=1,!(rs&62914560)&&(rs=4194304),e}function eo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Gn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function P0(e,t,a,l,s,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,r=e.expirationTimes,u=e.hiddenUpdates;for(a=o&~a;0<a;){var d=31-ot(a),x=1<<d;c[d]=0,r[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}a&=~x}l!==0&&tf(e,l,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function tf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function af(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ot(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function lf(e,t){var a=t&-t;return a=a&42?1:Ic(a),a&(e.suspendedLanes|t)?0:a}function Ic(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function nf(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function Fr(e,t){var a=le.p;try{return le.p=e,t()}finally{le.p=a}}var Aa=Math.random().toString(36).slice(2),He="__reactFiber$"+Aa,Pe="__reactProps$"+Aa,Hl="__reactContainer$"+Aa,Qo="__reactEvents$"+Aa,ex="__reactListeners$"+Aa,tx="__reactHandles$"+Aa,Wr="__reactResources$"+Aa,Qn="__reactMarker$"+Aa;function Vc(e){delete e[He],delete e[Pe],delete e[Qo],delete e[ex],delete e[tx]}function nl(e){var t=e[He];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Hl]||a[He]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=sd(e);e!==null;){if(a=e[He])return a;e=sd(e)}return t}e=a,a=e.parentNode}return null}function ql(e){if(e=e[He]||e[Hl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function sn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function ml(e){var t=e[Wr];return t||(t=e[Wr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[Qn]=!0}var sf=new Set,of={};function Qa(e,t){Sl(e,t),Sl(e+"Capture",t)}function Sl(e,t){for(of[e]=t,e=0;e<t.length;e++)sf.add(t[e])}var ax=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},eu={};function lx(e){return Go.call(eu,e)?!0:Go.call(Pr,e)?!1:ax.test(e)?eu[e]=!0:(Pr[e]=!0,!1)}function ws(e,t,a){if(lx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function us(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Bt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nx(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xo(e){if(!e._valueTracker){var t=cf(e)?"checked":"value";e._valueTracker=nx(e,t,""+e[t])}}function rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=cf(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sx=/[\n"\\]/g;function xt(e){return e.replace(sx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zo(e,t,a,l,s,i,o,c){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Jo(e,o,ft(t)):a!=null?Jo(e,o,ft(a)):l!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+ft(c):e.removeAttribute("name")}function uf(e,t,a,l,s,i,o,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Xo(e);return}a=a!=null?""+ft(a):"",t=t!=null?""+ft(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=c?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Xo(e)}function Jo(e,t,a){t==="number"&&Vs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xl(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ft(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function df(e,t,a){if(t!=null&&(t=""+ft(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ft(a):""}function ff(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(k(92));if(nn(l)){if(1<l.length)throw Error(k(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=ft(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xo(e)}function kl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ix=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||ix.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hf(e,t,a){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&tu(e,s,l)}else for(var i in t)t.hasOwnProperty(i)&&tu(e,i,t[i])}function Gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ox=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return cx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yt(){}var Ko=null;function Qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,gl=null;function au(e){var t=ql(e);if(t&&(e=t.stateNode)){var a=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[Pe]||null;if(!s)throw Error(k(90));Zo(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&rf(l)}break e;case"textarea":df(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&xl(e,!!a.multiple,t,!1)}}}var to=!1;function mf(e,t,a){if(to)return e(t,a);to=!0;try{var l=e(t);return l}finally{if(to=!1,(sl!==null||gl!==null)&&(Di(),sl&&(t=sl,e=gl,gl=sl=null,au(t),e)))for(t=0;t<e.length;t++)au(e[t])}}function Sn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(k(231,t,typeof a));return a}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$o=!1;if(Zt)try{var $l={};Object.defineProperty($l,"passive",{get:function(){$o=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{$o=!1}var ca=null,Xc=null,ks=null;function xf(){if(ks)return ks;var e,t=Xc,a=t.length,l,s="value"in ca?ca.value:ca.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===s[i-l];l++);return ks=s.slice(e,1<l?1-l:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function lu(){return!1}function et(e){function t(a,l,s,i,o){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ds:lu,this.isPropagationStopped=lu,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=et(Xa),Xn=be({},Xa,{view:0,detail:0}),rx=et(Xn),ao,lo,Fl,ji=be({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(ao=e.screenX-Fl.screenX,lo=e.screenY-Fl.screenY):lo=ao=0,Fl=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),nu=et(ji),ux=be({},ji,{dataTransfer:0}),dx=et(ux),fx=be({},Xn,{relatedTarget:0}),no=et(fx),hx=be({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=et(hx),xx=be({},Xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gx=et(xx),px=be({},Xa,{data:0}),su=et(px),yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vx[e])?!!t[e]:!1}function Zc(){return jx}var Nx=be({},Xn,{key:function(e){if(e.key){var t=yx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wx=et(Nx),Sx=be({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=et(Sx),kx=be({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),Cx=et(kx),Ax=be({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tx=et(Ax),Mx=be({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ex=et(Mx),Dx=be({},Xa,{newState:0,oldState:0}),Ox=et(Dx),zx=[9,13,27,32],Jc=Zt&&"CompositionEvent"in window,un=null;Zt&&"documentMode"in document&&(un=document.documentMode);var Bx=Zt&&"TextEvent"in window&&!un,gf=Zt&&(!Jc||un&&8<un&&11>=un),ou=String.fromCharCode(32),cu=!1;function pf(e,t){switch(e){case"keyup":return zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var il=!1;function _x(e,t){switch(e){case"compositionend":return yf(t);case"keypress":return t.which!==32?null:(cu=!0,ou);case"textInput":return e=t.data,e===ou&&cu?null:e;default:return null}}function Ux(e,t){if(il)return e==="compositionend"||!Jc&&pf(e,t)?(e=xf(),ks=Xc=ca=null,il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gf&&t.locale!=="ko"?null:t.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rx[e.type]:t==="textarea"}function bf(e,t,a,l){sl?gl?gl.push(l):gl=[l]:sl=l,t=oi(t,"onChange"),0<t.length&&(a=new vi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var dn=null,kn=null;function Lx(e){mm(e,0)}function Ni(e){var t=sn(e);if(rf(t))return e}function uu(e,t){if(e==="change")return t}var vf=!1;if(Zt){var so;if(Zt){var io="oninput"in document;if(!io){var du=document.createElement("div");du.setAttribute("oninput","return;"),io=typeof du.oninput=="function"}so=io}else so=!1;vf=so&&(!document.documentMode||9<document.documentMode)}function fu(){dn&&(dn.detachEvent("onpropertychange",jf),kn=dn=null)}function jf(e){if(e.propertyName==="value"&&Ni(kn)){var t=[];bf(t,kn,e,Qc(e)),mf(Lx,t)}}function Hx(e,t,a){e==="focusin"?(fu(),dn=t,kn=a,dn.attachEvent("onpropertychange",jf)):e==="focusout"&&fu()}function qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(kn)}function Ix(e,t){if(e==="click")return Ni(t)}function Yx(e,t){if(e==="input"||e==="change")return Ni(t)}function Vx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Vx;function Cn(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!Go.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,t){var a=hu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hu(a)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vs(e.document)}return t}function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Gx=Zt&&"documentMode"in document&&11>=document.documentMode,ol=null,Fo=null,fn=null,Wo=!1;function xu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wo||ol==null||ol!==Vs(l)||(l=ol,"selectionStart"in l&&Kc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fn&&Cn(fn,l)||(fn=l,l=oi(Fo,"onSelect"),0<l.length&&(t=new vi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=ol)))}function Ma(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cl={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},oo={},Sf={};Zt&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Za(e){if(oo[e])return oo[e];if(!cl[e])return e;var t=cl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Sf)return oo[e]=t[a];return e}var kf=Za("animationend"),Cf=Za("animationiteration"),Af=Za("animationstart"),Qx=Za("transitionrun"),Xx=Za("transitionstart"),Zx=Za("transitioncancel"),Tf=Za("transitionend"),Mf=new Map,Po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Po.push("scrollEnd");function kt(e,t){Mf.set(e,t),Qa(t,[e])}var Gs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dt=[],rl=0,$c=0;function wi(){for(var e=rl,t=$c=rl=0;t<e;){var a=dt[t];dt[t++]=null;var l=dt[t];dt[t++]=null;var s=dt[t];dt[t++]=null;var i=dt[t];if(dt[t++]=null,l!==null&&s!==null){var o=l.pending;o===null?s.next=s:(s.next=o.next,o.next=s),l.pending=s}i!==0&&Ef(a,s,i)}}function Si(e,t,a,l){dt[rl++]=e,dt[rl++]=t,dt[rl++]=a,dt[rl++]=l,$c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fc(e,t,a,l){return Si(e,t,a,l),Qs(e)}function Ja(e,t){return Si(e,null,null,t),Qs(e)}function Ef(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ot(a),e=i.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),i):null}function Qs(e){if(50<jn)throw jn=0,vc=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ul={};function Jx(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,a,l){return new Jx(e,t,a,l)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gt(e,t){var a=e.alternate;return a===null?(a=lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Df(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function As(e,t,a,l,s,i){var o=0;if(l=e,typeof e=="function")Wc(e)&&(o=1);else if(typeof e=="string")o=Pg(e,a,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case qo:return e=lt(31,a,t,s),e.elementType=qo,e.lanes=i,e;case al:return _a(a.children,s,i,t);case Kd:o=8,s|=24;break;case Ro:return e=lt(12,a,t,s|2),e.elementType=Ro,e.lanes=i,e;case Lo:return e=lt(13,a,t,s),e.elementType=Lo,e.lanes=i,e;case Ho:return e=lt(19,a,t,s),e.elementType=Ho,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case It:o=10;break e;case $d:o=9;break e;case Lc:o=11;break e;case Hc:o=14;break e;case ta:o=16,l=null;break e}o=29,a=Error(k(130,e===null?"null":typeof e,"")),l=null}return t=lt(o,a,t,s),t.elementType=e,t.type=l,t.lanes=i,t}function _a(e,t,a,l){return e=lt(7,e,l,t),e.lanes=a,e}function co(e,t,a){return e=lt(6,e,null,t),e.lanes=a,e}function Of(e){var t=lt(18,null,null,0);return t.stateNode=e,t}function ro(e,t,a){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gu=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var a=gu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:$r(t)},gu.set(e,t),t)}return{value:e,source:t,stack:$r(t)}}var dl=[],fl=0,Xs=null,An=0,ht=[],mt=0,Na=null,At=1,Tt="";function Ht(e,t){dl[fl++]=An,dl[fl++]=Xs,Xs=e,An=t}function zf(e,t,a){ht[mt++]=At,ht[mt++]=Tt,ht[mt++]=Na,Na=e;var l=At;e=Tt;var s=32-ot(l)-1;l&=~(1<<s),a+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(l&(1<<o)-1).toString(32),l>>=o,s-=o,At=1<<32-ot(t)+s|a<<s|l,Tt=i+e}else At=1<<i|a<<s|l,Tt=e}function Pc(e){e.return!==null&&(Ht(e,1),zf(e,1,0))}function er(e){for(;e===Xs;)Xs=dl[--fl],dl[fl]=null,An=dl[--fl],dl[fl]=null;for(;e===Na;)Na=ht[--mt],ht[mt]=null,Tt=ht[--mt],ht[mt]=null,At=ht[--mt],ht[mt]=null}function Bf(e,t){ht[mt++]=At,ht[mt++]=Tt,ht[mt++]=Na,At=t.id,Tt=t.overflow,Na=e}var qe=null,pe=null,P=!1,ha=null,pt=!1,ec=Error(k(519));function wa(e){var t=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tn(gt(t,e)),ec}function pu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[He]=e,t[Pe]=l,a){case"dialog":$("cancel",t),$("close",t);break;case"iframe":case"object":case"embed":$("load",t);break;case"video":case"audio":for(a=0;a<On.length;a++)$(On[a],t);break;case"source":$("error",t);break;case"img":case"image":case"link":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"input":$("invalid",t),uf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$("invalid",t);break;case"textarea":$("invalid",t),ff(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||gm(t.textContent,a)?(l.popover!=null&&($("beforetoggle",t),$("toggle",t)),l.onScroll!=null&&$("scroll",t),l.onScrollEnd!=null&&$("scrollend",t),l.onClick!=null&&(t.onclick=Yt),t=!0):t=!1,t||wa(e,!0)}function yu(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:pt=!1;return;case 27:case 3:pt=!0;return;default:qe=qe.return}}function Fa(e){if(e!==qe)return!1;if(!P)return yu(e),P=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kc(e.type,e.memoizedProps)),a=!a),a&&pe&&wa(e),yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));pe=nd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));pe=nd(e)}else t===27?(t=pe,Ta(e.type)?(e=Mc,Mc=null,pe=e):pe=t):pe=qe?bt(e.stateNode.nextSibling):null;return!0}function qa(){pe=qe=null,P=!1}function uo(){var e=ha;return e!==null&&(Fe===null?Fe=e:Fe.push.apply(Fe,e),ha=null),e}function Tn(e){ha===null?ha=[e]:ha.push(e)}var tc=Ot(null),Ka=null,Vt=null;function la(e,t,a){xe(tc,t._currentValue),t._currentValue=a}function Qt(e){e._currentValue=tc.current,Re(tc)}function ac(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function lc(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var o=s.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=s;for(var r=0;r<t.length;r++)if(c.context===t[r]){i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),ac(i.return,a,e),l||(o=null);break e}i=c.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),ac(o,a,e),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Il(e,t,a,l){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(k(387));if(o=o.memoizedProps,o!==null){var c=s.type;rt(s.pendingProps.value,o.value)||(e!==null?e.push(c):e=[c])}}else if(s===Hs.current){if(o=s.alternate,o===null)throw Error(k(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Bn):e=[Bn])}s=s.return}e!==null&&lc(t,e,a,l),t.flags|=262144}function Zs(e){for(e=e.firstContext;e!==null;){if(!rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Ka=e,Vt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return _f(Ka,e)}function fs(e,t){return Ka===null&&Ia(e),_f(e,t)}function _f(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Vt===null){if(e===null)throw Error(k(308));Vt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vt=Vt.next=t;return a}var Kx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},$x=Oe.unstable_scheduleCallback,Fx=Oe.unstable_NormalPriority,Me={$$typeof:It,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tr(){return{controller:new Kx,data:new Map,refCount:0}}function Zn(e){e.refCount--,e.refCount===0&&$x(Fx,function(){e.controller.abort()})}var hn=null,nc=0,Cl=0,pl=null;function Wx(e,t){if(hn===null){var a=hn=[];nc=0,Cl=Cr(),pl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nc++,t.then(bu,bu),t}function bu(){if(--nc===0&&hn!==null){pl!==null&&(pl.status="fulfilled");var e=hn;hn=null,Cl=0,pl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Px(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var vu=Y.S;Y.S=function(e,t){Kh=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wx(e,t),vu!==null&&vu(e,t)};var Ua=Ot(null);function ar(){var e=Ua.current;return e!==null?e:de.pooledCache}function Ts(e,t){t===null?xe(Ua,Ua.current):xe(Ua,t.pool)}function Uf(){var e=ar();return e===null?null:{parent:Me._currentValue,pool:e}}var Yl=Error(k(460)),lr=Error(k(474)),ki=Error(k(542)),Js={then:function(){}};function ju(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Yt,Yt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wu(e),e;default:if(typeof t.status=="string")t.then(Yt,Yt);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wu(e),e}throw Ra=t,Yl}}function Oa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ra=a,Yl):a}}var Ra=null;function Nu(){if(Ra===null)throw Error(k(459));var e=Ra;return Ra=null,e}function wu(e){if(e===Yl||e===ki)throw Error(k(483))}var yl=null,Mn=0;function hs(e){var t=Mn;return Mn+=1,yl===null&&(yl=[]),Rf(yl,e,t)}function Wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ms(e,t){throw t.$$typeof===H0?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Lf(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function a(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function l(g){for(var h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function s(g,h){return g=Gt(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=67108866,h):p):(g.flags|=67108866,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function c(g,h,p,b){return h===null||h.tag!==6?(h=co(p,g.mode,b),h.return=g,h):(h=s(h,p),h.return=g,h)}function r(g,h,p,b){var N=p.type;return N===al?d(g,h,p.props.children,b,p.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ta&&Oa(N)===h.type)?(h=s(h,p.props),Wl(h,p),h.return=g,h):(h=As(p.type,p.key,p.props,null,g.mode,b),Wl(h,p),h.return=g,h)}function u(g,h,p,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=ro(p,g.mode,b),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function d(g,h,p,b,N){return h===null||h.tag!==7?(h=_a(p,g.mode,b,N),h.return=g,h):(h=s(h,p),h.return=g,h)}function x(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=co(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case is:return p=As(h.type,h.key,h.props,null,g.mode,p),Wl(p,h),p.return=g,p;case ln:return h=ro(h,g.mode,p),h.return=g,h;case ta:return h=Oa(h),x(g,h,p)}if(nn(h)||Kl(h))return h=_a(h,g.mode,p,null),h.return=g,h;if(typeof h.then=="function")return x(g,hs(h),p);if(h.$$typeof===It)return x(g,fs(g,h),p);ms(g,h)}return null}function f(g,h,p,b){var N=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return N!==null?null:c(g,h,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case is:return p.key===N?r(g,h,p,b):null;case ln:return p.key===N?u(g,h,p,b):null;case ta:return p=Oa(p),f(g,h,p,b)}if(nn(p)||Kl(p))return N!==null?null:d(g,h,p,b,null);if(typeof p.then=="function")return f(g,h,hs(p),b);if(p.$$typeof===It)return f(g,h,fs(g,p),b);ms(g,p)}return null}function m(g,h,p,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(p)||null,c(h,g,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case is:return g=g.get(b.key===null?p:b.key)||null,r(h,g,b,N);case ln:return g=g.get(b.key===null?p:b.key)||null,u(h,g,b,N);case ta:return b=Oa(b),m(g,h,p,b,N)}if(nn(b)||Kl(b))return g=g.get(p)||null,d(h,g,b,N,null);if(typeof b.then=="function")return m(g,h,p,hs(b),N);if(b.$$typeof===It)return m(g,h,p,fs(h,b),N);ms(h,b)}return null}function v(g,h,p,b){for(var N=null,w=null,S=h,T=h=0,E=null;S!==null&&T<p.length;T++){S.index>T?(E=S,S=null):E=S.sibling;var D=f(g,S,p[T],b);if(D===null){S===null&&(S=E);break}e&&S&&D.alternate===null&&t(g,S),h=i(D,h,T),w===null?N=D:w.sibling=D,w=D,S=E}if(T===p.length)return a(g,S),P&&Ht(g,T),N;if(S===null){for(;T<p.length;T++)S=x(g,p[T],b),S!==null&&(h=i(S,h,T),w===null?N=S:w.sibling=S,w=S);return P&&Ht(g,T),N}for(S=l(S);T<p.length;T++)E=m(S,g,T,p[T],b),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?T:E.key),h=i(E,h,T),w===null?N=E:w.sibling=E,w=E);return e&&S.forEach(function(z){return t(g,z)}),P&&Ht(g,T),N}function j(g,h,p,b){if(p==null)throw Error(k(151));for(var N=null,w=null,S=h,T=h=0,E=null,D=p.next();S!==null&&!D.done;T++,D=p.next()){S.index>T?(E=S,S=null):E=S.sibling;var z=f(g,S,D.value,b);if(z===null){S===null&&(S=E);break}e&&S&&z.alternate===null&&t(g,S),h=i(z,h,T),w===null?N=z:w.sibling=z,w=z,S=E}if(D.done)return a(g,S),P&&Ht(g,T),N;if(S===null){for(;!D.done;T++,D=p.next())D=x(g,D.value,b),D!==null&&(h=i(D,h,T),w===null?N=D:w.sibling=D,w=D);return P&&Ht(g,T),N}for(S=l(S);!D.done;T++,D=p.next())D=m(S,g,T,D.value,b),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?T:D.key),h=i(D,h,T),w===null?N=D:w.sibling=D,w=D);return e&&S.forEach(function(V){return t(g,V)}),P&&Ht(g,T),N}function M(g,h,p,b){if(typeof p=="object"&&p!==null&&p.type===al&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case is:e:{for(var N=p.key;h!==null;){if(h.key===N){if(N=p.type,N===al){if(h.tag===7){a(g,h.sibling),b=s(h,p.props.children),b.return=g,g=b;break e}}else if(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ta&&Oa(N)===h.type){a(g,h.sibling),b=s(h,p.props),Wl(b,p),b.return=g,g=b;break e}a(g,h);break}else t(g,h);h=h.sibling}p.type===al?(b=_a(p.props.children,g.mode,b,p.key),b.return=g,g=b):(b=As(p.type,p.key,p.props,null,g.mode,b),Wl(b,p),b.return=g,g=b)}return o(g);case ln:e:{for(N=p.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){a(g,h.sibling),b=s(h,p.children||[]),b.return=g,g=b;break e}else{a(g,h);break}else t(g,h);h=h.sibling}b=ro(p,g.mode,b),b.return=g,g=b}return o(g);case ta:return p=Oa(p),M(g,h,p,b)}if(nn(p))return v(g,h,p,b);if(Kl(p)){if(N=Kl(p),typeof N!="function")throw Error(k(150));return p=N.call(p),j(g,h,p,b)}if(typeof p.then=="function")return M(g,h,hs(p),b);if(p.$$typeof===It)return M(g,h,fs(g,p),b);ms(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,h!==null&&h.tag===6?(a(g,h.sibling),b=s(h,p),b.return=g,g=b):(a(g,h),b=co(p,g.mode,b),b.return=g,g=b),o(g)):a(g,h)}return function(g,h,p,b){try{Mn=0;var N=M(g,h,p,b);return yl=null,N}catch(S){if(S===Yl||S===ki)throw S;var w=lt(29,S,null,g.mode);return w.lanes=b,w.return=g,w}finally{}}}var Ya=Lf(!0),Hf=Lf(!1),aa=!1;function nr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ae&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=Qs(e),Ef(e,null,a),t}return Si(e,l,t,a),Qs(e)}function mn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,af(e,a)}}function fo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ic=!1;function xn(){if(ic){var e=pl;if(e!==null)throw e}}function gn(e,t,a,l){ic=!1;var s=e.updateQueue;aa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var r=c,u=r.next;r.next=null,o===null?i=u:o.next=u,o=r;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=r))}if(i!==null){var x=s.baseState;o=0,d=u=r=null,c=i;do{var f=c.lane&-536870913,m=f!==c.lane;if(m?(W&f)===f:(l&f)===f){f!==0&&f===Cl&&(ic=!0),d!==null&&(d=d.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var v=e,j=c;f=t;var M=a;switch(j.tag){case 1:if(v=j.payload,typeof v=="function"){x=v.call(M,x,f);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,f=typeof v=="function"?v.call(M,x,f):v,f==null)break e;x=be({},x,f);break e;case 2:aa=!0}}f=c.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=s.callbacks,m===null?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=m,r=x):d=d.next=m,o|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);d===null&&(r=x),s.baseState=r,s.firstBaseUpdate=u,s.lastBaseUpdate=d,i===null&&(s.shared.lanes=0),ka|=o,e.lanes=o,e.memoizedState=x}}function qf(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function If(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qf(a[e],t)}var Al=Ot(null),Ks=Ot(0);function Su(e,t){e=Ft,xe(Ks,e),xe(Al,t),Ft=e|t.baseLanes}function oc(){xe(Ks,Ft),xe(Al,Al.current)}function sr(){Ft=Ks.current,Re(Al),Re(Ks)}var ut=Ot(null),yt=null;function na(e){var t=e.alternate;xe(ke,ke.current&1),xe(ut,e),yt===null&&(t===null||Al.current!==null||t.memoizedState!==null)&&(yt=e)}function cc(e){xe(ke,ke.current),xe(ut,e),yt===null&&(yt=e)}function Yf(e){e.tag===22?(xe(ke,ke.current),xe(ut,e),yt===null&&(yt=e)):sa()}function sa(){xe(ke,ke.current),xe(ut,ut.current)}function at(e){Re(ut),yt===e&&(yt=null),Re(ke)}var ke=Ot(0);function $s(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ac(a)||Tc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jt=0,X=null,ue=null,Ae=null,Fs=!1,bl=!1,Va=!1,Ws=0,En=0,vl=null,eg=0;function Ne(){throw Error(k(321))}function ir(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!rt(e[a],t[a]))return!1;return!0}function or(e,t,a,l,s,i){return Jt=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?bh:yr,Va=!1,i=a(l,s),Va=!1,bl&&(i=Gf(t,a,l,s)),Vf(e),i}function Vf(e){Y.H=Dn;var t=ue!==null&&ue.next!==null;if(Jt=0,Ae=ue=X=null,Fs=!1,En=0,vl=null,t)throw Error(k(300));e===null||Ee||(e=e.dependencies,e!==null&&Zs(e)&&(Ee=!0))}function Gf(e,t,a,l){X=e;var s=0;do{if(bl&&(vl=null),En=0,bl=!1,25<=s)throw Error(k(301));if(s+=1,Ae=ue=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Y.H=vh,i=t(a,l)}while(bl);return i}function tg(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?Jn(t):t,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(X.flags|=1024),t}function cr(){var e=Ws!==0;return Ws=0,e}function rr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ur(e){if(Fs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fs=!1}Jt=0,Ae=ue=X=null,bl=!1,En=Ws=0,vl=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?X.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Ce(){if(ue===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=Ae===null?X.memoizedState:Ae.next;if(t!==null)Ae=t,ue=e;else{if(e===null)throw X.alternate===null?Error(k(467)):Error(k(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Ae===null?X.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ci(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jn(e){var t=En;return En+=1,vl===null&&(vl=[]),e=Rf(vl,e,t),t=X,(Ae===null?t.memoizedState:Ae.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?bh:yr),e}function Ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jn(e);if(e.$$typeof===It)return Ie(e)}throw Error(k(438,String(e)))}function dr(e){var t=null,a=X.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=X.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ci(),X.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=q0;return t.index++,a}function Kt(e,t){return typeof t=="function"?t(e):t}function Ms(e){var t=Ce();return fr(t,ue,e)}function fr(e,t,a){var l=e.queue;if(l===null)throw Error(k(311));l.lastRenderedReducer=a;var s=e.baseQueue,i=l.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,l.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var c=o=null,r=null,u=t,d=!1;do{var x=u.lane&-536870913;if(x!==u.lane?(W&x)===x:(Jt&x)===x){var f=u.revertLane;if(f===0)r!==null&&(r=r.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),x===Cl&&(d=!0);else if((Jt&f)===f){u=u.next,f===Cl&&(d=!0);continue}else x={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(c=r=x,o=i):r=r.next=x,X.lanes|=f,ka|=f;x=u.action,Va&&a(i,x),i=u.hasEagerState?u.eagerState:a(i,x)}else f={lane:x,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(c=r=f,o=i):r=r.next=f,X.lanes|=x,ka|=x;u=u.next}while(u!==null&&u!==t);if(r===null?o=i:r.next=c,!rt(i,e.memoizedState)&&(Ee=!0,d&&(a=pl,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=r,l.lastRenderedState=i}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ho(e){var t=Ce(),a=t.queue;if(a===null)throw Error(k(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);rt(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Qf(e,t,a){var l=X,s=Ce(),i=P;if(i){if(a===void 0)throw Error(k(407));a=a()}else a=t();var o=!rt((ue||s).memoizedState,a);if(o&&(s.memoizedState=a,Ee=!0),s=s.queue,hr(Jf.bind(null,l,s,e),[e]),s.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Tl(9,{destroy:void 0},Zf.bind(null,l,s,a,t),null),de===null)throw Error(k(349));i||Jt&127||Xf(l,t,a)}return a}function Xf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=X.updateQueue,t===null?(t=Ci(),X.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Zf(e,t,a,l){t.value=a,t.getSnapshot=l,Kf(t)&&$f(e)}function Jf(e,t,a){return a(function(){Kf(t)&&$f(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!rt(e,a)}catch{return!0}}function $f(e){var t=Ja(e,2);t!==null&&We(t,e,2)}function rc(e){var t=Ge();if(typeof e=="function"){var a=e;if(e=a(),Va){oa(!0);try{a()}finally{oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:e},t}function Ff(e,t,a,l){return e.baseState=a,fr(e,ue,typeof l=="function"?l:Kt)}function ag(e,t,a,l,s){if(Mi(e))throw Error(k(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Y.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Wf(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Wf(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var i=Y.T,o={};Y.T=o;try{var c=a(s,l),r=Y.S;r!==null&&r(o,c),ku(e,t,c)}catch(u){uc(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),Y.T=i}}else try{i=a(s,l),ku(e,t,i)}catch(u){uc(e,t,u)}}function ku(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cu(e,t,l)},function(l){return uc(e,t,l)}):Cu(e,t,a)}function Cu(e,t,a){t.status="fulfilled",t.value=a,Pf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wf(e,a)))}function uc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Pf(t),t=t.next;while(t!==l)}e.action=null}function Pf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function eh(e,t){return t}function Au(e,t){if(P){var a=de.formState;if(a!==null){e:{var l=X;if(P){if(pe){t:{for(var s=pe,i=pt;s.nodeType!==8;){if(!i){s=null;break t}if(s=bt(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){pe=bt(s.nextSibling),l=s.data==="F!";break e}}wa(l)}l=!1}l&&(t=a[0])}}return a=Ge(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:t},a.queue=l,a=gh.bind(null,X,l),l.dispatch=a,l=rc(!1),i=pr.bind(null,X,!1,l.queue),l=Ge(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=ag.bind(null,X,s,i,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function Tu(e){var t=Ce();return th(t,ue,e)}function th(e,t,a){if(t=fr(e,t,eh)[0],e=Ms(Kt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Jn(t)}catch(o){throw o===Yl?ki:o}else l=t;t=Ce();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(X.flags|=2048,Tl(9,{destroy:void 0},lg.bind(null,s,a),null)),[l,i,e]}function lg(e,t){e.action=t}function Mu(e){var t=Ce(),a=ue;if(a!==null)return th(t,a,e);Ce(),t=t.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Tl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=X.updateQueue,t===null&&(t=Ci(),X.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function ah(){return Ce().memoizedState}function Es(e,t,a,l){var s=Ge();X.flags|=e,s.memoizedState=Tl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ti(e,t,a,l){var s=Ce();l=l===void 0?null:l;var i=s.memoizedState.inst;ue!==null&&l!==null&&ir(l,ue.memoizedState.deps)?s.memoizedState=Tl(t,i,a,l):(X.flags|=e,s.memoizedState=Tl(1|t,i,a,l))}function Eu(e,t){Es(8390656,8,e,t)}function hr(e,t){Ti(2048,8,e,t)}function ng(e){X.flags|=4;var t=X.updateQueue;if(t===null)t=Ci(),X.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function lh(e){var t=Ce().memoizedState;return ng({ref:t,nextImpl:e}),function(){if(ae&2)throw Error(k(440));return t.impl.apply(void 0,arguments)}}function nh(e,t){return Ti(4,2,e,t)}function sh(e,t){return Ti(4,4,e,t)}function ih(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oh(e,t,a){a=a!=null?a.concat([e]):null,Ti(4,4,ih.bind(null,t,e),a)}function mr(){}function ch(e,t){var a=Ce();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&ir(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function rh(e,t){var a=Ce();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&ir(t,l[1]))return l[0];if(l=e(),Va){oa(!0);try{e()}finally{oa(!1)}}return a.memoizedState=[l,t],l}function xr(e,t,a){return a===void 0||Jt&1073741824&&!(W&261930)?e.memoizedState=t:(e.memoizedState=a,e=Fh(),X.lanes|=e,ka|=e,a)}function uh(e,t,a,l){return rt(a,t)?a:Al.current!==null?(e=xr(e,a,l),rt(e,t)||(Ee=!0),e):!(Jt&42)||Jt&1073741824&&!(W&261930)?(Ee=!0,e.memoizedState=a):(e=Fh(),X.lanes|=e,ka|=e,t)}function dh(e,t,a,l,s){var i=le.p;le.p=i!==0&&8>i?i:8;var o=Y.T,c={};Y.T=c,pr(e,!1,t,a);try{var r=s(),u=Y.S;if(u!==null&&u(c,r),r!==null&&typeof r=="object"&&typeof r.then=="function"){var d=Px(r,l);pn(e,t,d,ct(e))}else pn(e,t,l,ct(e))}catch(x){pn(e,t,{then:function(){},status:"rejected",reason:x},ct())}finally{le.p=i,o!==null&&c.types!==null&&(o.types=c.types),Y.T=o}}function sg(){}function dc(e,t,a,l){if(e.tag!==5)throw Error(k(476));var s=fh(e).queue;dh(e,s,t,Ba,a===null?sg:function(){return hh(e),a(l)})}function fh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ba,baseState:Ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:Ba},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hh(e){var t=fh(e);t.next===null&&(t=e.alternate.memoizedState),pn(e,t.next.queue,{},ct())}function gr(){return Ie(Bn)}function mh(){return Ce().memoizedState}function xh(){return Ce().memoizedState}function ig(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ct();e=ma(a);var l=xa(t,e,a);l!==null&&(We(l,t,a),mn(l,t,a)),t={cache:tr()},e.payload=t;return}t=t.return}}function og(e,t,a){var l=ct();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mi(e)?ph(t,a):(a=Fc(e,t,a,l),a!==null&&(We(a,e,l),yh(a,t,l)))}function gh(e,t,a){var l=ct();pn(e,t,a,l)}function pn(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mi(e))ph(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,a);if(s.hasEagerState=!0,s.eagerState=c,rt(c,o))return Si(e,t,s,0),de===null&&wi(),!1}catch{}finally{}if(a=Fc(e,t,s,l),a!==null)return We(a,e,l),yh(a,t,l),!0}return!1}function pr(e,t,a,l){if(l={lane:2,revertLane:Cr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mi(e)){if(t)throw Error(k(479))}else t=Fc(e,a,l,2),t!==null&&We(t,e,2)}function Mi(e){var t=e.alternate;return e===X||t!==null&&t===X}function ph(e,t){bl=Fs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function yh(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,af(e,a)}}var Dn={readContext:Ie,use:Ai,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne};Dn.useEffectEvent=Ne;var bh={readContext:Ie,use:Ai,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Ie,useEffect:Eu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Es(4194308,4,ih.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){Es(4,2,e,t)},useMemo:function(e,t){var a=Ge();t=t===void 0?null:t;var l=e();if(Va){oa(!0);try{e()}finally{oa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ge();if(a!==void 0){var s=a(t);if(Va){oa(!0);try{a(t)}finally{oa(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=og.bind(null,X,e),[l.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:function(e){e=rc(e);var t=e.queue,a=gh.bind(null,X,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:mr,useDeferredValue:function(e,t){var a=Ge();return xr(a,e,t)},useTransition:function(){var e=rc(!1);return e=dh.bind(null,X,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=X,s=Ge();if(P){if(a===void 0)throw Error(k(407));a=a()}else{if(a=t(),de===null)throw Error(k(349));W&127||Xf(l,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,Eu(Jf.bind(null,l,i,e),[e]),l.flags|=2048,Tl(9,{destroy:void 0},Zf.bind(null,l,i,a,t),null),a},useId:function(){var e=Ge(),t=de.identifierPrefix;if(P){var a=Tt,l=At;a=(l&~(1<<32-ot(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=eg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gr,useFormState:Au,useActionState:Au,useOptimistic:function(e){var t=Ge();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=pr.bind(null,X,!0,a),a.dispatch=t,[e,t]},useMemoCache:dr,useCacheRefresh:function(){return Ge().memoizedState=ig.bind(null,X)},useEffectEvent:function(e){var t=Ge(),a={impl:e};return t.memoizedState=a,function(){if(ae&2)throw Error(k(440));return a.impl.apply(void 0,arguments)}}},yr={readContext:Ie,use:Ai,useCallback:ch,useContext:Ie,useEffect:hr,useImperativeHandle:oh,useInsertionEffect:nh,useLayoutEffect:sh,useMemo:rh,useReducer:Ms,useRef:ah,useState:function(){return Ms(Kt)},useDebugValue:mr,useDeferredValue:function(e,t){var a=Ce();return uh(a,ue.memoizedState,e,t)},useTransition:function(){var e=Ms(Kt)[0],t=Ce().memoizedState;return[typeof e=="boolean"?e:Jn(e),t]},useSyncExternalStore:Qf,useId:mh,useHostTransitionStatus:gr,useFormState:Tu,useActionState:Tu,useOptimistic:function(e,t){var a=Ce();return Ff(a,ue,e,t)},useMemoCache:dr,useCacheRefresh:xh};yr.useEffectEvent=lh;var vh={readContext:Ie,use:Ai,useCallback:ch,useContext:Ie,useEffect:hr,useImperativeHandle:oh,useInsertionEffect:nh,useLayoutEffect:sh,useMemo:rh,useReducer:ho,useRef:ah,useState:function(){return ho(Kt)},useDebugValue:mr,useDeferredValue:function(e,t){var a=Ce();return ue===null?xr(a,e,t):uh(a,ue.memoizedState,e,t)},useTransition:function(){var e=ho(Kt)[0],t=Ce().memoizedState;return[typeof e=="boolean"?e:Jn(e),t]},useSyncExternalStore:Qf,useId:mh,useHostTransitionStatus:gr,useFormState:Mu,useActionState:Mu,useOptimistic:function(e,t){var a=Ce();return ue!==null?Ff(a,ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:dr,useCacheRefresh:xh};vh.useEffectEvent=lh;function mo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:be({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=ct(),s=ma(l);s.payload=t,a!=null&&(s.callback=a),t=xa(e,s,l),t!==null&&(We(t,e,l),mn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=ct(),s=ma(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=xa(e,s,l),t!==null&&(We(t,e,l),mn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ct(),l=ma(a);l.tag=2,t!=null&&(l.callback=t),t=xa(e,l,a),t!==null&&(We(t,e,a),mn(t,e,a))}};function Du(e,t,a,l,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!Cn(a,l)||!Cn(s,i):!0}function Ou(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&fc.enqueueReplaceState(t,t.state,null)}function Ga(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=be({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function jh(e){Gs(e)}function Nh(e){console.error(e)}function wh(e){Gs(e)}function Ps(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function zu(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function hc(e,t,a){return a=ma(a),a.tag=3,a.payload={element:null},a.callback=function(){Ps(e,t)},a}function Sh(e){return e=ma(e),e.tag=3,e}function kh(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=l.value;e.payload=function(){return s(i)},e.callback=function(){zu(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){zu(t,a,l),typeof s!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var c=l.stack;this.componentDidCatch(l.value,{componentStack:c!==null?c:""})})}function cg(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Il(t,a,s,!0),a=ut.current,a!==null){switch(a.tag){case 31:case 13:return yt===null?ni():a.alternate===null&&we===0&&(we=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===Js?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),ko(e,l,s)),!1;case 22:return a.flags|=65536,l===Js?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),ko(e,l,s)),!1}throw Error(k(435,a.tag))}return ko(e,l,s),ni(),!1}if(P)return t=ut.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==ec&&(e=Error(k(422),{cause:l}),Tn(gt(e,a)))):(l!==ec&&(t=Error(k(423),{cause:l}),Tn(gt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=gt(l,a),s=hc(e.stateNode,l,s),fo(e,s),we!==4&&(we=2)),!1;var i=Error(k(520),{cause:l});if(i=gt(i,a),vn===null?vn=[i]:vn.push(i),we!==4&&(we=2),t===null)return!0;l=gt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=hc(a.stateNode,l,e),fo(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ga===null||!ga.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Sh(s),kh(s,e,a,l),fo(a,s),!1}a=a.return}while(a!==null);return!1}var br=Error(k(461)),Ee=!1;function Le(e,t,a,l){t.child=e===null?Hf(t,null,a,l):Ya(t,e.child,a,l)}function Bu(e,t,a,l,s){a=a.render;var i=t.ref;if("ref"in l){var o={};for(var c in l)c!=="ref"&&(o[c]=l[c])}else o=l;return Ia(t),l=or(e,t,a,o,i,s),c=cr(),e!==null&&!Ee?(rr(e,t,s),$t(e,t,s)):(P&&c&&Pc(t),t.flags|=1,Le(e,t,l,s),t.child)}function _u(e,t,a,l,s){if(e===null){var i=a.type;return typeof i=="function"&&!Wc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Ch(e,t,i,l,s)):(e=As(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!vr(e,s)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:Cn,a(o,l)&&e.ref===t.ref)return $t(e,t,s)}return t.flags|=1,e=Gt(i,l),e.ref=t.ref,e.return=t,t.child=e}function Ch(e,t,a,l,s){if(e!==null){var i=e.memoizedProps;if(Cn(i,l)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=l=i,vr(e,s))e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,$t(e,t,s)}return mc(e,t,a,l,s)}function Ah(e,t,a,l){var s=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~i}else l=0,t.child=null;return Uu(e,t,i,a,l)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ts(t,i!==null?i.cachePool:null),i!==null?Su(t,i):oc(),Yf(t);else return l=t.lanes=536870912,Uu(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Ts(t,i.cachePool),Su(t,i),sa(),t.memoizedState=null):(e!==null&&Ts(t,null),oc(),sa());return Le(e,t,s,a),t.child}function on(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uu(e,t,a,l,s){var i=ar();return i=i===null?null:{parent:Me._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Ts(t,null),oc(),Yf(t),e!==null&&Il(e,t,l,!0),t.childLanes=s,null}function Ds(e,t){return t=ei({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ru(e,t,a){return Ya(t,e.child,null,a),e=Ds(t,t.pendingProps),e.flags|=2,at(t),t.memoizedState=null,e}function rg(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(P){if(l.mode==="hidden")return e=Ds(t,l),t.lanes=536870912,on(null,e);if(cc(t),(e=pe)?(e=bm(e,pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Na!==null?{id:At,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},a=Of(e),a.return=t,t.child=a,qe=t,pe=null)):e=null,e===null)throw wa(t);return t.lanes=536870912,null}return Ds(t,l)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(cc(t),s)if(t.flags&256)t.flags&=-257,t=Ru(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(k(558));else if(Ee||Il(e,t,a,!1),s=(a&e.childLanes)!==0,Ee||s){if(l=de,l!==null&&(o=lf(l,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,Ja(e,o),We(l,e,o),br;ni(),t=Ru(e,t,a)}else e=i.treeContext,pe=bt(o.nextSibling),qe=t,P=!0,ha=null,pt=!1,e!==null&&Bf(t,e),t=Ds(t,l),t.flags|=4096;return t}return e=Gt(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Os(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(k(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function mc(e,t,a,l,s){return Ia(t),a=or(e,t,a,l,void 0,s),l=cr(),e!==null&&!Ee?(rr(e,t,s),$t(e,t,s)):(P&&l&&Pc(t),t.flags|=1,Le(e,t,a,s),t.child)}function Lu(e,t,a,l,s,i){return Ia(t),t.updateQueue=null,a=Gf(t,l,a,s),Vf(e),l=cr(),e!==null&&!Ee?(rr(e,t,i),$t(e,t,i)):(P&&l&&Pc(t),t.flags|=1,Le(e,t,a,i),t.child)}function Hu(e,t,a,l,s){if(Ia(t),t.stateNode===null){var i=ul,o=a.contextType;typeof o=="object"&&o!==null&&(i=Ie(o)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=fc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},nr(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?Ie(o):ul,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(mo(t,a,o,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&fc.enqueueReplaceState(i,i.state,null),gn(t,l,i,s),xn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,r=Ga(a,c);i.props=r;var u=i.context,d=a.contextType;o=ul,typeof d=="object"&&d!==null&&(o=Ie(d));var x=a.getDerivedStateFromProps;d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||u!==o)&&Ou(t,i,l,o),aa=!1;var f=t.memoizedState;i.state=f,gn(t,l,i,s),xn(),u=t.memoizedState,c||f!==u||aa?(typeof x=="function"&&(mo(t,a,x,l),u=t.memoizedState),(r=aa||Du(t,a,r,l,f,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),i.props=l,i.state=u,i.context=o,l=r):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,sc(e,t),o=t.memoizedProps,d=Ga(a,o),i.props=d,x=t.pendingProps,f=i.context,u=a.contextType,r=ul,typeof u=="object"&&u!==null&&(r=Ie(u)),c=a.getDerivedStateFromProps,(u=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||f!==r)&&Ou(t,i,l,r),aa=!1,f=t.memoizedState,i.state=f,gn(t,l,i,s),xn();var m=t.memoizedState;o!==x||f!==m||aa||e!==null&&e.dependencies!==null&&Zs(e.dependencies)?(typeof c=="function"&&(mo(t,a,c,l),m=t.memoizedState),(d=aa||Du(t,a,d,l,f,m,r)||e!==null&&e.dependencies!==null&&Zs(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,m,r),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,m,r)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=m),i.props=l,i.state=m,i.context=r,l=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Os(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Ya(t,e.child,null,s),t.child=Ya(t,null,a,s)):Le(e,t,a,s),t.memoizedState=i.state,e=t.child):e=$t(e,t,s),e}function qu(e,t,a,l){return qa(),t.flags|=256,Le(e,t,a,l),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function go(e){return{baseLanes:e,cachePool:Uf()}}function po(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=nt),e}function Th(e,t,a){var l=t.pendingProps,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),o&&(s=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(P){if(s?na(t):sa(),(e=pe)?(e=bm(e,pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Na!==null?{id:At,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},a=Of(e),a.return=t,t.child=a,qe=t,pe=null)):e=null,e===null)throw wa(t);return Tc(e)?t.lanes=32:t.lanes=536870912,null}var c=l.children;return l=l.fallback,s?(sa(),s=t.mode,c=ei({mode:"hidden",children:c},s),l=_a(l,s,a,null),c.return=t,l.return=t,c.sibling=l,t.child=c,l=t.child,l.memoizedState=go(a),l.childLanes=po(e,o,a),t.memoizedState=xo,on(null,l)):(na(t),xc(t,c))}var r=e.memoizedState;if(r!==null&&(c=r.dehydrated,c!==null)){if(i)t.flags&256?(na(t),t.flags&=-257,t=yo(e,t,a)):t.memoizedState!==null?(sa(),t.child=e.child,t.flags|=128,t=null):(sa(),c=l.fallback,s=t.mode,l=ei({mode:"visible",children:l.children},s),c=_a(c,s,a,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,Ya(t,e.child,null,a),l=t.child,l.memoizedState=go(a),l.childLanes=po(e,o,a),t.memoizedState=xo,t=on(null,l));else if(na(t),Tc(c)){if(o=c.nextSibling&&c.nextSibling.dataset,o)var u=o.dgst;o=u,l=Error(k(419)),l.stack="",l.digest=o,Tn({value:l,source:null,stack:null}),t=yo(e,t,a)}else if(Ee||Il(e,t,a,!1),o=(a&e.childLanes)!==0,Ee||o){if(o=de,o!==null&&(l=lf(o,a),l!==0&&l!==r.retryLane))throw r.retryLane=l,Ja(e,l),We(o,e,l),br;Ac(c)||ni(),t=yo(e,t,a)}else Ac(c)?(t.flags|=192,t.child=e.child,t=null):(e=r.treeContext,pe=bt(c.nextSibling),qe=t,P=!0,ha=null,pt=!1,e!==null&&Bf(t,e),t=xc(t,l.children),t.flags|=4096);return t}return s?(sa(),c=l.fallback,s=t.mode,r=e.child,u=r.sibling,l=Gt(r,{mode:"hidden",children:l.children}),l.subtreeFlags=r.subtreeFlags&65011712,u!==null?c=Gt(u,c):(c=_a(c,s,a,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,on(null,l),l=t.child,c=e.child.memoizedState,c===null?c=go(a):(s=c.cachePool,s!==null?(r=Me._currentValue,s=s.parent!==r?{parent:r,pool:r}:s):s=Uf(),c={baseLanes:c.baseLanes|a,cachePool:s}),l.memoizedState=c,l.childLanes=po(e,o,a),t.memoizedState=xo,on(e.child,l)):(na(t),a=e.child,e=a.sibling,a=Gt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function xc(e,t){return t=ei({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ei(e,t){return e=lt(22,e,null,t),e.lanes=0,e}function yo(e,t,a){return Ya(t,e.child,null,a),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iu(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ac(e.return,t,a)}function bo(e,t,a,l,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=s,o.treeForkCount=i)}function Mh(e,t,a){var l=t.pendingProps,s=l.revealOrder,i=l.tail;l=l.children;var o=ke.current,c=(o&2)!==0;if(c?(o=o&1|2,t.flags|=128):o&=1,xe(ke,o),Le(e,t,l,a),l=P?An:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Iu(e,a,t);else if(e.tag===19)Iu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&$s(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),bo(t,!1,s,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$s(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}bo(t,!0,a,null,i,l);break;case"together":bo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function $t(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(a&t.childLanes))if(e!==null){if(Il(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,a=Gt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Gt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function vr(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Zs(e)))}function ug(e,t,a){switch(t.tag){case 3:qs(t,t.stateNode.containerInfo),la(t,Me,e.memoizedState.cache),qa();break;case 27:case 5:Vo(t);break;case 4:qs(t,t.stateNode.containerInfo);break;case 10:la(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,cc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(na(t),t.flags|=128,null):a&t.child.childLanes?Th(e,t,a):(na(t),e=$t(e,t,a),e!==null?e.sibling:null);na(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Il(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return Mh(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(ke,ke.current),l)break;return null;case 22:return t.lanes=0,Ah(e,t,a,t.pendingProps);case 24:la(t,Me,e.memoizedState.cache)}return $t(e,t,a)}function Eh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ee=!0;else{if(!vr(e,a)&&!(t.flags&128))return Ee=!1,ug(e,t,a);Ee=!!(e.flags&131072)}else Ee=!1,P&&t.flags&1048576&&zf(t,An,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Oa(t.elementType),t.type=e,typeof e=="function")Wc(e)?(l=Ga(e,l),t.tag=1,t=Hu(null,t,e,l,a)):(t.tag=0,t=mc(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===Lc){t.tag=11,t=Bu(null,t,e,l,a);break e}else if(s===Hc){t.tag=14,t=_u(null,t,e,l,a);break e}}throw t=Io(e)||e,Error(k(306,t,""))}}return t;case 0:return mc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=Ga(l,t.pendingProps),Hu(e,t,l,s,a);case 3:e:{if(qs(t,t.stateNode.containerInfo),e===null)throw Error(k(387));l=t.pendingProps;var i=t.memoizedState;s=i.element,sc(e,t),gn(t,l,null,a);var o=t.memoizedState;if(l=o.cache,la(t,Me,l),l!==i.cache&&lc(t,[Me],a,!0),xn(),l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=qu(e,t,l,a);break e}else if(l!==s){s=gt(Error(k(424)),t),Tn(s),t=qu(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=bt(e.firstChild),qe=t,P=!0,ha=null,pt=!0,a=Hf(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qa(),l===s){t=$t(e,t,a);break e}Le(e,t,l,a)}t=t.child}return t;case 26:return Os(e,t),e===null?(a=od(t.type,null,t.pendingProps,null))?t.memoizedState=a:P||(a=t.type,e=t.pendingProps,l=ci(fa.current).createElement(a),l[He]=t,l[Pe]=e,Ye(l,a,e),Ue(l),t.stateNode=l):t.memoizedState=od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vo(t),e===null&&P&&(l=t.stateNode=vm(t.type,t.pendingProps,fa.current),qe=t,pt=!0,s=pe,Ta(t.type)?(Mc=s,pe=bt(l.firstChild)):pe=s),Le(e,t,t.pendingProps.children,a),Os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&P&&((s=l=pe)&&(l=qg(l,t.type,t.pendingProps,pt),l!==null?(t.stateNode=l,qe=t,pe=bt(l.firstChild),pt=!1,s=!0):s=!1),s||wa(t)),Vo(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,kc(s,i)?l=null:o!==null&&kc(s,o)&&(t.flags|=32),t.memoizedState!==null&&(s=or(e,t,tg,null,null,a),Bn._currentValue=s),Os(e,t),Le(e,t,l,a),t.child;case 6:return e===null&&P&&((e=a=pe)&&(a=Ig(a,t.pendingProps,pt),a!==null?(t.stateNode=a,qe=t,pe=null,e=!0):e=!1),e||wa(t)),null;case 13:return Th(e,t,a);case 4:return qs(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ya(t,null,l,a):Le(e,t,l,a),t.child;case 11:return Bu(e,t,t.type,t.pendingProps,a);case 7:return Le(e,t,t.pendingProps,a),t.child;case 8:return Le(e,t,t.pendingProps.children,a),t.child;case 12:return Le(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,la(t,t.type,l.value),Le(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,Ia(t),s=Ie(s),l=l(s),t.flags|=1,Le(e,t,l,a),t.child;case 14:return _u(e,t,t.type,t.pendingProps,a);case 15:return Ch(e,t,t.type,t.pendingProps,a);case 19:return Mh(e,t,a);case 31:return rg(e,t,a);case 22:return Ah(e,t,a,t.pendingProps);case 24:return Ia(t),l=Ie(Me),e===null?(s=ar(),s===null&&(s=de,i=tr(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:l,cache:s},nr(t),la(t,Me,s)):(e.lanes&a&&(sc(e,t),gn(t,null,null,a),xn()),s=e.memoizedState,i=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),la(t,Me,l)):(l=i.cache,la(t,Me,l),l!==s.cache&&lc(t,[Me],a,!0))),Le(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function _t(e){e.flags|=4}function vo(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Ra=Js,lr}else e.flags&=-16777217}function Yu(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!wm(t))if(em())e.flags|=8192;else throw Ra=Js,lr}function xs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ef():536870912,e.lanes|=t,Ml|=t)}function Pl(e,t){if(!P)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function dg(e,t,a){var l=t.pendingProps;switch(er(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return ge(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Qt(Me),wl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?_t(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,uo())),ge(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(_t(t),i!==null?(ge(t),Yu(t,i)):(ge(t),vo(t,s,null,l,a))):i?i!==e.memoizedState?(_t(t),ge(t),Yu(t,i)):(ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&_t(t),ge(t),vo(t,s,e,l,a)),null;case 27:if(Is(t),a=fa.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_t(t);else{if(!l){if(t.stateNode===null)throw Error(k(166));return ge(t),null}e=Et.current,Fa(t)?pu(t):(e=vm(s,l,a),t.stateNode=e,_t(t))}return ge(t),null;case 5:if(Is(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&_t(t);else{if(!l){if(t.stateNode===null)throw Error(k(166));return ge(t),null}if(i=Et.current,Fa(t))pu(t);else{var o=ci(fa.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?o.createElement(s,{is:l.is}):o.createElement(s)}}i[He]=t,i[Pe]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ye(i,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_t(t)}}return ge(t),vo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&_t(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(k(166));if(e=fa.current,Fa(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=qe,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[He]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gm(e.nodeValue,a)),e||wa(t,!0)}else e=ci(e).createTextNode(l),e[He]=t,t.stateNode=e}return ge(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Fa(t),a!==null){if(e===null){if(!l)throw Error(k(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(557));e[He]=t}else qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),e=!1}else a=uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(at(t),t):(at(t),null);if(t.flags&128)throw Error(k(558))}return ge(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Fa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[He]=t}else qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),s=!1}else s=uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(at(t),t):(at(t),null)}return at(t),t.flags&128?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),xs(t,t.updateQueue),ge(t),null);case 4:return wl(),e===null&&Ar(t.stateNode.containerInfo),ge(t),null;case 10:return Qt(t.type),ge(t),null;case 19:if(Re(ke),l=t.memoizedState,l===null)return ge(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)Pl(l,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=$s(e),i!==null){for(t.flags|=128,Pl(l,!1),e=i.updateQueue,t.updateQueue=e,xs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Df(a,e),a=a.sibling;return xe(ke,ke.current&1|2),P&&Ht(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&st()>ai&&(t.flags|=128,s=!0,Pl(l,!1),t.lanes=4194304)}else{if(!s)if(e=$s(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,xs(t,e),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!P)return ge(t),null}else 2*st()-l.renderingStartTime>ai&&a!==536870912&&(t.flags|=128,s=!0,Pl(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=st(),e.sibling=null,a=ke.current,xe(ke,s?a&1|2:a&1),P&&Ht(t,l.treeForkCount),e):(ge(t),null);case 22:case 23:return at(t),sr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),a=t.updateQueue,a!==null&&xs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Re(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qt(Me),ge(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function fg(e,t){switch(er(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qt(Me),wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Is(t),null;case 31:if(t.memoizedState!==null){if(at(t),t.alternate===null)throw Error(k(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(at(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(ke),null;case 4:return wl(),null;case 10:return Qt(t.type),null;case 22:case 23:return at(t),sr(),e!==null&&Re(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qt(Me),null;case 25:return null;default:return null}}function Dh(e,t){switch(er(t),t.tag){case 3:Qt(Me),wl();break;case 26:case 27:case 5:Is(t);break;case 4:wl();break;case 31:t.memoizedState!==null&&at(t);break;case 13:at(t);break;case 19:Re(ke);break;case 10:Qt(t.type);break;case 22:case 23:at(t),sr(),e!==null&&Re(Ua);break;case 24:Qt(Me)}}function Kn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var i=a.create,o=a.inst;l=i(),o.destroy=l}a=a.next}while(a!==s)}}catch(c){oe(t,t.return,c)}}function Sa(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var i=s.next;l=i;do{if((l.tag&e)===e){var o=l.inst,c=o.destroy;if(c!==void 0){o.destroy=void 0,s=t;var r=a,u=c;try{u()}catch(d){oe(s,r,d)}}}l=l.next}while(l!==i)}}catch(d){oe(t,t.return,d)}}function Oh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{If(t,a)}catch(l){oe(e,e.return,l)}}}function zh(e,t,a){a.props=Ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){oe(e,t,l)}}function yn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){oe(e,t,s)}}function Mt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){oe(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){oe(e,t,s)}else a.current=null}function Bh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){oe(e,e.return,s)}}function jo(e,t,a){try{var l=e.stateNode;Bg(l,e.type,a,t),l[Pe]=t}catch(s){oe(e,e.return,s)}}function _h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ta(e.type)||e.tag===4}function No(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Yt));else if(l!==4&&(l===27&&Ta(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(gc(e,t,a),e=e.sibling;e!==null;)gc(e,t,a),e=e.sibling}function ti(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ta(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ti(e,t,a),e=e.sibling;e!==null;)ti(e,t,a),e=e.sibling}function Uh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ye(t,l,a),t[He]=e,t[Pe]=a}catch(i){oe(e,e.return,i)}}var qt=!1,Te=!1,wo=!1,Vu=typeof WeakSet=="function"?WeakSet:Set,_e=null;function hg(e,t){if(e=e.containerInfo,wc=fi,e=wf(e),Kc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,c=-1,r=-1,u=0,d=0,x=e,f=null;t:for(;;){for(var m;x!==a||s!==0&&x.nodeType!==3||(c=o+s),x!==i||l!==0&&x.nodeType!==3||(r=o+l),x.nodeType===3&&(o+=x.nodeValue.length),(m=x.firstChild)!==null;)f=x,x=m;for(;;){if(x===e)break t;if(f===a&&++u===s&&(c=o),f===i&&++d===l&&(r=o),(m=x.nextSibling)!==null)break;x=f,f=x.parentNode}x=m}a=c===-1||r===-1?null:{start:c,end:r}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sc={focusedElem:e,selectionRange:a},fi=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){switch(t=_e,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var v=Ga(a.type,s);e=l.getSnapshotBeforeUpdate(v,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(j){oe(a,a.return,j)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Cc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}}function Rh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rt(e,a),l&4&&Kn(5,a);break;case 1:if(Rt(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){oe(a,a.return,o)}else{var s=Ga(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){oe(a,a.return,o)}}l&64&&Oh(a),l&512&&yn(a,a.return);break;case 3:if(Rt(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{If(e,t)}catch(o){oe(a,a.return,o)}}break;case 27:t===null&&l&4&&Uh(a);case 26:case 5:Rt(e,a),t===null&&l&4&&Bh(a),l&512&&yn(a,a.return);break;case 12:Rt(e,a);break;case 31:Rt(e,a),l&4&&qh(e,a);break;case 13:Rt(e,a),l&4&&Ih(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ng.bind(null,a),Yg(e,a))));break;case 22:if(l=a.memoizedState!==null||qt,!l){t=t!==null&&t.memoizedState!==null||Te,s=qt;var i=Te;qt=l,(Te=t)&&!i?Lt(e,a,(a.subtreeFlags&8772)!==0):Rt(e,a),qt=s,Te=i}break;case 30:break;default:Rt(e,a)}}function Lh(e){var t=e.alternate;t!==null&&(e.alternate=null,Lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,$e=!1;function Ut(e,t,a){for(a=a.child;a!==null;)Hh(e,t,a),a=a.sibling}function Hh(e,t,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Te||Mt(a,t),Ut(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Te||Mt(a,t);var l=je,s=$e;Ta(a.type)&&(je=a.stateNode,$e=!1),Ut(e,t,a),Nn(a.stateNode),je=l,$e=s;break;case 5:Te||Mt(a,t);case 6:if(l=je,s=$e,je=null,Ut(e,t,a),je=l,$e=s,je!==null)if($e)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(a.stateNode)}catch(i){oe(a,t,i)}else try{je.removeChild(a.stateNode)}catch(i){oe(a,t,i)}break;case 18:je!==null&&($e?(e=je,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zl(e)):ad(je,a.stateNode));break;case 4:l=je,s=$e,je=a.stateNode.containerInfo,$e=!0,Ut(e,t,a),je=l,$e=s;break;case 0:case 11:case 14:case 15:Sa(2,a,t),Te||Sa(4,a,t),Ut(e,t,a);break;case 1:Te||(Mt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zh(a,t,l)),Ut(e,t,a);break;case 21:Ut(e,t,a);break;case 22:Te=(l=Te)||a.memoizedState!==null,Ut(e,t,a),Te=l;break;default:Ut(e,t,a)}}function qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zl(e)}catch(a){oe(t,t.return,a)}}}function Ih(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zl(e)}catch(a){oe(t,t.return,a)}}function mg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vu),t;default:throw Error(k(435,e.tag))}}function gs(e,t){var a=mg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=wg.bind(null,e,l);l.then(s,s)}})}function Je(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 27:if(Ta(c.type)){je=c.stateNode,$e=!1;break e}break;case 5:je=c.stateNode,$e=!1;break e;case 3:case 4:je=c.stateNode.containerInfo,$e=!0;break e}c=c.return}if(je===null)throw Error(k(160));Hh(i,o,s),je=null,$e=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}var St=null;function Yh(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Je(t,e),Ke(e),l&4&&(Sa(3,e,e.return),Kn(3,e),Sa(5,e,e.return));break;case 1:Je(t,e),Ke(e),l&512&&(Te||a===null||Mt(a,a.return)),l&64&&qt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=St;if(Je(t,e),Ke(e),l&512&&(Te||a===null||Mt(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Qn]||i[He]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(l),s.head.insertBefore(i,s.querySelector("head > title"))),Ye(i,l,a),i[He]=e,Ue(i),l=i;break e;case"link":var o=rd("link","href",s).get(l+(a.href||""));if(o){for(var c=0;c<o.length;c++)if(i=o[c],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(c,1);break t}}i=s.createElement(l),Ye(i,l,a),s.head.appendChild(i);break;case"meta":if(o=rd("meta","content",s).get(l+(a.content||""))){for(c=0;c<o.length;c++)if(i=o[c],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(c,1);break t}}i=s.createElement(l),Ye(i,l,a),s.head.appendChild(i);break;default:throw Error(k(468,l))}i[He]=e,Ue(i),l=i}e.stateNode=l}else ud(s,e.type,e.stateNode);else e.stateNode=cd(s,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?ud(s,e.type,e.stateNode):cd(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Je(t,e),Ke(e),l&512&&(Te||a===null||Mt(a,a.return)),a!==null&&l&4&&jo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Je(t,e),Ke(e),l&512&&(Te||a===null||Mt(a,a.return)),e.flags&32){s=e.stateNode;try{kl(s,"")}catch(v){oe(e,e.return,v)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,jo(e,s,a!==null?a.memoizedProps:s)),l&1024&&(wo=!0);break;case 6:if(Je(t,e),Ke(e),l&4){if(e.stateNode===null)throw Error(k(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(v){oe(e,e.return,v)}}break;case 3:if(_s=null,s=St,St=ri(t.containerInfo),Je(t,e),St=s,Ke(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch(v){oe(e,e.return,v)}wo&&(wo=!1,Vh(e));break;case 4:l=St,St=ri(e.stateNode.containerInfo),Je(t,e),Ke(e),St=l;break;case 12:Je(t,e),Ke(e);break;case 31:Je(t,e),Ke(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gs(e,l)));break;case 13:Je(t,e),Ke(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ei=st()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gs(e,l)));break;case 22:s=e.memoizedState!==null;var r=a!==null&&a.memoizedState!==null,u=qt,d=Te;if(qt=u||s,Te=d||r,Je(t,e),Te=d,qt=u,Ke(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||r||qt||Te||za(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){r=a=t;try{if(i=r.stateNode,s)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{c=r.stateNode;var x=r.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null;c.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){oe(r,r.return,v)}}}else if(t.tag===6){if(a===null){r=t;try{r.stateNode.nodeValue=s?"":r.memoizedProps}catch(v){oe(r,r.return,v)}}}else if(t.tag===18){if(a===null){r=t;try{var m=r.stateNode;s?ld(m,!0):ld(r.stateNode,!1)}catch(v){oe(r,r.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gs(e,a))));break;case 19:Je(t,e),Ke(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gs(e,l)));break;case 30:break;case 21:break;default:Je(t,e),Ke(e)}}function Ke(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(_h(l)){a=l;break}l=l.return}if(a==null)throw Error(k(160));switch(a.tag){case 27:var s=a.stateNode,i=No(e);ti(e,i,s);break;case 5:var o=a.stateNode;a.flags&32&&(kl(o,""),a.flags&=-33);var c=No(e);ti(e,c,o);break;case 3:case 4:var r=a.stateNode.containerInfo,u=No(e);gc(e,u,r);break;default:throw Error(k(161))}}catch(d){oe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rh(e,t.alternate,t),t=t.sibling}function za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sa(4,t,t.return),za(t);break;case 1:Mt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&zh(t,t.return,a),za(t);break;case 27:Nn(t.stateNode);case 26:case 5:Mt(t,t.return),za(t);break;case 22:t.memoizedState===null&&za(t);break;case 30:za(t);break;default:za(t)}e=e.sibling}}function Lt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Lt(s,i,a),Kn(4,i);break;case 1:if(Lt(s,i,a),l=i,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){oe(l,l.return,u)}if(l=i,s=l.updateQueue,s!==null){var c=l.stateNode;try{var r=s.shared.hiddenCallbacks;if(r!==null)for(s.shared.hiddenCallbacks=null,s=0;s<r.length;s++)qf(r[s],c)}catch(u){oe(l,l.return,u)}}a&&o&64&&Oh(i),yn(i,i.return);break;case 27:Uh(i);case 26:case 5:Lt(s,i,a),a&&l===null&&o&4&&Bh(i),yn(i,i.return);break;case 12:Lt(s,i,a);break;case 31:Lt(s,i,a),a&&o&4&&qh(s,i);break;case 13:Lt(s,i,a),a&&o&4&&Ih(s,i);break;case 22:i.memoizedState===null&&Lt(s,i,a),yn(i,i.return);break;case 30:break;default:Lt(s,i,a)}t=t.sibling}}function jr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zn(a))}function Nr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zn(e))}function wt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gh(e,t,a,l),t=t.sibling}function Gh(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:wt(e,t,a,l),s&2048&&Kn(9,t);break;case 1:wt(e,t,a,l);break;case 3:wt(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zn(e)));break;case 12:if(s&2048){wt(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,c=i.onPostCommit;typeof c=="function"&&c(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(r){oe(t,t.return,r)}}else wt(e,t,a,l);break;case 31:wt(e,t,a,l);break;case 13:wt(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?wt(e,t,a,l):bn(e,t):i._visibility&2?wt(e,t,a,l):(i._visibility|=2,el(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&jr(o,t);break;case 24:wt(e,t,a,l),s&2048&&Nr(t.alternate,t);break;default:wt(e,t,a,l)}}function el(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,c=a,r=l,u=o.flags;switch(o.tag){case 0:case 11:case 15:el(i,o,c,r,s),Kn(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?el(i,o,c,r,s):bn(i,o):(d._visibility|=2,el(i,o,c,r,s)),s&&u&2048&&jr(o.alternate,o);break;case 24:el(i,o,c,r,s),s&&u&2048&&Nr(o.alternate,o);break;default:el(i,o,c,r,s)}t=t.sibling}}function bn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:bn(a,l),s&2048&&jr(l.alternate,l);break;case 24:bn(a,l),s&2048&&Nr(l.alternate,l);break;default:bn(a,l)}t=t.sibling}}var cn=8192;function Wa(e,t,a){if(e.subtreeFlags&cn)for(e=e.child;e!==null;)Qh(e,t,a),e=e.sibling}function Qh(e,t,a){switch(e.tag){case 26:Wa(e,t,a),e.flags&cn&&e.memoizedState!==null&&ep(a,St,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,t,a);break;case 3:case 4:var l=St;St=ri(e.stateNode.containerInfo),Wa(e,t,a),St=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=cn,cn=16777216,Wa(e,t,a),cn=l):Wa(e,t,a));break;default:Wa(e,t,a)}}function Xh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function en(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];_e=l,Jh(l,e)}Xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zh(e),e=e.sibling}function Zh(e){switch(e.tag){case 0:case 11:case 15:en(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:en(e);break;case 12:en(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zs(e)):en(e);break;default:en(e)}}function zs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];_e=l,Jh(l,e)}Xh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sa(8,t,t.return),zs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,zs(t));break;default:zs(t)}e=e.sibling}}function Jh(e,t){for(;_e!==null;){var a=_e;switch(a.tag){case 0:case 11:case 15:Sa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,_e=l;else e:for(a=e;_e!==null;){l=_e;var s=l.sibling,i=l.return;if(Lh(l),l===a){_e=null;break e}if(s!==null){s.return=i,_e=s;break e}_e=i}}}var xg={getCacheForType:function(e){var t=Ie(Me),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ie(Me).controller.signal}},gg=typeof WeakMap=="function"?WeakMap:Map,ae=0,de=null,F=null,W=0,ie=0,tt=null,ra=!1,Vl=!1,wr=!1,Ft=0,we=0,ka=0,La=0,Sr=0,nt=0,Ml=0,vn=null,Fe=null,pc=!1,Ei=0,Kh=0,ai=1/0,li=null,ga=null,De=0,pa=null,El=null,Xt=0,yc=0,bc=null,$h=null,jn=0,vc=null;function ct(){return ae&2&&W!==0?W&-W:Y.T!==null?Cr():nf()}function Fh(){if(nt===0)if(!(W&536870912)||P){var e=cs;cs<<=1,!(cs&3932160)&&(cs=262144),nt=e}else nt=536870912;return e=ut.current,e!==null&&(e.flags|=32),nt}function We(e,t,a){(e===de&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(Dl(e,0),ua(e,W,nt,!1)),Gn(e,a),(!(ae&2)||e!==de)&&(e===de&&(!(ae&2)&&(La|=a),we===4&&ua(e,W,nt,!1)),zt(e))}function Wh(e,t,a){if(ae&6)throw Error(k(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Vn(e,t),s=l?bg(e,t):So(e,t,!0),i=l;do{if(s===0){Vl&&!l&&ua(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!pg(a)){s=So(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var c=e;s=vn;var r=c.current.memoizedState.isDehydrated;if(r&&(Dl(c,o).flags|=256),o=So(c,o,!1),o!==2){if(wr&&!r){c.errorRecoveryDisabledLanes|=i,La|=i,s=4;break e}i=Fe,Fe=s,i!==null&&(Fe===null?Fe=i:Fe.push.apply(Fe,i))}s=o}if(i=!1,s!==2)continue}}if(s===1){Dl(e,0),ua(e,t,0,!0);break}e:{switch(l=e,i=s,i){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:ua(l,t,nt,!ra);break e;case 2:Fe=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(s=Ei+300-st(),10<s)){if(ua(l,t,nt,!ra),bi(l,0,!0)!==0)break e;Xt=t,l.timeoutHandle=ym(Gu.bind(null,l,a,Fe,li,pc,t,nt,La,Ml,ra,i,"Throttled",-0,0),s);break e}Gu(l,a,Fe,li,pc,t,nt,La,Ml,ra,i,null,-0,0)}}break}while(1);zt(e)}function Gu(e,t,a,l,s,i,o,c,r,u,d,x,f,m){if(e.timeoutHandle=-1,x=t.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},Qh(t,i,x);var v=(i&62914560)===i?Ei-st():(i&4194048)===i?Kh-st():0;if(v=tp(x,v),v!==null){Xt=i,e.cancelPendingCommit=v(Xu.bind(null,e,t,i,a,l,s,o,c,r,d,x,null,f,m)),ua(e,i,o,!u);return}}Xu(e,t,i,a,l,s,o,c,r)}function pg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t,a,l){t&=~Sr,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var i=31-ot(s),o=1<<i;l[i]=-1,s&=~o}a!==0&&tf(e,a,t)}function Di(){return ae&6?!0:($n(0,!1),!1)}function kr(){if(F!==null){if(ie===0)var e=F.return;else e=F,Vt=Ka=null,ur(e),yl=null,Mn=0,e=F;for(;e!==null;)Dh(e.alternate,e),e=e.return;F=null}}function Dl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xt=0,kr(),de=e,F=a=Gt(e.current,null),W=t,ie=0,tt=null,ra=!1,Vl=Vn(e,t),wr=!1,Ml=nt=Sr=La=ka=we=0,Fe=vn=null,pc=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-ot(l),i=1<<s;t|=e[s],l&=~i}return Ft=t,wi(),a}function Ph(e,t){X=null,Y.H=Dn,t===Yl||t===ki?(t=Nu(),ie=3):t===lr?(t=Nu(),ie=4):ie=t===br?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tt=t,F===null&&(we=1,Ps(e,gt(t,e.current)))}function em(){var e=ut.current;return e===null?!0:(W&4194048)===W?yt===null:(W&62914560)===W||W&536870912?e===yt:!1}function tm(){var e=Y.H;return Y.H=Dn,e===null?Dn:e}function am(){var e=Y.A;return Y.A=xg,e}function ni(){we=4,ra||(W&4194048)!==W&&ut.current!==null||(Vl=!0),!(ka&134217727)&&!(La&134217727)||de===null||ua(de,W,nt,!1)}function So(e,t,a){var l=ae;ae|=2;var s=tm(),i=am();(de!==e||W!==t)&&(li=null,Dl(e,t)),t=!1;var o=we;e:do try{if(ie!==0&&F!==null){var c=F,r=tt;switch(ie){case 8:kr(),o=6;break e;case 3:case 2:case 9:case 6:ut.current===null&&(t=!0);var u=ie;if(ie=0,tt=null,hl(e,c,r,u),a&&Vl){o=0;break e}break;default:u=ie,ie=0,tt=null,hl(e,c,r,u)}}yg(),o=we;break}catch(d){Ph(e,d)}while(1);return t&&e.shellSuspendCounter++,Vt=Ka=null,ae=l,Y.H=s,Y.A=i,F===null&&(de=null,W=0,wi()),o}function yg(){for(;F!==null;)lm(F)}function bg(e,t){var a=ae;ae|=2;var l=tm(),s=am();de!==e||W!==t?(li=null,ai=st()+500,Dl(e,t)):Vl=Vn(e,t);e:do try{if(ie!==0&&F!==null){t=F;var i=tt;t:switch(ie){case 1:ie=0,tt=null,hl(e,t,i,1);break;case 2:case 9:if(ju(i)){ie=0,tt=null,Qu(t);break}t=function(){ie!==2&&ie!==9||de!==e||(ie=7),zt(e)},i.then(t,t);break e;case 3:ie=7;break e;case 4:ie=5;break e;case 7:ju(i)?(ie=0,tt=null,Qu(t)):(ie=0,tt=null,hl(e,t,i,7));break;case 5:var o=null;switch(F.tag){case 26:o=F.memoizedState;case 5:case 27:var c=F;if(o?wm(o):c.stateNode.complete){ie=0,tt=null;var r=c.sibling;if(r!==null)F=r;else{var u=c.return;u!==null?(F=u,Oi(u)):F=null}break t}}ie=0,tt=null,hl(e,t,i,5);break;case 6:ie=0,tt=null,hl(e,t,i,6);break;case 8:kr(),we=6;break e;default:throw Error(k(462))}}vg();break}catch(d){Ph(e,d)}while(1);return Vt=Ka=null,Y.H=l,Y.A=s,ae=a,F!==null?0:(de=null,W=0,wi(),we)}function vg(){for(;F!==null&&!V0();)lm(F)}function lm(e){var t=Eh(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Oi(e):F=t}function Qu(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Lu(a,t,t.pendingProps,t.type,void 0,W);break;case 11:t=Lu(a,t,t.pendingProps,t.type.render,t.ref,W);break;case 5:ur(t);default:Dh(a,t),t=F=Df(t,Ft),t=Eh(a,t,Ft)}e.memoizedProps=e.pendingProps,t===null?Oi(e):F=t}function hl(e,t,a,l){Vt=Ka=null,ur(t),yl=null,Mn=0;var s=t.return;try{if(cg(e,s,t,a,W)){we=1,Ps(e,gt(a,e.current)),F=null;return}}catch(i){if(s!==null)throw F=s,i;we=1,Ps(e,gt(a,e.current)),F=null;return}t.flags&32768?(P||l===1?e=!0:Vl||W&536870912?e=!1:(ra=e=!0,(l===2||l===9||l===3||l===6)&&(l=ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),nm(t,e)):Oi(t)}function Oi(e){var t=e;do{if(t.flags&32768){nm(t,ra);return}e=t.return;var a=dg(t.alternate,t,Ft);if(a!==null){F=a;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);we===0&&(we=5)}function nm(e,t){do{var a=fg(e.alternate,e);if(a!==null){a.flags&=32767,F=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=a}while(e!==null);we=6,F=null}function Xu(e,t,a,l,s,i,o,c,r){e.cancelPendingCommit=null;do zi();while(De!==0);if(ae&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(i=t.lanes|t.childLanes,i|=$c,P0(e,a,i,o,c,r),e===de&&(F=de=null,W=0),El=t,pa=e,Xt=a,yc=i,bc=s,$h=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Sg(Ys,function(){return rm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=Y.T,Y.T=null,s=le.p,le.p=2,o=ae,ae|=4;try{hg(e,t,a)}finally{ae=o,le.p=s,Y.T=l}}De=1,sm(),im(),om()}}function sm(){if(De===1){De=0;var e=pa,t=El,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var s=ae;ae|=4;try{Yh(t,e);var i=Sc,o=wf(e.containerInfo),c=i.focusedElem,r=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Nf(c.ownerDocument.documentElement,c)){if(r!==null&&Kc(c)){var u=r.start,d=r.end;if(d===void 0&&(d=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(d,c.value.length);else{var x=c.ownerDocument||document,f=x&&x.defaultView||window;if(f.getSelection){var m=f.getSelection(),v=c.textContent.length,j=Math.min(r.start,v),M=r.end===void 0?j:Math.min(r.end,v);!m.extend&&j>M&&(o=M,M=j,j=o);var g=mu(c,j),h=mu(c,M);if(g&&h&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==h.node||m.focusOffset!==h.offset)){var p=x.createRange();p.setStart(g.node,g.offset),m.removeAllRanges(),j>M?(m.addRange(p),m.extend(h.node,h.offset)):(p.setEnd(h.node,h.offset),m.addRange(p))}}}}for(x=[],m=c;m=m.parentNode;)m.nodeType===1&&x.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<x.length;c++){var b=x[c];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}fi=!!wc,Sc=wc=null}finally{ae=s,le.p=l,Y.T=a}}e.current=t,De=2}}function im(){if(De===2){De=0;var e=pa,t=El,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var s=ae;ae|=4;try{Rh(e,t.alternate,t)}finally{ae=s,le.p=l,Y.T=a}}De=3}}function om(){if(De===4||De===3){De=0,G0();var e=pa,t=El,a=Xt,l=$h;t.subtreeFlags&10256||t.flags&10256?De=5:(De=0,El=pa=null,cm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ga=null),Yc(a),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Yn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Y.T,s=le.p,le.p=2,Y.T=null;try{for(var i=e.onRecoverableError,o=0;o<l.length;o++){var c=l[o];i(c.value,{componentStack:c.stack})}}finally{Y.T=t,le.p=s}}Xt&3&&zi(),zt(e),s=e.pendingLanes,a&261930&&s&42?e===vc?jn++:(jn=0,vc=e):jn=0,$n(0,!1)}}function cm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zn(t)))}function zi(){return sm(),im(),om(),rm()}function rm(){if(De!==5)return!1;var e=pa,t=yc;yc=0;var a=Yc(Xt),l=Y.T,s=le.p;try{le.p=32>a?32:a,Y.T=null,a=bc,bc=null;var i=pa,o=Xt;if(De=0,El=pa=null,Xt=0,ae&6)throw Error(k(331));var c=ae;if(ae|=4,Zh(i.current),Gh(i,i.current,o,a),ae=c,$n(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Yn,i)}catch{}return!0}finally{le.p=s,Y.T=l,cm(e,t)}}function Zu(e,t,a){t=gt(a,t),t=hc(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(Gn(e,2),zt(e))}function oe(e,t,a){if(e.tag===3)Zu(e,e,a);else for(;t!==null;){if(t.tag===3){Zu(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){e=gt(a,e),a=Sh(2),l=xa(t,a,2),l!==null&&(kh(a,l,t,e),Gn(l,2),zt(l));break}}t=t.return}}function ko(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new gg;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(wr=!0,s.add(a),e=jg.bind(null,e,t,a),t.then(e,e))}function jg(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(W&a)===a&&(we===4||we===3&&(W&62914560)===W&&300>st()-Ei?!(ae&2)&&Dl(e,0):Sr|=a,Ml===W&&(Ml=0)),zt(e)}function um(e,t){t===0&&(t=ef()),e=Ja(e,t),e!==null&&(Gn(e,t),zt(e))}function Ng(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),um(e,a)}function wg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(k(314))}l!==null&&l.delete(t),um(e,a)}function Sg(e,t){return qc(e,t)}var si=null,tl=null,jc=!1,ii=!1,Co=!1,da=0;function zt(e){e!==tl&&e.next===null&&(tl===null?si=tl=e:tl=tl.next=e),ii=!0,jc||(jc=!0,Cg())}function $n(e,t){if(!Co&&ii){Co=!0;do for(var a=!1,l=si;l!==null;){if(!t)if(e!==0){var s=l.pendingLanes;if(s===0)var i=0;else{var o=l.suspendedLanes,c=l.pingedLanes;i=(1<<31-ot(42|e)+1)-1,i&=s&~(o&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Ju(l,i))}else i=W,i=bi(l,l===de?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(i&3)||Vn(l,i)||(a=!0,Ju(l,i));l=l.next}while(a);Co=!1}}function kg(){dm()}function dm(){ii=jc=!1;var e=0;da!==0&&Ug()&&(e=da);for(var t=st(),a=null,l=si;l!==null;){var s=l.next,i=fm(l,t);i===0?(l.next=null,a===null?si=s:a.next=s,s===null&&(tl=a)):(a=l,(e!==0||i&3)&&(ii=!0)),l=s}De!==0&&De!==5||$n(e,!1),da!==0&&(da=0)}function fm(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-ot(i),c=1<<o,r=s[o];r===-1?(!(c&a)||c&l)&&(s[o]=W0(c,t)):r<=t&&(e.expiredLanes|=c),i&=~c}if(t=de,a=W,a=bi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Pi(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Vn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Pi(l),Yc(a)){case 2:case 8:a=Wd;break;case 32:a=Ys;break;case 268435456:a=Pd;break;default:a=Ys}return l=hm.bind(null,e),a=qc(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Pi(l),e.callbackPriority=2,e.callbackNode=null,2}function hm(e,t){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zi()&&e.callbackNode!==a)return null;var l=W;return l=bi(e,e===de?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Wh(e,l,t),fm(e,st()),e.callbackNode!=null&&e.callbackNode===a?hm.bind(null,e):null)}function Ju(e,t){if(zi())return null;Wh(e,t,!0)}function Cg(){Lg(function(){ae&6?qc(Fd,kg):dm()})}function Cr(){if(da===0){var e=Cl;e===0&&(e=os,os<<=1,!(os&261888)&&(os=256)),da=e}return da}function Ku(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function $u(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Ag(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var i=Ku((s[Pe]||null).action),o=l.submitter;o&&(t=(t=o[Pe]||null)?Ku(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var c=new vi("action","action",null,l,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var r=o?$u(s,o):new FormData(s);dc(a,{pending:!0,data:r,method:s.method,action:i},null,r)}}else typeof i=="function"&&(c.preventDefault(),r=o?$u(s,o):new FormData(s),dc(a,{pending:!0,data:r,method:s.method,action:i},i,r))},currentTarget:s}]})}}for(var Ao=0;Ao<Po.length;Ao++){var To=Po[Ao],Tg=To.toLowerCase(),Mg=To[0].toUpperCase()+To.slice(1);kt(Tg,"on"+Mg)}kt(kf,"onAnimationEnd");kt(Cf,"onAnimationIteration");kt(Af,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(Qx,"onTransitionRun");kt(Xx,"onTransitionStart");kt(Zx,"onTransitionCancel");kt(Tf,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(On));function mm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var c=l[o],r=c.instance,u=c.currentTarget;if(c=c.listener,r!==i&&s.isPropagationStopped())break e;i=c,s.currentTarget=u;try{i(s)}catch(d){Gs(d)}s.currentTarget=null,i=r}else for(o=0;o<l.length;o++){if(c=l[o],r=c.instance,u=c.currentTarget,c=c.listener,r!==i&&s.isPropagationStopped())break e;i=c,s.currentTarget=u;try{i(s)}catch(d){Gs(d)}s.currentTarget=null,i=r}}}}function $(e,t){var a=t[Qo];a===void 0&&(a=t[Qo]=new Set);var l=e+"__bubble";a.has(l)||(xm(t,e,2,!1),a.add(l))}function Mo(e,t,a){var l=0;t&&(l|=4),xm(a,e,l,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){if(!e[ps]){e[ps]=!0,sf.forEach(function(a){a!=="selectionchange"&&(Eg.has(a)||Mo(a,!1,e),Mo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,Mo("selectionchange",!1,t))}}function xm(e,t,a,l){switch(Tm(t)){case 2:var s=np;break;case 8:s=sp;break;default:s=Dr}a=s.bind(null,t,a,e),s=void 0,!$o||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Eo(e,t,a,l,s){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var c=l.stateNode.containerInfo;if(c===s)break;if(o===4)for(o=l.return;o!==null;){var r=o.tag;if((r===3||r===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;c!==null;){if(o=nl(c),o===null)return;if(r=o.tag,r===5||r===6||r===26||r===27){l=i=o;continue e}c=c.parentNode}}l=l.return}mf(function(){var u=i,d=Qc(a),x=[];e:{var f=Mf.get(e);if(f!==void 0){var m=vi,v=e;switch(e){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":m=wx;break;case"focusin":v="focus",m=no;break;case"focusout":v="blur",m=no;break;case"beforeblur":case"afterblur":m=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Cx;break;case kf:case Cf:case Af:m=mx;break;case Tf:m=Tx;break;case"scroll":case"scrollend":m=rx;break;case"wheel":m=Ex;break;case"copy":case"cut":case"paste":m=gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iu;break;case"toggle":case"beforetoggle":m=Ox}var j=(t&4)!==0,M=!j&&(e==="scroll"||e==="scrollend"),g=j?f!==null?f+"Capture":null:f;j=[];for(var h=u,p;h!==null;){var b=h;if(p=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||p===null||g===null||(b=Sn(h,g),b!=null&&j.push(zn(h,b,p))),M)break;h=h.return}0<j.length&&(f=new m(f,v,null,a,d),x.push({event:f,listeners:j}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&a!==Ko&&(v=a.relatedTarget||a.fromElement)&&(nl(v)||v[Hl]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=a.relatedTarget||a.toElement,m=u,v=v?nl(v):null,v!==null&&(M=In(v),j=v.tag,v!==M||j!==5&&j!==27&&j!==6)&&(v=null)):(m=null,v=u),m!==v)){if(j=nu,b="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(j=iu,b="onPointerLeave",g="onPointerEnter",h="pointer"),M=m==null?f:sn(m),p=v==null?f:sn(v),f=new j(b,h+"leave",m,a,d),f.target=M,f.relatedTarget=p,b=null,nl(d)===u&&(j=new j(g,h+"enter",v,a,d),j.target=p,j.relatedTarget=M,b=j),M=b,m&&v)t:{for(j=Dg,g=m,h=v,p=0,b=g;b;b=j(b))p++;b=0;for(var N=h;N;N=j(N))b++;for(;0<p-b;)g=j(g),p--;for(;0<b-p;)h=j(h),b--;for(;p--;){if(g===h||h!==null&&g===h.alternate){j=g;break t}g=j(g),h=j(h)}j=null}else j=null;m!==null&&Fu(x,f,m,j,!1),v!==null&&M!==null&&Fu(x,M,v,j,!0)}}e:{if(f=u?sn(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=uu;else if(ru(f))if(vf)w=Yx;else{w=qx;var S=Hx}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Gc(u.elementType)&&(w=uu):w=Ix;if(w&&(w=w(e,u))){bf(x,w,a,d);break e}S&&S(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&Jo(f,"number",f.value)}switch(S=u?sn(u):window,e){case"focusin":(ru(S)||S.contentEditable==="true")&&(ol=S,Fo=u,fn=null);break;case"focusout":fn=Fo=ol=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,xu(x,a,d);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":xu(x,a,d)}var T;if(Jc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else il?pf(e,a)&&(E="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(E="onCompositionStart");E&&(gf&&a.locale!=="ko"&&(il||E!=="onCompositionStart"?E==="onCompositionEnd"&&il&&(T=xf()):(ca=d,Xc="value"in ca?ca.value:ca.textContent,il=!0)),S=oi(u,E),0<S.length&&(E=new su(E,e,null,a,d),x.push({event:E,listeners:S}),T?E.data=T:(T=yf(a),T!==null&&(E.data=T)))),(T=Bx?_x(e,a):Ux(e,a))&&(E=oi(u,"onBeforeInput"),0<E.length&&(S=new su("onBeforeInput","beforeinput",null,a,d),x.push({event:S,listeners:E}),S.data=T)),Ag(x,e,u,a,d)}mm(x,t)})}function zn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function oi(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Sn(e,a),s!=null&&l.unshift(zn(e,s,i)),s=Sn(e,t),s!=null&&l.push(zn(e,s,i))),e.tag===3)return l;e=e.return}return[]}function Dg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fu(e,t,a,l,s){for(var i=t._reactName,o=[];a!==null&&a!==l;){var c=a,r=c.alternate,u=c.stateNode;if(c=c.tag,r!==null&&r===l)break;c!==5&&c!==26&&c!==27||u===null||(r=u,s?(u=Sn(a,i),u!=null&&o.unshift(zn(a,u,r))):s||(u=Sn(a,i),u!=null&&o.push(zn(a,u,r)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var Og=/\r\n?/g,zg=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(Og,`
`).replace(zg,"")}function gm(e,t){return t=Wu(t),Wu(e)===t}function re(e,t,a,l,s,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||kl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&kl(e,""+l);break;case"className":us(e,"class",l);break;case"tabIndex":us(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":us(e,a,l);break;case"style":hf(e,l,i);break;case"data":if(t!=="object"){us(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ss(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&re(e,t,"name",s.name,s,null),re(e,t,"formEncType",s.formEncType,s,null),re(e,t,"formMethod",s.formMethod,s,null),re(e,t,"formTarget",s.formTarget,s,null)):(re(e,t,"encType",s.encType,s,null),re(e,t,"method",s.method,s,null),re(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ss(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yt);break;case"onScroll":l!=null&&$("scroll",e);break;case"onScrollEnd":l!=null&&$("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(k(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(k(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ss(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":$("beforetoggle",e),$("toggle",e),ws(e,"popover",l);break;case"xlinkActuate":Bt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ox.get(a)||a,ws(e,a,l))}}function Nc(e,t,a,l,s,i){switch(a){case"style":hf(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(k(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(k(60));e.innerHTML=a}}break;case"children":typeof l=="string"?kl(e,l):(typeof l=="number"||typeof l=="bigint")&&kl(e,""+l);break;case"onScroll":l!=null&&$("scroll",e);break;case"onScrollEnd":l!=null&&$("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!of.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[Pe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ws(e,a,l)}}}function Ye(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",e),$("load",e);var l=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:re(e,t,i,o,a,null)}}s&&re(e,t,"srcSet",a.srcSet,a,null),l&&re(e,t,"src",a.src,a,null);return;case"input":$("invalid",e);var c=i=o=s=null,r=null,u=null;for(l in a)if(a.hasOwnProperty(l)){var d=a[l];if(d!=null)switch(l){case"name":s=d;break;case"type":o=d;break;case"checked":r=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(k(137,t));break;default:re(e,t,l,d,a,null)}}uf(e,i,c,r,u,o,s,!1);return;case"select":$("invalid",e),l=o=i=null;for(s in a)if(a.hasOwnProperty(s)&&(c=a[s],c!=null))switch(s){case"value":i=c;break;case"defaultValue":o=c;break;case"multiple":l=c;default:re(e,t,s,c,a,null)}t=i,a=o,e.multiple=!!l,t!=null?xl(e,!!l,t,!1):a!=null&&xl(e,!!l,a,!0);return;case"textarea":$("invalid",e),i=s=l=null;for(o in a)if(a.hasOwnProperty(o)&&(c=a[o],c!=null))switch(o){case"value":l=c;break;case"defaultValue":s=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(k(91));break;default:re(e,t,o,c,a,null)}ff(e,l,s,i);return;case"option":for(r in a)if(a.hasOwnProperty(r)&&(l=a[r],l!=null))switch(r){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,t,r,l,a,null)}return;case"dialog":$("beforetoggle",e),$("toggle",e),$("cancel",e),$("close",e);break;case"iframe":case"object":$("load",e);break;case"video":case"audio":for(l=0;l<On.length;l++)$(On[l],e);break;case"image":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"embed":case"source":case"link":$("error",e),$("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(l=a[u],l!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:re(e,t,u,l,a,null)}return;default:if(Gc(t)){for(d in a)a.hasOwnProperty(d)&&(l=a[d],l!==void 0&&Nc(e,t,d,l,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(l=a[c],l!=null&&re(e,t,c,l,a,null))}function Bg(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,c=null,r=null,u=null,d=null;for(m in a){var x=a[m];if(a.hasOwnProperty(m)&&x!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":r=x;default:l.hasOwnProperty(m)||re(e,t,m,null,l,x)}}for(var f in l){var m=l[f];if(x=a[f],l.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"type":i=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:m!==x&&re(e,t,f,m,l,x)}}Zo(e,o,c,r,u,d,i,s);return;case"select":m=o=c=f=null;for(i in a)if(r=a[i],a.hasOwnProperty(i)&&r!=null)switch(i){case"value":break;case"multiple":m=r;default:l.hasOwnProperty(i)||re(e,t,i,null,l,r)}for(s in l)if(i=l[s],r=a[s],l.hasOwnProperty(s)&&(i!=null||r!=null))switch(s){case"value":f=i;break;case"defaultValue":c=i;break;case"multiple":o=i;default:i!==r&&re(e,t,s,i,l,r)}t=c,a=o,l=m,f!=null?xl(e,!!a,f,!1):!!l!=!!a&&(t!=null?xl(e,!!a,t,!0):xl(e,!!a,a?[]:"",!1));return;case"textarea":m=f=null;for(c in a)if(s=a[c],a.hasOwnProperty(c)&&s!=null&&!l.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:re(e,t,c,null,l,s)}for(o in l)if(s=l[o],i=a[o],l.hasOwnProperty(o)&&(s!=null||i!=null))switch(o){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(k(91));break;default:s!==i&&re(e,t,o,s,l,i)}df(e,f,m);return;case"option":for(var v in a)if(f=a[v],a.hasOwnProperty(v)&&f!=null&&!l.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:re(e,t,v,null,l,f)}for(r in l)if(f=l[r],m=a[r],l.hasOwnProperty(r)&&f!==m&&(f!=null||m!=null))switch(r){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:re(e,t,r,f,l,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in a)f=a[j],a.hasOwnProperty(j)&&f!=null&&!l.hasOwnProperty(j)&&re(e,t,j,null,l,f);for(u in l)if(f=l[u],m=a[u],l.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(k(137,t));break;default:re(e,t,u,f,l,m)}return;default:if(Gc(t)){for(var M in a)f=a[M],a.hasOwnProperty(M)&&f!==void 0&&!l.hasOwnProperty(M)&&Nc(e,t,M,void 0,l,f);for(d in l)f=l[d],m=a[d],!l.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Nc(e,t,d,f,l,m);return}}for(var g in a)f=a[g],a.hasOwnProperty(g)&&f!=null&&!l.hasOwnProperty(g)&&re(e,t,g,null,l,f);for(x in l)f=l[x],m=a[x],!l.hasOwnProperty(x)||f===m||f==null&&m==null||re(e,t,x,f,l,m)}function Pu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _g(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],i=s.transferSize,o=s.initiatorType,c=s.duration;if(i&&c&&Pu(o)){for(o=0,c=s.responseEnd,l+=1;l<a.length;l++){var r=a[l],u=r.startTime;if(u>c)break;var d=r.transferSize,x=r.initiatorType;d&&Pu(x)&&(r=r.responseEnd,o+=d*(r<c?1:(c-u)/(r-u)))}if(--l,t+=8*(i+o)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wc=null,Sc=null;function ci(e){return e.nodeType===9?e:e.ownerDocument}function ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Do=null;function Ug(){var e=window.event;return e&&e.type==="popstate"?e===Do?!1:(Do=e,!0):(Do=null,!1)}var ym=typeof setTimeout=="function"?setTimeout:void 0,Rg=typeof clearTimeout=="function"?clearTimeout:void 0,td=typeof Promise=="function"?Promise:void 0,Lg=typeof queueMicrotask=="function"?queueMicrotask:typeof td<"u"?function(e){return td.resolve(null).then(e).catch(Hg)}:ym;function Hg(e){setTimeout(function(){throw e})}function Ta(e){return e==="head"}function ad(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),zl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nn(a);for(var i=a.firstChild;i;){var o=i.nextSibling,c=i.nodeName;i[Qn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Nn(e.ownerDocument.body);a=s}while(a);zl(t)}function ld(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cc(a),Vc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qg(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=bt(e.nextSibling),e===null)break}return null}function Ig(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=bt(e.nextSibling),e===null))return null;return e}function bm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=bt(e.nextSibling),e===null))return null;return e}function Ac(e){return e.data==="$?"||e.data==="$~"}function Tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mc=null;function nd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return bt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function vm(e,t,a){switch(t=ci(a),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function Nn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vc(e)}var vt=new Map,id=new Set;function ri(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wt=le.d;le.d={f:Vg,r:Gg,D:Qg,C:Xg,L:Zg,m:Jg,X:$g,S:Kg,M:Fg};function Vg(){var e=Wt.f(),t=Di();return e||t}function Gg(e){var t=ql(e);t!==null&&t.tag===5&&t.type==="form"?hh(t):Wt.r(e)}var Gl=typeof document>"u"?null:document;function jm(e,t,a){var l=Gl;if(l&&typeof t=="string"&&t){var s=xt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),id.has(s)||(id.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),Ye(t,"link",e),Ue(t),l.head.appendChild(t)))}}function Qg(e){Wt.D(e),jm("dns-prefetch",e,null)}function Xg(e,t){Wt.C(e,t),jm("preconnect",e,t)}function Zg(e,t,a){Wt.L(e,t,a);var l=Gl;if(l&&e&&t){var s='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+xt(a.imageSizes)+'"]')):s+='[href="'+xt(e)+'"]';var i=s;switch(t){case"style":i=Ol(e);break;case"script":i=Ql(e)}vt.has(i)||(e=be({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),vt.set(i,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(Fn(i))||t==="script"&&l.querySelector(Wn(i))||(t=l.createElement("link"),Ye(t,"link",e),Ue(t),l.head.appendChild(t)))}}function Jg(e,t){Wt.m(e,t);var a=Gl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(e)+'"]',i=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ql(e)}if(!vt.has(i)&&(e=be({rel:"modulepreload",href:e},t),vt.set(i,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wn(i)))return}l=a.createElement("link"),Ye(l,"link",e),Ue(l),a.head.appendChild(l)}}}function Kg(e,t,a){Wt.S(e,t,a);var l=Gl;if(l&&e){var s=ml(l).hoistableStyles,i=Ol(e);t=t||"default";var o=s.get(i);if(!o){var c={loading:0,preload:null};if(o=l.querySelector(Fn(i)))c.loading=5;else{e=be({rel:"stylesheet",href:e,"data-precedence":t},a),(a=vt.get(i))&&Tr(e,a);var r=o=l.createElement("link");Ue(r),Ye(r,"link",e),r._p=new Promise(function(u,d){r.onload=u,r.onerror=d}),r.addEventListener("load",function(){c.loading|=1}),r.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Bs(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:c},s.set(i,o)}}}function $g(e,t){Wt.X(e,t);var a=Gl;if(a&&e){var l=ml(a).hoistableScripts,s=Ql(e),i=l.get(s);i||(i=a.querySelector(Wn(s)),i||(e=be({src:e,async:!0},t),(t=vt.get(s))&&Mr(e,t),i=a.createElement("script"),Ue(i),Ye(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(s,i))}}function Fg(e,t){Wt.M(e,t);var a=Gl;if(a&&e){var l=ml(a).hoistableScripts,s=Ql(e),i=l.get(s);i||(i=a.querySelector(Wn(s)),i||(e=be({src:e,async:!0,type:"module"},t),(t=vt.get(s))&&Mr(e,t),i=a.createElement("script"),Ue(i),Ye(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(s,i))}}function od(e,t,a,l){var s=(s=fa.current)?ri(s):null;if(!s)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ol(a.href),a=ml(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ol(a.href);var i=ml(s).hoistableStyles,o=i.get(e);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=s.querySelector(Fn(e)))&&!i._p&&(o.instance=i,o.state.loading=5),vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vt.set(e,a),i||Wg(s,e,a,o.state))),t&&l===null)throw Error(k(528,""));return o}if(t&&l!==null)throw Error(k(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ql(a),a=ml(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function Ol(e){return'href="'+xt(e)+'"'}function Fn(e){return'link[rel="stylesheet"]['+e+"]"}function Nm(e){return be({},e,{"data-precedence":e.precedence,precedence:null})}function Wg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ye(t,"link",a),Ue(t),e.head.appendChild(t))}function Ql(e){return'[src="'+xt(e)+'"]'}function Wn(e){return"script[async]"+e}function cd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return t.instance=l,Ue(l),l;var s=be({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),Ye(l,"style",s),Bs(l,a.precedence,e),t.instance=l;case"stylesheet":s=Ol(a.href);var i=e.querySelector(Fn(s));if(i)return t.state.loading|=4,t.instance=i,Ue(i),i;l=Nm(a),(s=vt.get(s))&&Tr(l,s),i=(e.ownerDocument||e).createElement("link"),Ue(i);var o=i;return o._p=new Promise(function(c,r){o.onload=c,o.onerror=r}),Ye(i,"link",l),t.state.loading|=4,Bs(i,a.precedence,e),t.instance=i;case"script":return i=Ql(a.src),(s=e.querySelector(Wn(i)))?(t.instance=s,Ue(s),s):(l=a,(s=vt.get(i))&&(l=be({},a),Mr(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ue(s),Ye(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Bs(l,a.precedence,e));return t.instance}function Bs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,i=s,o=0;o<l.length;o++){var c=l[o];if(c.dataset.precedence===t)i=c;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Tr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var _s=null;function rd(e,t,a){if(_s===null){var l=new Map,s=_s=new Map;s.set(a,l)}else s=_s,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[Qn]||i[He]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var c=l.get(o);c?c.push(i):l.set(o,[i])}}return l}function ud(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Pg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ep(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var s=Ol(l.href),i=t.querySelector(Fn(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ui.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ue(i);return}i=t.ownerDocument||t,l=Nm(l),(s=vt.get(s))&&Tr(l,s),i=i.createElement("link"),Ue(i);var o=i;o._p=new Promise(function(c,r){o.onload=c,o.onerror=r}),Ye(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=ui.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Oo=0;function tp(e,t){return e.stylesheets&&e.count===0&&Us(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Us(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Oo===0&&(Oo=62500*_g());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Us(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Oo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function ui(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Us(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var di=null;function Us(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,di=new Map,t.forEach(ap,e),di=null,ui.call(e))}function ap(e,t){if(!(t.state.loading&4)){var a=di.get(e);if(a)var l=a.get(null);else{a=new Map,di.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var o=s[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}s=t.instance,o=s.getAttribute("data-precedence"),i=a.get(o)||l,i===l&&a.set(null,s),a.set(o,s),this.count++,l=ui.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Bn={$$typeof:It,Provider:null,Consumer:null,_currentValue:Ba,_currentValue2:Ba,_threadCount:0};function lp(e,t,a,l,s,i,o,c,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Sm(e,t,a,l,s,i,o,c,r,u,d,x){return e=new lp(e,t,a,o,r,u,d,x,c),t=1,i===!0&&(t|=24),i=lt(3,null,null,t),e.current=i,i.stateNode=e,t=tr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},nr(i),e}function km(e){return e?(e=ul,e):ul}function Cm(e,t,a,l,s,i){s=km(s),l.context===null?l.context=s:l.pendingContext=s,l=ma(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=xa(e,l,t),a!==null&&(We(a,e,t),mn(a,e,t))}function dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Er(e,t){dd(e,t),(e=e.alternate)&&dd(e,t)}function Am(e){if(e.tag===13||e.tag===31){var t=Ja(e,67108864);t!==null&&We(t,e,67108864),Er(e,67108864)}}function fd(e){if(e.tag===13||e.tag===31){var t=ct();t=Ic(t);var a=Ja(e,t);a!==null&&We(a,e,t),Er(e,t)}}var fi=!0;function np(e,t,a,l){var s=Y.T;Y.T=null;var i=le.p;try{le.p=2,Dr(e,t,a,l)}finally{le.p=i,Y.T=s}}function sp(e,t,a,l){var s=Y.T;Y.T=null;var i=le.p;try{le.p=8,Dr(e,t,a,l)}finally{le.p=i,Y.T=s}}function Dr(e,t,a,l){if(fi){var s=Ec(l);if(s===null)Eo(e,t,l,hi,a),hd(e,l);else if(op(s,e,t,a,l))l.stopPropagation();else if(hd(e,l),t&4&&-1<ip.indexOf(e)){for(;s!==null;){var i=ql(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Da(i.pendingLanes);if(o!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;o;){var r=1<<31-ot(o);c.entanglements[1]|=r,o&=~r}zt(i),!(ae&6)&&(ai=st()+500,$n(0,!1))}}break;case 31:case 13:c=Ja(i,2),c!==null&&We(c,i,2),Di(),Er(i,2)}if(i=Ec(l),i===null&&Eo(e,t,l,hi,a),i===s)break;s=i}s!==null&&l.stopPropagation()}else Eo(e,t,l,null,a)}}function Ec(e){return e=Qc(e),Or(e)}var hi=null;function Or(e){if(hi=null,e=nl(e),e!==null){var t=In(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Xd(t),e!==null)return e;e=null}else if(a===31){if(e=Zd(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hi=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Q0()){case Fd:return 2;case Wd:return 8;case Ys:case X0:return 32;case Pd:return 268435456;default:return 32}default:return 32}}var Dc=!1,ya=null,ba=null,va=null,_n=new Map,Un=new Map,ia=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hd(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":_n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function tn(e,t,a,l,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ql(t),t!==null&&Am(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function op(e,t,a,l,s){switch(t){case"focusin":return ya=tn(ya,e,t,a,l,s),!0;case"dragenter":return ba=tn(ba,e,t,a,l,s),!0;case"mouseover":return va=tn(va,e,t,a,l,s),!0;case"pointerover":var i=s.pointerId;return _n.set(i,tn(_n.get(i)||null,e,t,a,l,s)),!0;case"gotpointercapture":return i=s.pointerId,Un.set(i,tn(Un.get(i)||null,e,t,a,l,s)),!0}return!1}function Mm(e){var t=nl(e.target);if(t!==null){var a=In(t);if(a!==null){if(t=a.tag,t===13){if(t=Xd(a),t!==null){e.blockedOn=t,Fr(e.priority,function(){fd(a)});return}}else if(t===31){if(t=Zd(a),t!==null){e.blockedOn=t,Fr(e.priority,function(){fd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ec(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return t=ql(a),t!==null&&Am(t),e.blockedOn=a,!1;t.shift()}return!0}function md(e,t,a){Rs(e)&&a.delete(t)}function cp(){Dc=!1,ya!==null&&Rs(ya)&&(ya=null),ba!==null&&Rs(ba)&&(ba=null),va!==null&&Rs(va)&&(va=null),_n.forEach(md),Un.forEach(md)}function ys(e,t){e.blockedOn===t&&(e.blockedOn=null,Dc||(Dc=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,cp)))}var bs=null;function xd(e){bs!==e&&(bs=e,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,function(){bs===e&&(bs=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(Or(l||a)===null)continue;break}var i=ql(a);i!==null&&(e.splice(t,3),t-=3,dc(i,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function zl(e){function t(r){return ys(r,e)}ya!==null&&ys(ya,e),ba!==null&&ys(ba,e),va!==null&&ys(va,e),_n.forEach(t),Un.forEach(t);for(var a=0;a<ia.length;a++){var l=ia[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ia.length&&(a=ia[0],a.blockedOn===null);)Mm(a),a.blockedOn===null&&ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],i=a[l+1],o=s[Pe]||null;if(typeof i=="function")o||xd(a);else if(o){var c=null;if(i&&i.hasAttribute("formAction")){if(s=i,o=i[Pe]||null)c=o.formAction;else if(Or(s)!==null)continue}else c=o.action;typeof c=="function"?a[l+1]=c:(a.splice(l,3),l-=3),xd(a)}}}function Em(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return s=o})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function zr(e){this._internalRoot=e}Bi.prototype.render=zr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var a=t.current,l=ct();Cm(a,l,e,t,null,null)};Bi.prototype.unmount=zr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cm(e.current,2,null,e,null,null),Di(),t[Hl]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=nf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ia.length&&t!==0&&t<ia[a].priority;a++);ia.splice(a,0,e),a===0&&Mm(e)}};var gd=Gd.version;if(gd!=="19.2.0")throw Error(k(527,gd,"19.2.0"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=L0(t),e=e!==null?Jd(e):null,e=e===null?null:e.stateNode,e};var rp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{Yn=vs.inject(rp),it=vs}catch{}}pi.createRoot=function(e,t){if(!Qd(e))throw Error(k(299));var a=!1,l="",s=jh,i=Nh,o=wh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Sm(e,1,!1,null,null,a,l,null,s,i,o,Em),e[Hl]=t.current,Ar(e),new zr(t)};pi.hydrateRoot=function(e,t,a){if(!Qd(e))throw Error(k(299));var l=!1,s="",i=jh,o=Nh,c=wh,r=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(r=a.formState)),t=Sm(e,1,!0,t,a??null,l,s,r,i,o,c,Em),t.context=km(null),a=t.current,l=ct(),l=Ic(l),s=ma(l),s.callback=null,xa(a,s,l),a=l,t.current.lanes=a,Gn(t,a),zt(t),e[Hl]=t.current,Ar(e),new Bi(t)};pi.version="19.2.0";function Dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dm)}catch(e){console.error(e)}}Dm(),Ld.exports=pi;var up=Ld.exports;const dp=Td(up),fp="https://synapse-backend-api.onrender.com/api";let mi=localStorage.getItem("authToken");async function R(e,t={}){const a=`${fp}${e}`,l=mi,s={...t.body instanceof FormData?{}:{"Content-Type":"application/json"},...l?{Authorization:`Bearer ${l}`}:{},...t.headers};try{console.log(`🔄 API Call: ${t.method||"GET"} ${a}`);const i=await fetch(a,{...t,headers:s});if(i.status===0)throw new Error("Network error: Cannot connect to server. Check if backend is running.");const o=i.headers.get("content-type");if(i.status===204||i.headers.get("content-length")==="0")return console.log(`✅ API Success (${i.status} No Content): ${a}`),{};if(!i.ok){let c=`API error (${i.status}): ${i.statusText||"Request Failed"}`,r={status:i.status};if(o&&o.includes("application/json"))try{const d=await i.json();c=d.message||d.error||c,r={...r,...d}}catch{}else try{const d=await i.text();d&&(c+=` - ${d.substring(0,100)}`)}catch{}console.error(`❌ API Failed (${i.status}): ${a}`,c,r||""),(i.status===401||i.status===403)&&(console.warn("Authentication error detected. Clearing token and local user."),mi=null,localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),window.location.reload());const u=new Error(c);throw u.details=r,u}if(e==="/health"&&o&&o.includes("application/json"))return(await i.json()).status==="healthy"||i.status===200;if(o&&o.includes("application/json")){const c=await i.json();return console.log(`✅ API Success (${i.status}): ${a}`),c}return console.warn(`⚠️ API Warning: Non-JSON response from ${a}. Content-Type: ${o}`),{}}catch(i){throw console.error(`❌ API Network/Fetch Exception: ${t.method||"GET"} ${e}`,i),i instanceof TypeError&&(i.message.includes("fetch")||i.message.includes("Network"))?new Error("Network error: Could not connect to the API server. Please check your internet connection and ensure the backend is running."):i}}const hp=async()=>{try{const e=await R("/health");return typeof e=="boolean"?e:(e==null?void 0:e.status)==="healthy"||!0}catch(e){return console.error("Backend health check failed:",e),!1}},C={setAuthToken:e=>{mi=e,e?localStorage.setItem("authToken",e):localStorage.removeItem("authToken"),console.log("Auth token updated in service:",e?"Set":"Cleared")},login:async e=>{const t=await R("/auth/login",{method:"POST",body:JSON.stringify(e)});return t.token&&C.setAuthToken(t.token),t},signUp:async e=>{const t=await R("/auth/register",{method:"POST",body:JSON.stringify(e)});return t.token&&C.setAuthToken(t.token),t},verifyToken:e=>{const t={};if(e)t.Authorization=`Bearer ${e}`;else if(!mi)return Promise.resolve({valid:!1});return R("/auth/verify",{method:"GET",headers:t})},getUserById:e=>!e||e==="undefined"?(console.warn(`getUserById called with invalid ID: ${e}, skipping fetch.`),Promise.resolve(null)):R(`/users/${e}`),updateUser:e=>R("/users/me",{method:"PUT",body:JSON.stringify(e)}),markOnboardingComplete:()=>R("/users/me/onboarding",{method:"PATCH"}),searchUsers:e=>R(`/users?${new URLSearchParams(e).toString()}`),sendConnectionRequest:e=>R(`/users/${e}/connect`,{method:"POST"}),getAllIdeas:e=>R(`/ideas?${new URLSearchParams(e).toString()}`),getIdeasByOwnerId:e=>R(`/ideas?ownerId=${e}`),getIdeasByCollaboratorId:e=>R(`/ideas?collaboratorId=${e}`),getIdeaById:e=>R(`/ideas/${e}`),addIdea:e=>R("/ideas",{method:"POST",body:JSON.stringify(e)}),updateIdea:(e,t)=>R(`/ideas/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateIdeaProgressStage:(e,t)=>R(`/ideas/${e}/stage`,{method:"PATCH",body:JSON.stringify({stage:t})}),castVote:(e,t)=>R(`/ideas/${e}/vote`,{method:"POST",body:JSON.stringify({type:t})}),getFeedItems:()=>R("/feed"),getCommentsByIdeaId:e=>R(`/ideas/${e}/comments`),getCommentsByNodeId:e=>R(`/nodes/${e}/comments`),postComment:(e,t)=>R(`/ideas/${e}/comments`,{method:"POST",body:JSON.stringify({text:t})}),getFeedbackByIdeaId:e=>R(`/ideas/${e}/feedback`),submitFeedback:e=>R(`/ideas/${e.ideaId}/feedback`,{method:"POST",body:JSON.stringify(e)}),getCollaborationRequestsByIdeaId:e=>R(`/ideas/${e}/collaboration-requests`),submitCollaborationRequest:e=>R("/collaborations",{method:"POST",body:JSON.stringify(e)}),updateCollaborationRequestStatus:(e,t)=>R(`/collaborations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),getCollaborationsByUserId:e=>R(`/collaborations/user/${e}`),updateIdeaBoard:(e,t)=>R(`/ideas/${e}/board`,{method:"PUT",body:JSON.stringify({nodes:t})}),saveBoardVersion:(e,t,a)=>R(`/ideas/${e}/board/versions`,{method:"POST",body:JSON.stringify({nodes:t,name:a})}),getBoardVersions:e=>R(`/ideas/${e}/board/versions`),revertToBoardVersion:(e,t)=>R(`/ideas/${e}/board/versions/${t}/revert`,{method:"POST"}),getBlockchainRecordsByIdeaId:e=>R(`/ideas/${e}/blockchain-records`),startConversation:e=>R("/chat/conversations",{method:"POST",body:JSON.stringify({participants:[e]})}),getConversationsByUserId:()=>R("/chat/conversations"),getConversationById:e=>R(`/chat/conversations/${e}`),getMessagesByConversationId:e=>R(`/chat/conversations/${e}/messages`),sendMessage:e=>R(`/chat/conversations/${e.conversationId}/messages`,{method:"POST",body:JSON.stringify({text:e.text,replyToMessageId:e.replyToMessageId,media:e.media})}),reactToMessage:(e,t)=>R(`/chat/messages/${e}/reactions`,{method:"POST",body:JSON.stringify({emoji:t})}),acceptMessageRequest:e=>R(`/chat/requests/${e}/accept`,{method:"POST"}),markMessagesRead:e=>R(`/chat/conversations/${e}/read`,{method:"POST"}),getNotificationsByUserId:()=>R("/users/me/notifications"),markAllNotificationsAsRead:()=>R("/users/me/notifications/read-all",{method:"POST"}),updateNotificationSettings:e=>R("/users/me/settings/notifications",{method:"PUT",body:JSON.stringify(e)}),getForumMessages:e=>R(`/ideas/${e}/forum/messages`),postForumMessage:(e,t)=>R(`/ideas/${e}/forum/messages`,{method:"POST",body:JSON.stringify({text:t})}),addForumMember:(e,t)=>R(`/ideas/${e}/forum/members`,{method:"POST",body:JSON.stringify({userId:t})}),removeForumMember:(e,t)=>R(`/ideas/${e}/forum/members/${t}`,{method:"DELETE"}),deleteForumMessage:e=>R(`/forum/messages/${e}`,{method:"DELETE"}),pinForumMessage:e=>R(`/forum/messages/${e}/pin`,{method:"POST"}),getUserAchievements:e=>R(`/users/${e}/achievements`),shareAchievementToFeed:e=>R("/feed/achievement",{method:"POST",body:JSON.stringify({achievementId:e})}),getAnalyticsForIdea:e=>R(`/ideas/${e}/analytics`),endorseSkill:(e,t)=>R(`/users/${e}/skills/endorse`,{method:"POST",body:JSON.stringify({skillName:t})}),submitReport:e=>R("/reports",{method:"POST",body:JSON.stringify(e)}),addMilestone:(e,t)=>R(`/ideas/${e}/milestones`,{method:"POST",body:JSON.stringify(t)}),editMilestone:(e,t,a)=>R(`/ideas/${e}/milestones/${t}`,{method:"PUT",body:JSON.stringify(a)}),deleteMilestone:(e,t)=>R(`/ideas/${e}/milestones/${t}`,{method:"DELETE"}),completeMilestone:(e,t)=>R(`/ideas/${e}/milestones/${t}/complete`,{method:"POST"}),updateKanbanBoard:(e,t)=>R(`/ideas/${e}/kanban`,{method:"PUT",body:JSON.stringify(t)}),getRecommendedCollaborators:e=>R(`/ideas/${e}/recommendations/collaborators`),analyzeIdea:e=>R("/ai/analyze-idea",{method:"POST",body:JSON.stringify(e)}),refineSummary:e=>R("/ai/refine-summary",{method:"POST",body:JSON.stringify(e)}),getIdeaSuggestions:()=>R("/ai/idea-suggestions"),checkBackendHealth:hp},mp=()=>{const[e,t]=y.useState("Checking..."),[a,l]=y.useState(!0),s=window.location.origin,i="https://synapse-backend-api.onrender.com/api".replace("/api",""),o=async()=>{l(!0),t("Testing...");try{const c=await C.checkBackendHealth();t(c?"Backend Connected & Healthy":"Backend Connection Failed")}catch(c){t("Backend Connection Error"),console.error("Connection test failed:",c)}finally{l(!1)}};return y.useEffect(()=>{o()},[]),n.jsxs("div",{className:"connection-test",children:[n.jsx("h2",{children:"Connection Test"}),n.jsxs("div",{className:"status-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Backend Status:"})," ",e]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Frontend URL:"})," ",s]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Target Backend URL:"})," ",i]})]}),n.jsx("button",{onClick:o,disabled:a,className:"test-button",children:a?"Testing...":"Test Connection Again"})]})},xp=({setCurrentUser:e,setPage:t,onGuestLogin:a})=>{const[l,s]=y.useState("login"),[i,o]=y.useState({name:"",username:"",email:"",password:""}),[c,r]=y.useState(""),[u,d]=y.useState(!1),x=m=>{const{name:v,value:j}=m.target;o(M=>({...M,[v]:j})),r("")},f=async m=>{m.preventDefault(),r(""),d(!0);try{if(l==="login"){const v=await C.login({email:i.email,password:i.password});if(v&&v.user&&v.token){localStorage.setItem("authToken",v.token);const j=await C.getUserById(v.user.userId||v.user.id);if(j)e(j),t(j.onboardingCompleted?"feed":"onboarding");else throw new Error("Login succeeded, but user data could not be found.")}else r("Login failed. Please check your credentials.")}else{const v=await C.signUp({displayName:i.name,username:i.username,email:i.email,password:i.password,userType:"thinker"});v&&v.user&&v.token?(localStorage.setItem("authToken",v.token),e(v.user),t("onboarding")):r((v==null?void 0:v.error)||"Sign up failed. Please try again.")}}catch(v){console.error(`${l} error:`,v),r(v.message||`An unexpected error occurred during ${l}.`)}finally{d(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-indigo-50 to-purple-100 dark:from-[#0F0F1A] dark:to-[#1A1A2E]",children:n.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/70 dark:bg-[#1A1A24]/70 backdrop-blur-xl border border-gray-200 dark:border-white/20 p-8 rounded-2xl shadow-2xl shadow-indigo-500/20 dark:shadow-indigo-900/50 animate-fadeInUp",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-center text-4xl font-bold text-gradient font-space-grotesk",children:"Synapse"}),n.jsx("p",{className:"mt-2 text-center text-gray-500 dark:text-gray-400",children:"Connect. Collaborate. Create."})]}),n.jsxs("div",{className:"bg-gray-100/50 dark:bg-[#101018]/50 p-1.5 rounded-lg flex space-x-2",children:[n.jsx("button",{onClick:()=>{s("login"),r("")},className:`w-full py-2 rounded-md text-sm font-semibold transition-colors ${l==="login"?"bg-white dark:bg-[#252532] text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sign In"}),n.jsx("button",{onClick:()=>{s("signup"),r("")},className:`w-full py-2 rounded-md text-sm font-semibold transition-colors ${l==="signup"?"bg-white dark:bg-[#252532] text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sign Up"})]}),n.jsxs("form",{className:"space-y-6",onSubmit:f,children:[l==="signup"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("input",{name:"name",type:"text",required:!0,"aria-label":"Full Name",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Full Name",value:i.name,onChange:x})}),n.jsx("div",{children:n.jsx("input",{name:"username",type:"text",required:!0,"aria-label":"Username",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Username",value:i.username,onChange:x})})]}),n.jsx("div",{children:n.jsx("input",{name:"email",type:"email",autoComplete:"email",required:!0,"aria-label":"Email address",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Email address",value:i.email,onChange:x})}),n.jsx("div",{children:n.jsx("input",{name:"password",type:"password",autoComplete:l==="login"?"current-password":"new-password",required:!0,"aria-label":"Password",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Password",value:i.password,onChange:x})}),c&&n.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm text-center",children:c}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-[#1A1A24] transition-all duration-200 transform hover:-translate-y-0.5 active:scale-95 shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 disabled:opacity-50",children:u?"Processing...":l==="login"?"Sign in":"Create Account"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300 dark:border-white/20"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white/70 dark:bg-[#1A1A24]/70 text-gray-500",children:"Or"})})]}),n.jsx("div",{children:n.jsx("button",{onClick:a,className:"w-full text-center py-3 px-4 border border-gray-300 dark:border-white/20 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-500/10 dark:hover:bg-white/5 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Browse as a Guest"})})]})})},Pn=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m2 2 20 20"}),n.jsx("path",{d:"M8.5 16.5a5 5 0 0 1 7 0"}),n.jsx("path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65"}),n.jsx("path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76"}),n.jsx("path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68"}),n.jsx("path",{d:"M5 13a10 10 0 0 1 5.24-2.76"}),n.jsx("path",{d:"M12 20h.01"})]}),Om=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),_i=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}),n.jsx("path",{d:"M9 18h6"}),n.jsx("path",{d:"M10 22h4"})]}),Ca=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),zm=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})}),Bl=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M5 12h14"}),n.jsx("path",{d:"M12 5v14"})]}),Bm=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M5 12h14"})}),_m=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 7V3h4"}),n.jsx("path",{d:"M21 17v4h-4"}),n.jsx("path",{d:"M7 21 3 21 3 17"}),n.jsx("path",{d:"M17 3h4v4"})]}),Ui=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),n.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Dt=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Um=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9L12 18l1.9-5.8 5.8-1.9-5.8-1.9L12 3z"}),n.jsx("path",{d:"M5 3v4"}),n.jsx("path",{d:"M19 17v4"}),n.jsx("path",{d:"M3 5h4"}),n.jsx("path",{d:"M17 19h4"})]}),Ct=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]}),Br=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),n.jsx("path",{d:"M22 2 11 13"})]}),Ri=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),n.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),Rm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 7v6h6"}),n.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),Lm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 7v6h-6"}),n.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3-4.3"})]}),Li=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("line",{x1:"19",x2:"19",y1:"8",y2:"14"}),n.jsx("line",{x1:"22",x2:"16",y1:"11",y2:"11"})]}),Hm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("line",{x1:"22",x2:"16",y1:"11",y2:"11"})]}),_l=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),n.jsx("path",{d:"m9 12 2 2 4-4"})]}),Ve=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),_r=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 22v-9"}),n.jsx("path",{d:"M15.5 13H8.5c-1.38 0-2.5-1.12-2.5-2.5V3c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7.5c0 1.38-1.12 2.5-2.5 2.5z"})]}),qm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Im=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"})]}),Ym=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),n.jsx("rect",{width:"4",height:"12",x:"2",y:"9"}),n.jsx("circle",{cx:"4",cy:"4",r:"2"})]}),Vm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),n.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),Gm=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),Qm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m5 12 7-7 7 7"}),n.jsx("path",{d:"M12 19V5"})]}),Xm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m5 12 7 7 7-7"}),n.jsx("path",{d:"M12 5v14"})]}),Hi=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Ur=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"16",height:"16",x:"4",y:"4",rx:"2"}),n.jsx("rect",{width:"6",height:"6",x:"9",y:"9",rx:"1"}),n.jsx("path",{d:"M15 2v2"}),n.jsx("path",{d:"M15 20v2"}),n.jsx("path",{d:"M9 2v2"}),n.jsx("path",{d:"M9 20v2"}),n.jsx("path",{d:"M2 15h2"}),n.jsx("path",{d:"M2 9h2"}),n.jsx("path",{d:"M20 15h2"}),n.jsx("path",{d:"M20 9h2"})]}),Zm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),n.jsx("path",{d:"M21 3v5h-5"}),n.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),n.jsx("path",{d:"M3 21v-5h5"})]}),gp=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"})}),Jm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),n.jsx("path",{d:"M3 3v5h5"}),n.jsx("path",{d:"M12 7v5l4 2"})]}),pp=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),yp=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),n.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),n.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),n.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]}),Km=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"18",height:"7",x:"3",y:"3",rx:"1"}),n.jsx("rect",{width:"9",height:"7",x:"3",y:"14",rx:"1"}),n.jsx("rect",{width:"5",height:"7",x:"16",y:"14",rx:"1"})]}),es=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),n.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),Rn=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),n.jsx("path",{d:"M12 9v4"}),n.jsx("path",{d:"M12 17h.01"})]}),qi=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"1"}),n.jsx("circle",{cx:"12",cy:"5",r:"1"}),n.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),bp=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),Xl=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),n.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),n.jsx("path",{d:"M4 22h16"}),n.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),n.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),n.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Rr=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),n.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),n.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),$m=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10 7Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Fm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),Wm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),n.jsx("polyline",{points:"16 7 22 7 22 13"})]}),vp=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),n.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),jp=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Np=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.3-4.3"})]}),Oc=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),Pm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Ul=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Lr=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.59a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),e0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),n.jsx("line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}),n.jsx("line",{x1:"15",x2:"15.01",y1:"9",y2:"9"})]}),t0=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),a0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"4"}),n.jsx("path",{d:"M12 2v2"}),n.jsx("path",{d:"M12 20v2"}),n.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),n.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),n.jsx("path",{d:"M2 12h2"}),n.jsx("path",{d:"M20 12h2"}),n.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),n.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Ii=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.3.05-3.18-.65-.87-2.13-.8-3.18.05Z"}),n.jsx("path",{d:"m12 15-3-3a9 9 0 0 1 3-12 9 9 0 0 1 12 3l-3 3"}),n.jsx("path",{d:"M17.5 5.5 9 14"}),n.jsx("path",{d:"M9 12c-2 3-5 6-7 8"})]}),l0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),n.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),n.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Rl=Object.freeze(Object.defineProperty({__proto__:null,AlertTriangleIcon:Rn,ArrowDownIcon:Xm,ArrowUpIcon:Qm,BarChartIcon:Rr,BellIcon:Ui,BookOpenIcon:vp,BookmarkIcon:zm,CalendarIcon:l0,CheckCircleIcon:Ul,ChevronDownIcon:Gm,CompassIcon:Im,CpuIcon:Ur,DownloadIcon:pp,Edit3Icon:Oc,EyeIcon:$m,FlagIcon:es,HeartIcon:jp,HistoryIcon:Jm,HomeIcon:qm,LayoutTemplateIcon:Km,LightbulbIcon:_i,LinkIcon:Vm,LinkedinIcon:Ym,LoaderIcon:Ve,LogOutIcon:Om,MapPinIcon:Fm,MaximizeIcon:yp,MessageCircleIcon:gp,MessageSquareIcon:Dt,MinusIcon:Bm,MoonIcon:t0,MoreVerticalIcon:qi,PaperclipIcon:Lr,PinIcon:_r,PlusIcon:Bl,RedoIcon:Lm,RefreshCwIcon:Zm,RocketIcon:Ii,SearchIcon:Np,SendIcon:Br,SettingsIcon:Pm,ShieldCheckIcon:_l,ShieldIcon:bp,SmileIcon:e0,SparklesIcon:Um,StarIcon:Hi,SunIcon:a0,TrashIcon:Ri,TrendingUpIcon:Wm,TrophyIcon:Xl,UndoIcon:Rm,UserMinusIcon:Hm,UserPlusIcon:Li,UsersIcon:Ca,WifiOffIcon:Pn,XIcon:Ct,ZoomResetIcon:_m},Symbol.toStringTag,{value:"Module"})),wp=({setPage:e})=>{const[t,a]=y.useState([]),[l,s]=y.useState(!1);y.useEffect(()=>{const o=async()=>{try{const r=await C.getNotificationsByUserId();a((r||[]).sort((u,d)=>new Date(d.createdAt||0).getTime()-new Date(u.createdAt||0).getTime()))}catch(r){console.error("Failed to fetch notifications:",r)}};o();const c=setInterval(o,6e4);return()=>clearInterval(c)},[]);const i=t.filter(o=>!o.read).length;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>s(!l),className:"relative p-1 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white focus:outline-none",children:[n.jsx(Ui,{className:"h-6 w-6"}),i>0&&n.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white dark:ring-[#1A1A24]"})]}),l&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-xl shadow-lg bg-white/80 dark:bg-[#1A1A24]/80 backdrop-blur-lg border border-gray-200 dark:border-white/10 focus:outline-none z-50",children:n.jsxs("div",{className:"py-1",children:[n.jsx("div",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white font-semibold border-b border-gray-200 dark:border-white/10",children:"Notifications"}),n.jsx("div",{className:"max-h-60 overflow-y-auto scrollbar-thin",children:t.length>0?t.slice(0,5).map(o=>n.jsxs("div",{onClick:()=>{o.link?e(o.link.page,o.link.id):(console.warn("Notification link missing:",o),e("notifications")),s(!1)},className:"block px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/5 border-b border-gray-100 dark:border-white/5 cursor-pointer",children:[n.jsx("p",{className:`${o.read?"":"font-bold text-gray-900 dark:text-white"}`,children:o.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(o.createdAt).toLocaleString()})]},o.id)):n.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No new notifications"})}),n.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-white/10",children:n.jsx("button",{onClick:()=>{e("notifications"),s(!1)},className:"w-full text-center text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300",children:"View All Notifications"})})]})})]})},Sp=({currentUser:e,isGuest:t,setPage:a,setCurrentUser:l,onGuestAction:s,onNavigateToLogin:i,theme:o,toggleTheme:c})=>{const r=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),l(null),a("feed")},u=()=>{t?s():a("newIdea")};return n.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/60 dark:bg-[#0A0A0F]/60 backdrop-blur-xl border-b border-gray-200 dark:border-white/10 z-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center space-x-8",children:n.jsx("button",{onClick:()=>a("feed"),className:"text-2xl font-bold text-gradient font-space-grotesk transition-transform hover:scale-105",children:"Synapse"})}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90 transform transition-transform hover:-translate-y-0.5 active:scale-95",children:[n.jsx(Bl,{className:"h-5 w-5"}),n.jsx("span",{className:"hidden sm:inline",children:"New Idea"})]}),n.jsx("button",{onClick:c,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors","aria-label":`Switch to ${o==="dark"?"light":"dark"} mode`,children:o==="dark"?n.jsx(a0,{className:"w-5 h-5"}):n.jsx(t0,{className:"w-5 h-5"})}),t||!e?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:i,className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white px-3 py-1.5 rounded-md transition-colors",children:"Log In"}),n.jsx("button",{onClick:i,className:"text-sm font-medium text-gray-800 dark:text-white bg-gray-500/10 dark:bg-white/10 hover:bg-gray-500/20 dark:hover:bg-white/20 px-3 py-1.5 rounded-md transition-colors",children:"Sign Up"})]}):n.jsxs(n.Fragment,{children:[n.jsx(wp,{setPage:a}),n.jsx("div",{className:"relative group",children:n.jsx("button",{onClick:()=>a("profile",e.userId),className:"flex items-center transition-transform hover:scale-105","aria-label":"View Profile",children:n.jsx("img",{className:"h-8 w-8 rounded-full ring-2 ring-transparent group-hover:ring-indigo-500 transition-all object-cover",src:e.avatarUrl||"/default-avatar.png",alt:e.displayName||e.username})})}),n.jsx("button",{onClick:r,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors","aria-label":"Logout",children:n.jsx(Om,{className:"w-5 h-5"})})]})]})]})})})},jl=[{id:"idea-stage",name:"Idea Stage"},{id:"team-building",name:"Team Building"},{id:"in-development",name:"In Development"},{id:"launched",name:"Launched"}],ja=["Technology","Healthcare","Finance","Education","Environment","Energy","E-commerce","Entertainment","Real Estate","Food & Beverage","Travel & Hospitality","Automotive","Logistics","Arts","Fashion"],n0=["North America","Europe","Asia","South America","Africa","Australia","United States","China","Germany","Japan","India","United Kingdom","France","Canada","Brazil","Australia","South Korea","Spain","Mexico","Indonesia","Netherlands","Saudi Arabia","Switzerland","Nigeria","Argentina","Sweden"],s0=["Software Development","Data Science","AI/ML","Cybersecurity","DevOps","Mobile Development (iOS/Android)","Blockchain","Cloud Computing (AWS/Azure/GCP)","Marketing","SEO/SEM","Content Creation","Social Media Management","Digital Advertising","Public Relations","Sales","Design","UI/UX Design","Graphic Design","Industrial Design","Animation","Business","Finance & Accounting","Product Management","Human Resources","Fundraising","Operations","Legal","Writing","Scientific Research","Engineering (Mechanical/Electrical)","Videography","Customer Support"],kp={spam:"Spam or Misleading",harassment:"Harassment or Hate Speech",inappropriate:"Inappropriate Content",ip_infringement:"Intellectual Property Infringement",other:"Other"},Hr={first_thought:{id:"first_thought",name:"First Thought",description:"Post your very first idea.",goal:1,icon:"LightbulbIcon"},serial_innovator:{id:"serial_innovator",name:"Serial Innovator",description:"Post 5 different ideas.",goal:5,icon:"LightbulbIcon"},team_player:{id:"team_player",name:"Team Player",description:"Join 3 different projects as a collaborator.",goal:3,icon:"UsersIcon"},super_collaborator:{id:"super_collaborator",name:"Super Collaborator",description:"Join 10 different projects.",goal:10,icon:"TrophyIcon"},valued_critic:{id:"valued_critic",name:"Valued Critic",description:"Provide constructive feedback on 5 ideas.",goal:5,icon:"StarIcon"},community_pillar:{id:"community_pillar",name:"Community Pillar",description:"Receive 25 upvotes across all your ideas.",goal:25,icon:"TrophyIcon"}},Cp=[{id:"startup",name:"Startup Venture",description:"Structure your business idea from problem to market vision. Ideal for entrepreneurs.",icon:"CpuIcon",questionnairePrompts:{problemStatement:"What customer pain point are you solving?",targetAudience:"Who is your ideal customer profile (ICP)?",resourcesNeeded:"What key resources (funding, tech, people) do you need for an MVP?",timeline:"What is your 3-6 month roadmap?",skillsLooking:"What are the critical roles for your founding team?",visionForSuccess:"What does market leadership look like in 5 years?"}},{id:"research",name:"Research Project",description:"Outline your academic or scientific study, from hypothesis to potential impact.",icon:"BookOpenIcon",questionnairePrompts:{problemStatement:"What is your core research question or hypothesis?",targetAudience:"Who will benefit from this research (academics, industry, public)?",resourcesNeeded:"What data, equipment, or funding is required?",timeline:"What are the key phases (lit review, experiment, publishing)?",skillsLooking:"What collaborators do you need (e.g., statisticians, subject experts)?",visionForSuccess:"What would a successful publication or finding enable?"}},{id:"creative",name:"Creative Project",description:"Flesh out your artistic idea, whether it's a film, book, or performance piece.",icon:"StarIcon",questionnairePrompts:{problemStatement:"What is the core theme or artistic statement?",targetAudience:"Who is the intended audience for this work?",resourcesNeeded:"What materials, space, or collaborators do you need?",timeline:"What are the major milestones (drafting, production, exhibition)?",skillsLooking:"What skills are you seeking (e.g., illustrator, editor, musician)?",visionForSuccess:"What emotional or intellectual impact will this have on the audience?"}},{id:"impact",name:"Social Impact Initiative",description:"Define your project to create positive social or environmental change.",icon:"HeartIcon",questionnairePrompts:{problemStatement:"What specific social or environmental problem are you addressing?",targetAudience:"Which community or group are you serving?",resourcesNeeded:"What do you need (volunteers, grants, partnerships) to get started?",timeline:"What is your plan for a pilot project?",skillsLooking:"What expertise is needed (e.g., community organizers, grant writers)?",visionForSuccess:"What is the long-term, measurable change you aim to create?"}}],Ap=({currentStageId:e})=>{const t=e||"idea-stage",a=Math.max(0,jl.findIndex(l=>l.id===t));return n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10",children:[n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-1.5 rounded-full",style:{width:`${(a+.5)/jl.length*100}%`}})}),n.jsx("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:jl.map((l,s)=>n.jsx("span",{className:`w-1/4 text-center ${s===a?"font-bold text-gray-800 dark:text-white":""}`,children:l.name},l.id))})]})},Tp=({idea:e,setPage:t})=>{const[a,l]=y.useState(null),[s,i]=y.useState(!0),[o,c]=y.useState(!0);y.useEffect(()=>{(async()=>{if(c(!0),i(!0),!e.ownerId){console.warn(`Idea ${e.ideaId} is missing ownerId.`),c(!1);return}if(!await C.checkBackendHealth()){i(!1),c(!1);return}try{const j=await C.getUserById(e.ownerId);l(j)}catch(j){console.error(`Failed to fetch owner ${e.ownerId} for idea ${e.ideaId}:`,j),l(null)}finally{c(!1)}})()},[e.ownerId,e.ideaId]);const r=m=>{if(!m)return"somewhere in time";try{const v=Math.floor((new Date().getTime()-new Date(m).getTime())/1e3);if(isNaN(v)||v<0)return"just now";let j=v/31536e3;return j>1?Math.floor(j)+" years ago":(j=v/2592e3,j>1?Math.floor(j)+" months ago":(j=v/86400,j>1?Math.floor(j)+" days ago":(j=v/3600,j>1?Math.floor(j)+" hours ago":(j=v/60,j>1?Math.floor(j)+" minutes ago":Math.max(0,Math.floor(v))+" seconds ago"))))}catch(v){return console.error("Error formatting date:",m,v),"unknown date"}},u=e.likesCount??0,d=e.commentsCount??0,x=e.tags||[],f=e.progressStage;return n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24]/70 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-white/10 hover:border-indigo-500/50 hover:shadow-indigo-500/20 dark:hover:shadow-indigo-900/40 hover:-translate-y-1 transform transition-all duration-300",children:[!s&&n.jsxs("div",{className:"mb-4 p-2 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(Rn,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Owner data unavailable"})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("button",{onClick:()=>a&&t("profile",a.userId),className:"flex-shrink-0",disabled:!s||o||!a,children:o?n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 dark:bg-gray-700 animate-pulse"}):n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-300 dark:bg-gray-700",src:(a==null?void 0:a.avatarUrl)||"/default-avatar.png",alt:(a==null?void 0:a.displayName)||(a==null?void 0:a.username)||"User",onError:m=>{const v=m.target;v.src="/default-avatar.png"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[" ",n.jsx("div",{className:"flex justify-between items-start",children:n.jsxs("div",{className:"min-w-0",children:[" ",n.jsx("button",{onClick:()=>t("ideaDetail",e.ideaId),className:"text-xl font-bold text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 text-left truncate block",disabled:!s,title:e.title,children:e.title}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[" ",o?n.jsx("span",{className:"inline-block h-4 w-48 bg-gray-300 dark:bg-gray-700 rounded animate-pulse"}):n.jsxs(n.Fragment,{children:["Posted by"," ",n.jsx("button",{onClick:()=>a&&t("profile",a.userId),className:"font-medium hover:underline disabled:no-underline",disabled:!s||!a,children:(a==null?void 0:a.displayName)||(a==null?void 0:a.username)||"Unknown User"})," ","· ",r(e.createdAt)]})]})]})}),n.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-300 text-sm line-clamp-2",children:e.summary}),x.length>0&&n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.slice(0,3).map(m=>n.jsx("span",{className:"bg-indigo-100 dark:bg-[#252532] text-xs font-semibold px-3 py-1 rounded-full text-indigo-700 dark:text-indigo-300",children:m},m)),x.length>3&&n.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-xs font-semibold px-3 py-1 rounded-full text-gray-600 dark:text-gray-400",children:["+",x.length-3," more"]})]}),n.jsx(Ap,{currentStageId:f}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center space-x-1.5",children:[n.jsx(_i,{className:"w-5 h-5"}),n.jsxs("span",{children:[u," ",u===1?"Like":"Likes"]})]}),n.jsxs("span",{className:"flex items-center space-x-1.5",children:[n.jsx(Dt,{className:"w-5 h-5"}),n.jsxs("span",{children:[d," ",d===1?"Comment":"Comments"]})]})]}),n.jsx("button",{onClick:()=>t("ideaDetail",e.ideaId),className:"hover:text-indigo-600 dark:hover:text-indigo-400 font-semibold disabled:opacity-50",disabled:!s,children:"View Details →"})]})]})]})]})},Ha=gi.memo(Tp),Mp=e=>!e||!(e in Rl)?Xl:Rl[e],Ep=({post:e,setPage:t})=>{const[a,l]=y.useState(null),[s,i]=y.useState(!0),o=e!=null&&e.achievementId?Hr[e.achievementId]:null;if(y.useEffect(()=>{(async()=>{i(!0);try{if(e!=null&&e.userId){const u=await C.getUserById(e.userId);l(u)}else console.warn("Achievement post is missing userId:",e)}catch(u){console.error(`Failed to fetch user ${e==null?void 0:e.userId} for achievement post:`,u)}finally{i(!1)}})()},[e==null?void 0:e.userId]),s||!a||!o)return n.jsx("div",{className:"bg-[#1A1A24] p-4 rounded-lg shadow animate-pulse h-32 border border-white/10"});const c=Mp(o.icon);return n.jsx("div",{className:"bg-[#1A1A24] p-4 rounded-lg shadow border border-white/10",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("img",{className:"h-12 w-12 rounded-full object-cover",src:a.avatarUrl||"/default-avatar.png",alt:a.displayName||a.username}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-gray-400",children:[n.jsx("button",{onClick:()=>t("profile",a.userId),className:"font-medium hover:underline text-white",children:a.displayName||a.username})," unlocked the achievement:"]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-3 bg-[#252532] p-3 rounded-md",children:[n.jsx(c,{className:"w-6 h-6 text-yellow-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:o.name}),n.jsx("p",{className:"text-xs text-gray-400",children:o.description})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 text-right",children:e.createdAt?new Date(e.createdAt).toLocaleString():"Date unknown"})]})]})})},qr=e=>{if(!e)return"unknown date";try{const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return console.warn("Invalid date passed to timeAgo:",e),"unknown date";const a=Math.floor((new Date().getTime()-t.getTime())/1e3);if(a<0&&Math.abs(a)<5)return"just now";if(a<0)return"in the future";if(a<60)return`${a} seconds ago`;let l=a/31536e3;return l>1?Math.floor(l)+(Math.floor(l)===1?" year ago":" years ago"):(l=a/2592e3,l>1?Math.floor(l)+(Math.floor(l)===1?" month ago":" months ago"):(l=a/86400,l>1?Math.floor(l)+(Math.floor(l)===1?" day ago":" days ago"):(l=a/3600,l>1?Math.floor(l)+(Math.floor(l)===1?" hour ago":" hours ago"):(l=a/60,l>1?Math.floor(l)+(Math.floor(l)===1?" minute ago":" minutes ago"):"just now"))))}catch(t){return console.error("Error formatting date in timeAgo:",e,t),"unknown date"}},Dp=({post:e,setPage:t})=>{const[a,l]=y.useState(null),[s,i]=y.useState(null),[o,c]=y.useState(!0);return y.useEffect(()=>{(async()=>{c(!0);try{if(!e.ideaId){console.warn("Milestone post missing ideaId:",e),c(!1);return}const u=await C.getIdeaById(e.ideaId);if(i(u),u!=null&&u.ownerId){const d=await C.getUserById(u.ownerId);l(d)}else if(e.userId){const d=await C.getUserById(e.userId);l(d)}else console.warn("Could not determine user for milestone post:",e)}catch(u){console.error("Failed to fetch milestone post data:",u)}finally{c(!1)}})()},[e.ideaId,e.userId]),o?n.jsx("div",{className:"bg-gradient-to-br from-[#1A1A24] to-[#1D2E3A] rounded-2xl p-6 shadow-lg border border-cyan-400/20 animate-pulse h-40"}):!a||!s?null:n.jsx("div",{className:"bg-gradient-to-br from-[#1A1A24] to-[#1D2E3A] rounded-2xl p-6 shadow-lg border border-cyan-400/20",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("button",{onClick:()=>t("profile",a.userId),className:"flex-shrink-0",children:n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-700",src:a.avatarUrl||"/default-avatar.png",alt:a.displayName||a.username})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[" ",n.jsxs("p",{className:"text-sm text-gray-400 mb-2 truncate",children:[" ",n.jsx("button",{onClick:()=>t("profile",a.userId),className:"font-medium hover:underline text-white",children:a.displayName||a.username}),"'s project"," ",n.jsx("button",{onClick:()=>t("ideaDetail",s.ideaId),className:"font-medium hover:underline text-indigo-400",children:s.title})," ","just achieved a milestone · ",qr(e.createdAt)]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg flex items-center space-x-4 border border-white/10",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-cyan-400/10 flex-shrink-0",children:n.jsx(Ii,{className:"w-8 h-8 text-cyan-400"})}),n.jsxs("div",{className:"min-w-0",children:[" ",n.jsx("p",{className:"text-sm text-gray-400",children:"Milestone Completed"}),n.jsx("h3",{className:"font-bold text-xl text-white truncate",title:e.milestoneTitle||e.title,children:e.milestoneTitle||e.title||"Untitled Milestone"}),n.jsx("button",{onClick:()=>t("ideaDetail",s.ideaId),className:"mt-2 text-cyan-400 text-sm font-semibold hover:underline",children:"View Project Progress →"})]})]})]})]})})},pd=(e,t)=>{if(!t)return 0;const a=new Set((t.skills||[]).map(i=>i.skillName)),l=new Set(t.interests||[]);let s=0;return(e.requiredSkills||[]).forEach(i=>{a.has(i)&&(s+=15)}),(e.tags||[]).forEach(i=>{l.has(i)&&(s+=5)}),e.sector&&l.has(e.sector)&&(s+=10),s},yd=e=>{const t=(new Date().getTime()-new Date(e.createdAt).getTime())/36e5,a=1.8;return((e.likesCount||0)+(e.commentsCount||0)*2)/Math.pow(t+2,a)},bd=e=>{var a;let t=0;return t+=(e.requiredSkills||[]).length*5,t+=(e.commentsCount||0)*2,(e.collaborators||[]).length===0?t+=25:t+=10/((e.collaborators||[]).length||1),(((a=e.questionnaire)==null?void 0:a.skillsLooking)??"").trim().length>5&&(t+=15),t},vd=(e,t)=>{if(!t||!t.skills||t.skills.length===0)return 0;const a=new Set((t.skills||[]).map(s=>s.skillName));let l=0;return(e.requiredSkills||[]).forEach(s=>{a.has(s)&&l++}),l},zo=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0),[o,c]=y.useState(null),[r,u]=y.useState(""),[d,x]=y.useState(e?"relevant":"trending"),[f,m]=y.useState(()=>({sector:(e==null?void 0:e.interests.find(w=>ja.includes(w)))||"",region:"",skills:[]}));y.useEffect(()=>{(async()=>{i(!0),c(null);try{const w=await C.getFeedItems();l(w||[])}catch(w){c(`Failed to load the feed: ${w.message||"Please try again later."}`),console.error(w)}finally{i(!1)}})()},[]);const v=y.useMemo(()=>{let N=[...a];return N=N.filter(w=>{if(w.type==="achievement"||w.type==="milestone")return!0;const S=w.data;if(!S)return!1;let T=!0;if(r.trim()!==""){const E=r.toLowerCase();T=S.title.toLowerCase().includes(E)||S.summary.toLowerCase().includes(E)}return T&&f.sector&&(T=S.sector===f.sector),T&&f.region&&(T=S.region===f.region),T&&f.skills.length>0&&(T=f.skills.some(E=>(S.requiredSkills||[]).includes(E))),T}),N.sort((w,S)=>{const T=w.data.createdAt?new Date(w.data.createdAt).getTime():0,E=S.data.createdAt?new Date(S.data.createdAt).getTime():0;if(d==="newest")return E-T;let D=-1,z=-1;if(w.type==="idea"&&S.type==="idea")switch(d){case"likes":D=w.data.likesCount||0,z=S.data.likesCount||0;break;case"relevant":D=pd(w.data,e),z=pd(S.data,e);break;case"skillMatch":D=vd(w.data,e),z=vd(S.data,e);break;case"trending":D=yd(w.data),z=yd(S.data);break;case"collaboration":D=bd(w.data),z=bd(S.data);break}else w.type==="idea"?(D=1,z=-1):S.type==="idea"&&(D=-1,z=1);return z!==D?z-D:E-T}),N},[f,a,r,d,e]),j=N=>{const{name:w,value:S}=N.target;m(T=>({...T,[w]:S}))},M=N=>{u(N.target.value)},g=N=>{const{options:w}=N.target,S=[];for(let T=0,E=w.length;T<E;T++)w[T].selected&&S.push(w[T].value);m(T=>({...T,skills:S}))},h=N=>{x(N.target.value)},p=()=>{m({sector:"",region:"",skills:[]}),u("")},b="block w-full bg-white dark:bg-[#252532] border-2 border-gray-300 dark:border-[#374151] rounded-lg shadow-sm py-2 px-3 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500";return n.jsx("div",{className:"container mx-auto p-4 md:p-8 animate-fadeInUp",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Idea Feed"}),n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24]/70 backdrop-blur-md p-4 rounded-2xl border border-gray-200 dark:border-white/10 mb-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"search-ideas",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Search Ideas"}),n.jsx("input",{id:"search-ideas",type:"text",name:"search",placeholder:"Search by keywords in title or summary...",value:r,onChange:M,className:b})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sector-filter",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Sector"}),n.jsxs("select",{id:"sector-filter",name:"sector",value:f.sector,onChange:j,className:b,children:[n.jsx("option",{value:"",children:"All Sectors"}),ja.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"region-filter",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Region"}),n.jsxs("select",{id:"region-filter",name:"region",value:f.region,onChange:j,className:b,children:[n.jsx("option",{value:"",children:"All Regions"}),n0.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{htmlFor:"skills-filter",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Skills"}),n.jsx("select",{id:"skills-filter",name:"skills",multiple:!0,value:f.skills,onChange:g,className:`${b} h-24 scrollbar-thin`,children:s0.map(N=>n.jsx("option",{value:N,children:N},N))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sort-order",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Sort By"}),n.jsxs("select",{id:"sort-order",name:"sortOrder",value:d,onChange:h,className:b,children:[n.jsx("option",{value:"relevant",children:"Most Relevant"}),e&&n.jsx("option",{value:"skillMatch",children:"Skill Match"}),n.jsx("option",{value:"trending",children:"Trending"}),n.jsx("option",{value:"likes",children:"Most Liked"}),n.jsx("option",{value:"collaboration",children:"Collaboration Opportunity"}),n.jsx("option",{value:"newest",children:"Newest"})]})]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:p,className:"text-sm text-indigo-500 dark:text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-300",children:"Clear All Filters"})})]}),s&&n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}),o&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 text-red-300 p-4 rounded-lg text-center",children:o}),!s&&!o&&n.jsx("div",{className:"space-y-6",children:v.length>0?v.map(N=>N.type==="idea"?n.jsx(Ha,{idea:N.data,setPage:t},N.data.ideaId):N.type==="achievement"?!N.data||!N.data.postId?null:n.jsx(Ep,{post:N.data,setPage:t},N.data.postId):N.type==="milestone"?!N.data||!N.data.postId?null:n.jsx(Dp,{post:N.data,setPage:t},N.data.postId):null):n.jsx("div",{className:"bg-white dark:bg-[#1A1A24]/70 backdrop-blur-md p-8 rounded-2xl text-center text-gray-500 border border-gray-200 dark:border-white/10",children:"No items match your filter criteria."})})]})})},i0=({contentId:e,contentType:t,contentTitle:a,currentUser:l,onClose:s,onSubmit:i})=>{const[o,c]=y.useState("spam"),[r,u]=y.useState(""),[d,x]=y.useState(!1),f=async m=>{if(m.preventDefault(),!r.trim()){alert("Please provide some details for your report.");return}x(!0),await i(o,r),x(!1)};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[n.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx(es,{className:"w-6 h-6 text-red-400"}),n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Report Content"})]}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["You are reporting: ",n.jsx("span",{className:"font-semibold text-indigo-400",children:a})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-300 mb-1",children:"Reason for reporting"}),n.jsx("select",{id:"reason",value:o,onChange:m=>c(m.target.value),className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:Object.entries(kp).map(([m,v])=>n.jsx("option",{value:m,children:v},m))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"details",className:"block text-sm font-medium text-gray-300 mb-1",children:"Details"}),n.jsx("textarea",{id:"details",value:r,onChange:m=>u(m.target.value),rows:4,required:!0,placeholder:`Please provide specific details about why you are reporting this ${t}.`,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsx("button",{type:"submit",disabled:d,className:"bg-gradient-to-r from-red-500 to-orange-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:d?"Submitting...":"Submit Report"})})]})]})})},Op=({achievement:e})=>{const t=!!e.unlockedAt,a=Math.min(e.progress/e.goal*100,100),l=Rl[e.icon]||Xl;return n.jsxs("div",{className:`bg-[#1A1A24] p-6 rounded-2xl shadow-lg border ${t?"border-yellow-400/30":"border-white/10"} flex flex-col items-center text-center transition-all duration-300`,children:[n.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-4 ${t?"bg-yellow-400/10":"bg-[#252532]"}`,children:n.jsx(l,{className:`w-10 h-10 ${t?"text-yellow-400":"text-gray-400"}`})}),n.jsx("h3",{className:`font-bold text-lg ${t?"text-white":"text-gray-300"}`,children:e.name}),n.jsx("p",{className:"text-sm text-gray-400 mt-1 h-10",children:e.description}),n.jsx("div",{className:"w-full mt-4",children:t?n.jsxs("div",{className:"text-center font-semibold text-yellow-400 bg-yellow-400/10 py-1.5 rounded-lg",children:["Unlocked on ",new Date(e.unlockedAt).toLocaleDateString()]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[e.progress," / ",e.goal]})]}),n.jsx("div",{className:"w-full bg-[#252532] rounded-full h-2.5",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2.5 rounded-full",style:{width:`${a}%`}})})]})})]})},Ln=({icon:e,title:t,message:a,ctaText:l,onCtaClick:s})=>n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md border border-dashed border-white/20 p-8 rounded-2xl text-center flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-indigo-500/10 border-2 border-indigo-500/30 mb-4",children:n.jsx(e,{className:"w-8 h-8 text-indigo-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white",children:t}),n.jsx("p",{className:"text-gray-400 mt-2 max-w-xs",children:a}),l&&s&&n.jsx("button",{onClick:s,className:"mt-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold px-6 py-2.5 rounded-lg shadow-md hover:opacity-90 transition-opacity active:scale-95",children:l})]}),zp=({skill:e,currentUser:t,isEndorsable:a,onEndorse:l})=>{const[s,i]=y.useState([]),o=y.useMemo(()=>(e==null?void 0:e.endorsers)||[],[e==null?void 0:e.endorsers]);y.useEffect(()=>{(async()=>{if(o.length!==0)try{const u=await Promise.all(o.slice(0,3).map(d=>C.getUserById(d)));i(u.filter(d=>d!==null))}catch(u){console.error("Failed to fetch endorsers:",u)}})()},[o]);const c=!!t&&o.includes(t.userId);return n.jsxs("div",{className:"bg-[#252532] rounded-lg p-3 flex items-center space-x-3 transition-colors duration-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-white",children:(e==null?void 0:e.skillName)||"Unnamed Skill"}),o.length>0?n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx("div",{className:"flex -space-x-2",children:s.map(r=>n.jsx("img",{src:r.avatarUrl||"/default-avatar.png",alt:r.displayName||"User",className:"w-5 h-5 rounded-full ring-2 ring-[#252532]"},r.userId))}),n.jsxs("span",{className:"text-xs text-gray-400",children:["Endorsed by ",o.length," ",o.length===1?"person":"people"]})]}):n.jsx("p",{className:"text-xs text-gray-500",children:"No endorsements yet."})]}),a&&t&&n.jsx("button",{onClick:l,className:`p-2 rounded-full transition-all duration-200 ${c?"bg-indigo-600 text-white":"bg-gray-600 hover:bg-indigo-600 text-gray-300"}`,title:c?"Retract Endorsement":"Endorse Skill","aria-pressed":c,children:n.jsx(Bl,{className:`w-4 h-4 transition-transform ${c?"rotate-45":"rotate-0"}`})})]})},Bp=gi.memo(zp),_p=({userId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState([]),[u,d]=y.useState([]),[x,f]=y.useState(!0),[m,v]=y.useState(null),[j,M]=y.useState(!1),[g,h]=y.useState(!1),[p,b]=y.useState(!1),[N,w]=y.useState(!1),[S,T]=y.useState("ideas");y.useEffect(()=>{(async()=>{f(!0),v(null),s(null),o([]),r([]),d([]);try{const _=await C.getUserById(e);if(!_){v("User not found."),f(!1);return}s(_);const[A,H,U]=await Promise.all([C.getIdeasByOwnerId(e),C.getIdeasByCollaboratorId(e),C.getUserAchievements(e)]);o(A||[]),r(H||[]),d(U||[]),M(!!t&&(t.connections||[]).includes(e))}catch(_){v("Failed to fetch profile data."),console.error("Profile fetch error:",_)}finally{f(!1)}})()},[e,t==null?void 0:t.connections,t==null?void 0:t.userId]);const E=async()=>{if(!(g||!t)){h(!0);try{await C.sendConnectionRequest(e),M(!j)}catch(L){console.error("Connection request failed:",L),alert("Failed to send connection request.")}finally{h(!1)}}},D=async L=>{if(!(!l||!t))try{const _=await C.endorseSkill(l.userId,L);_&&s(A=>A?{...A,skills:_.skills}:null)}catch(_){console.error("Endorsement failed:",_),alert("Failed to endorse skill.")}},z=()=>{t&&(w(!0),b(!1))},V=async(L,_)=>{if(!(!l||!t))try{await C.submitReport({contentType:"user",contentId:l.userId,reason:L,details:_}),w(!1),alert("Thank you for your report. Our team will review this shortly.")}catch(A){console.error("Report submission failed:",A),alert("Failed to submit report.")}};if(x)return n.jsx("div",{className:"text-center p-8",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400 inline-block"})});if(m)return n.jsx("div",{className:"text-center p-8 text-red-400",children:m});if(!l)return n.jsx("div",{className:"text-center p-8",children:"User not found."});const ee=(t==null?void 0:t.userId)===l.userId;return n.jsxs(n.Fragment,{children:[N&&t&&n.jsx(i0,{contentId:l.userId,contentType:"user",contentTitle:`the profile of ${l.displayName||"this user"}`,currentUser:t,onClose:()=>w(!1),onSubmit:V}),n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start sm:space-x-8",children:[n.jsx("img",{src:l.avatarUrl||"/default-avatar.png",alt:l.displayName||"User",className:"w-32 h-32 rounded-full ring-4 ring-indigo-500/50 object-cover"}),n.jsxs("div",{className:"flex-1 mt-4 sm:mt-0 text-center sm:text-left",children:[n.jsxs("div",{className:"flex items-center justify-center sm:justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:l.displayName||"User"}),n.jsxs("div",{className:"relative ml-4",children:[t&&!ee&&n.jsx("button",{onClick:()=>b(!p),className:"p-2 rounded-full hover:bg-white/10",children:n.jsx(qi,{className:"w-5 h-5 text-gray-400"})}),p&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-[#252532] ring-1 ring-black ring-opacity-5 z-10",children:n.jsx("div",{className:"py-1",children:n.jsxs("button",{onClick:z,className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(es,{className:"w-4 h-4"}),n.jsx("span",{children:"Report User"})]})})})]})]}),n.jsx("p",{className:"text-gray-300 mt-2",children:l.bio||"No bio provided."}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 justify-center sm:justify-start",children:[t&&!ee&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{disabled:g,onClick:E,className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[n.jsx(Ca,{className:"w-5 h-5"}),n.jsx("span",{children:j?"Connected":"Connect"})]}),n.jsxs("button",{onClick:async()=>{if(t)try{const L=await C.startConversation(l.userId);a("chat",L.conversationId||L.id)}catch(L){console.error("Failed to start conversation",L),alert("Could not start conversation.")}},className:"flex items-center space-x-2 bg-[#252532] text-white px-4 py-2 rounded-lg hover:bg-[#374151]",children:[n.jsx(Dt,{className:"w-5 h-5"}),n.jsx("span",{children:"Message"})]})]}),l.linkedInUrl&&n.jsx("a",{href:l.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(Ym,{className:"w-6 h-6"})}),l.portfolioUrl&&n.jsx("a",{href:l.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(Vm,{className:"w-6 h-6"})})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Skills & Endorsements"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(l.skills||[]).length>0?(l.skills||[]).map(L=>n.jsx(Bp,{skill:L,currentUser:t,isEndorsable:!!t&&!ee,onEndorse:()=>D(L.skillName)},L.skillName)):n.jsx("p",{className:"text-gray-500 col-span-full",children:"No skills listed yet."})})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"border-b border-white/10",children:n.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[n.jsxs("button",{onClick:()=>T("ideas"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${S==="ideas"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Ideas (",(i||[]).length+(c||[]).length,")"]}),n.jsxs("button",{onClick:()=>T("achievements"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${S==="achievements"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Achievements (",(u||[]).filter(L=>L==null?void 0:L.unlockedAt).length,")"]})]})}),n.jsxs("div",{className:"py-6",children:[S==="ideas"&&n.jsxs("div",{className:"space-y-6",children:[(i||[]).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Owned Ideas"}),n.jsx("div",{className:"space-y-4",children:i.map(L=>n.jsx(Ha,{idea:L,setPage:a},L.ideaId))})]}),(c||[]).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Collaborating On"}),n.jsx("div",{className:"space-y-4",children:c.map(L=>n.jsx(Ha,{idea:L,setPage:a},L.ideaId))})]}),(i||[]).length===0&&(c||[]).length===0&&n.jsx(Ln,{icon:_i,title:"No Ideas Yet",message:`${ee?"You haven't":`${l.displayName||"This user"} hasn't`} posted or joined any ideas yet.`,...ee&&{ctaText:"Post Your First Idea",onCtaClick:()=>a("newIdea")}})]}),S==="achievements"&&n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(u||[]).length>0?(u||[]).map(L=>{const _=L?Hr[L.achievementId]:null;if(!_)return null;const A={..._,progress:L.progress||0,unlockedAt:L.unlockedAt};return n.jsx(Op,{achievement:A},L.achievementId)}):n.jsx("div",{className:"col-span-full",children:n.jsx(Ln,{icon:Xl,title:"No Achievements",message:`${l.displayName||"This user"} hasn't unlocked any achievements yet.`})})})]})]})]})})]})},Up=({ideaId:e,milestone:t,onClose:a,onSave:l})=>{const[s,i]=y.useState((t==null?void 0:t.title)||""),[o,c]=y.useState((t==null?void 0:t.description)||""),[r,u]=y.useState(t!=null&&t.targetDate?new Date(t.targetDate).toISOString().split("T")[0]:""),[d,x]=y.useState(!1),[f,m]=y.useState(!0),v=async j=>{if(j.preventDefault(),!s||!o||!r){alert("Please fill out all fields.");return}if(!await C.checkBackendHealth()){m(!1),alert("Backend service is currently unavailable. Please try again later.");return}m(!0),x(!0);try{const g={title:s,description:o,targetDate:new Date(r).toISOString()};let h;t!=null&&t.id?h=await C.editMilestone(e,t.id,g):h=await C.addMilestone(e,g),l(h),a()}catch(g){console.error("Failed to save milestone:",g),alert(`Failed to save milestone: ${g.message}`)}finally{x(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[!f&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(Pn,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Backend service unavailable"})]}),n.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:[t!=null&&t.id?"Edit":"Add"," Milestone"]}),n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),n.jsx("input",{type:"text",value:s,onChange:j=>i(j.target.value),required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),n.jsx("textarea",{value:o,onChange:j=>c(j.target.value),rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Target Date"}),n.jsx("input",{type:"date",value:r,onChange:j=>u(j.target.value),required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]}),n.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:a,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:d||!f,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:d?"Saving...":"Save Milestone"})]})]})]})})},Nl=({rating:e=0,setRating:t,size:a="w-6 h-6"})=>n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(l=>n.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(l),className:`text-gray-500 transition-colors ${t?"cursor-pointer":"cursor-default"} ${e>=l?"text-yellow-400":t?"hover:text-yellow-300":""}`,disabled:!t,"aria-label":`Rate ${l} out of 5 stars`,children:n.jsx(Hi,{className:`${a} ${e>=l?"fill-current":""}`})},l))}),Rp=({idea:e,currentUser:t,onClose:a,onSubmit:l})=>{const[s,i]=y.useState({problemClarity:null,solutionViability:null,marketPotential:null}),[o,c]=y.useState(""),[r,u]=y.useState(!1),[d,x]=y.useState(!0),f=(v,j)=>{i(M=>({...M,[v]:j}))},m=async v=>{if(v.preventDefault(),Object.values(s).some(M=>M===null)||!o.trim()){alert("Please provide a rating for all categories and a comment.");return}if(!t){alert("Please log in to submit feedback.");return}if(!await C.checkBackendHealth()){x(!1),alert("Backend service is currently unavailable. Please try again later.");return}x(!0),u(!0);try{const M={ideaId:e.ideaId,ratings:{problemClarity:s.problemClarity??0,solutionViability:s.solutionViability??0,marketPotential:s.marketPotential??0},comment:o,feasibility:s.solutionViability,innovation:s.problemClarity,marketPotential:s.marketPotential},{feedback:g,unlockedAchievements:h}=await C.submitFeedback(M);l(g,h||[]),a()}catch(M){console.error("Failed to submit feedback:",M),alert(`Failed to submit feedback: ${M.message}`)}finally{u(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[!d&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(Pn,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Backend service unavailable"})]}),n.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Provide Feedback"}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["On idea: ",n.jsx("span",{className:"font-semibold text-indigo-400",children:e.title})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"font-medium text-gray-300",children:"Problem Clarity"}),n.jsx(Nl,{rating:s.problemClarity??0,setRating:v=>f("problemClarity",v)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"font-medium text-gray-300",children:"Solution Viability"}),n.jsx(Nl,{rating:s.solutionViability??0,setRating:v=>f("solutionViability",v)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"font-medium text-gray-300",children:"Market Potential"}),n.jsx(Nl,{rating:s.marketPotential??0,setRating:v=>f("marketPotential",v)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Comment"}),n.jsx("textarea",{value:o,onChange:v=>c(v.target.value),rows:4,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:a,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:r||!d,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:r?"Submitting...":"Submit Feedback"})]})]})]})})},Lp=({feedback:e})=>{var r,u,d;const[t,a]=y.useState(null),[l,s]=y.useState(!0);if(y.useEffect(()=>{(async()=>{if(!e.userId)return;if(!await C.checkBackendHealth()){s(!1);return}s(!0);try{const m=await C.getUserById(e.userId);a(m)}catch(m){console.error("Failed to fetch feedback user:",m)}})()},[e.userId]),!l)return n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsx("div",{className:"flex-1 bg-red-900/20 border border-red-700/30 text-red-300 text-sm p-3 rounded-lg",children:"User data unavailable"})]});if(!t)return n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg animate-pulse h-24"});const i=e.feasibility??((r=e.ratings)==null?void 0:r.problemClarity),o=e.innovation??((u=e.ratings)==null?void 0:u.solutionViability),c=e.marketPotential??e.market_potential??((d=e.ratings)==null?void 0:d.marketPotential);return n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("img",{src:t.avatarUrl||"/default-avatar.png",alt:t.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-baseline space-x-2",children:[n.jsx("span",{className:"font-semibold text-white",children:t.displayName||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt||e.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 my-2 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-400",children:"Problem:"}),n.jsx(Nl,{rating:i,size:"w-4 h-4"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-400",children:"Solution:"}),n.jsx(Nl,{rating:o,size:"w-4 h-4"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-400",children:"Potential:"}),n.jsx(Nl,{rating:c,size:"w-4 h-4"})]})]}),e.comment&&n.jsx("p",{className:"text-gray-300 mt-1 bg-[#252532]/50 p-3 rounded-lg",children:e.comment})]})]})},Hp=({idea:e,onClose:t,onSubmit:a})=>{const[l,s]=y.useState({skills:"",contribution:"",motivation:""}),[i,o]=y.useState(!0),[c,r]=y.useState(!1),u=x=>{const{name:f,value:m}=x.target;s(v=>({...v,[f]:m}))},d=async x=>{if(x.preventDefault(),!await C.checkBackendHealth()){o(!1),alert("Backend service is currently unavailable. Please try again later.");return}o(!0),r(!0);try{await a(l)}finally{r(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[!i&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(Pn,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Backend service unavailable"})]}),n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Request to Collaborate"}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["On idea: ",n.jsx("span",{className:"font-semibold text-indigo-400",children:e.title})]}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What relevant skills/experience can you contribute?"}),n.jsx("textarea",{name:"skills",value:l.skills,onChange:u,rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What would you like to contribute?"}),n.jsx("textarea",{name:"contribution",value:l.contribution,onChange:u,rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What is your motivation for joining?"}),n.jsx("textarea",{name:"motivation",value:l.motivation,onChange:u,rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsx("button",{type:"submit",disabled:c||!i,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:c?"Submitting...":"Submit Request"})})]})]})})},qp=({request:e,onApprove:t,onDeny:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState(!0),[c,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e.requesterId){r(!1);return}if(r(!0),!await C.checkBackendHealth()){o(!1),r(!1);return}o(!0);try{const x=await C.getUserById(e.requesterId);s(x)}catch(x){console.error("Failed to fetch requester:",x)}finally{r(!1)}})()},[e.requesterId]),i?c?n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg animate-pulse h-40"}):l?n.jsxs("div",{className:"bg-[#252532]/50 p-4 rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("img",{src:l.avatarUrl||"/default-avatar.png",alt:l.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:l.displayName||"User"}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Sent on ",new Date(e.createdAt).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-indigo-300",children:"Skills/Experience"}),n.jsx("p",{className:"text-gray-300",children:e.skills||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-indigo-300",children:"Contribution"}),n.jsx("p",{className:"text-gray-300",children:e.contribution||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-indigo-300",children:"Motivation"}),n.jsx("p",{className:"text-gray-300",children:e.motivation||"Not provided"})]})]}),e.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>t(e.requestId),className:"flex-1 bg-green-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>a(e.requestId),className:"flex-1 bg-red-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-red-700",children:"Deny"})]})]}):n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"Could not load requester details."})}):n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg border border-red-700/30",children:n.jsx("div",{className:"text-red-300 text-sm text-center",children:"User data unavailable"})})},Ip=({comment:e,onReport:t,isGuest:a,currentUser:l})=>{const[s,i]=y.useState(null),[o,c]=y.useState(!1),[r,u]=y.useState(!0),[d,x]=y.useState(!0);y.useEffect(()=>{(async()=>{if(!e.userId){x(!1);return}if(x(!0),!await C.checkBackendHealth()){u(!1),x(!1);return}u(!0);try{const j=await C.getUserById(e.userId);i(j)}catch(j){console.error("Failed to fetch commenter:",j)}finally{x(!1)}})()},[e.userId]);const f=m=>{if(!m)return"unknown time";try{const v=Math.floor((new Date().getTime()-new Date(m).getTime())/1e3);if(isNaN(v)||v<0)return"just now";let j=v/31536e3;return j>1?Math.floor(j)+" years ago":(j=v/2592e3,j>1?Math.floor(j)+" months ago":(j=v/86400,j>1?Math.floor(j)+" days ago":(j=v/3600,j>1?Math.floor(j)+" hours ago":(j=v/60,j>1?Math.floor(j)+" minutes ago":Math.max(0,Math.floor(v))+" seconds ago"))))}catch(v){return console.error("Error formatting comment date:",m,v),"unknown date"}};return r?d?n.jsxs("div",{className:"flex items-start space-x-3 py-4 animate-pulse",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"})]})]}):e.isUnderReview?n.jsxs("div",{className:"flex items-center space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsx("div",{className:"flex-1 bg-yellow-900/20 border border-yellow-700/30 text-yellow-300 text-sm p-3 rounded-lg",children:"This comment is currently under review."})]}):s?n.jsxs("div",{className:"flex items-start space-x-3 py-4 group",children:[n.jsx("img",{src:s.avatarUrl||"/default-avatar.png",alt:s.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"bg-[#252532]/50 p-3 rounded-lg rounded-tl-none relative",children:[n.jsxs("div",{className:"flex items-baseline space-x-2",children:[n.jsx("span",{className:"font-semibold text-white",children:s.displayName||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:f(e.createdAt||e.created_at)})]}),n.jsx("p",{className:"text-gray-300 mt-1",children:e.text}),n.jsxs("div",{className:"absolute top-2 right-2",children:[!a&&(l==null?void 0:l.userId)!==e.userId&&n.jsx("button",{onClick:()=>c(!o),className:"p-1 rounded-full opacity-0 group-hover:opacity-100 hover:bg-white/10 text-gray-400 hover:text-white",children:n.jsx(qi,{className:"w-4 h-4"})}),o&&!a&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-32 rounded-md shadow-lg bg-[#374151] ring-1 ring-black ring-opacity-5 z-10",children:n.jsx("div",{className:"py-1",children:n.jsxs("button",{onClick:()=>{t(e.commentId||e.id),c(!1)},className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(es,{className:"w-4 h-4"}),n.jsx("span",{children:"Report"})]})})})]})]})})]}):n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-gray-500 text-sm",children:"Could not load commenter details."}),n.jsx("p",{className:"text-gray-300 mt-1",children:e.text})]})]}):n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsx("div",{className:"flex-1 bg-red-900/20 border border-red-700/30 text-red-300 text-sm p-3 rounded-lg",children:"User data unavailable"})]})},Yp=({record:e})=>{const[t,a]=y.useState(null),[l,s]=y.useState(!0),[i,o]=y.useState(!1);y.useEffect(()=>{(async()=>{if(e.recordType==="collaboration"&&e.collaboratorId){if(o(!0),!await C.checkBackendHealth()){s(!1),o(!1);return}s(!0);try{const v=await C.getUserById(e.collaboratorId);a(v)}catch(v){console.error("Failed to fetch collaborator:",v)}finally{o(!1)}}})()},[e.recordType,e.collaboratorId]);const c=()=>{switch(e.recordType){case"timestamp":return{icon:n.jsx(_l,{className:"w-6 h-6 text-emerald-400 flex-shrink-0"}),title:"Idea Timestamped",description:"The creation of this idea was permanently recorded on the blockchain."};case"collaboration":let f="A collaboration event was recorded.";return i?f="Loading collaborator details...":t?f=`${t.displayName||"A user"} officially joined the project.`:l?f="Could not load collaborator details.":f="Collaborator details unavailable (service offline).",{icon:n.jsx(Li,{className:"w-6 h-6 text-sky-400 flex-shrink-0"}),title:"Collaboration Agreement",description:f};default:return{icon:n.jsx(_l,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),title:"Blockchain Event",description:"An event was recorded on the blockchain."}}},{icon:r,title:u,description:d}=c(),x=e.blockchainNetwork==="Polygon"?`https://polygonscan.com/tx/${e.transactionHash}`:"/#";return n.jsxs("div",{className:"bg-[#252532]/50 border border-white/10 rounded-lg p-4 flex items-start space-x-4",children:[r,n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-white",children:u}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.timestamp?new Date(e.timestamp).toLocaleString():"Date Unknown"," · ",e.blockchainNetwork||"Unknown Network"]}),e.transactionHash&&n.jsxs("p",{className:"text-sm text-gray-400 mt-1 break-all",children:["Tx Hash:",n.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-indigo-300 hover:underline ml-1 text-xs",title:e.transactionHash,children:`${e.transactionHash.substring(0,6)}...${e.transactionHash.substring(e.transactionHash.length-4)}`})]})]})]})},Vp=({user:e,setPage:t})=>{const a=e.matchScore??0,l=a>85?"text-emerald-400":a>70?"text-yellow-400":"text-orange-400";return n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg flex flex-col items-center text-center",children:[n.jsxs("div",{className:"relative w-20 h-20",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{className:"text-gray-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"}),n.jsx("circle",{className:l,strokeWidth:"8",strokeDasharray:2*Math.PI*45,strokeDashoffset:2*Math.PI*45*(1-a/100),strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%"}})]}),n.jsx("img",{src:e.avatarUrl||"/default-avatar.png",alt:e.displayName||"User",className:"absolute top-1/2 left-1/2 w-16 h-16 rounded-full -translate-x-1/2 -translate-y-1/2 object-cover"})]}),n.jsxs("span",{className:`text-2xl font-bold mt-2 ${l}`,children:[a,"%"]}),n.jsx("span",{className:"text-xs text-gray-400 -mt-1",children:"Match"}),n.jsx("h4",{className:"font-semibold text-white mt-3",children:e.displayName||"User"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(e.skills||[]).map(s=>s.skillName).slice(0,2).join(", ")}),n.jsxs("p",{className:"text-sm text-gray-300 my-3 italic h-10 line-clamp-2",children:['"',e.reason||"No specific reason provided.",'"']}),n.jsx("button",{onClick:()=>t("profile",e.userId),className:"w-full mt-auto bg-indigo-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-indigo-700",children:"View Profile"})]})},Gp=({currentStageId:e,isOwner:t,onUpdate:a})=>{const l=e||"idea-stage",s=jl.findIndex(i=>i.id===l);return n.jsx("div",{className:"space-y-4",children:jl.map((i,o)=>{const c=o<s,r=o===s;return n.jsxs("div",{className:"relative flex items-start",children:[o<jl.length-1&&n.jsx("div",{className:`absolute top-5 left-5 -ml-px w-0.5 h-full ${c?"bg-indigo-500":"bg-gray-600"}`}),n.jsxs("button",{disabled:!t,onClick:()=>t&&a(i.id),className:"flex items-center space-x-3 z-10 w-full text-left disabled:cursor-not-allowed group",children:[n.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 border-2 ${c?"bg-indigo-500 border-indigo-500":r?"bg-indigo-500 border-indigo-500 ring-4 ring-indigo-500/30":"bg-gray-700 border-gray-600 group-hover:bg-gray-600 group-hover:border-gray-500"}`,children:[c&&n.jsx(Ul,{className:"w-5 h-5 text-white"}),!c&&n.jsx("span",{className:`font-bold text-sm ${r?"text-white":"text-gray-400"}`,children:o+1})]}),n.jsx("span",{className:`font-medium ${r||c?"text-white":"text-gray-400 group-hover:text-white"}`,children:i.name})]})]},i.id)})})},Qp=({ideaId:e,currentUser:t,isGuest:a,setPage:l,onAchievementsUnlock:s,onGuestAction:i})=>{const[o,c]=y.useState(null),[r,u]=y.useState(null),[d,x]=y.useState(!0),[f,m]=y.useState(null),[v,j]=y.useState(!1),[M,g]=y.useState(!1),[h,p]=y.useState([]),[b,N]=y.useState([]),[w,S]=y.useState([]),[T,E]=y.useState(""),[D,z]=y.useState(!1),[V,ee]=y.useState([]),[L,_]=y.useState("feedback"),[A,H]=y.useState([]),[U,Q]=y.useState(!1),[te,se]=y.useState(!1),[ze,q]=y.useState(null),[ne,Be]=y.useState(!1),[Pt,jt]=y.useState(null),[Se,fe]=y.useState(!0),ve=y.useCallback(async O=>{if(O&&x(!0),!await C.checkBackendHealth()){fe(!1),O&&x(!1),m("Backend service is currently unavailable.");return}fe(!0),m(null);try{const J=await C.getIdeaById(e);if(c(J),J){const[me,Nt,ns,Ze,d0]=await Promise.all([C.getUserById(J.ownerId),C.getCollaborationRequestsByIdeaId(e),C.getCommentsByIdeaId(e),C.getBlockchainRecordsByIdeaId(e),C.getFeedbackByIdeaId(e)]);u(me),p(Nt||[]),N(ns||[]),ee(Ze||[]),S(d0||[])}else m("Idea not found.")}catch(J){console.error("Failed to fetch idea data:",J),m("Failed to load idea details.")}finally{O&&x(!1)}},[e]);y.useEffect(()=>{let O,Z=!0;return(async()=>{if(await ve(!0),Z&&o){const me=await C.getBlockchainRecordsByIdeaId(e);ee(me||[]),Z&&(me||[]).length===0&&(console.log("Starting blockchain polling for idea:",e),O=window.setInterval(async()=>{if(!Z){clearInterval(O);return}try{const Nt=await C.getBlockchainRecordsByIdeaId(e);Z&&(Nt||[]).length>0&&(console.log("Blockchain records found, stopping poll for idea:",e),ee(Nt||[]),clearInterval(O))}catch(Nt){console.error("Error during blockchain poll:",Nt),clearInterval(O)}},5e3))}})(),()=>{Z=!1,O&&(console.log("Clearing blockchain poll interval for idea:",e),clearInterval(O))}},[e,ve]);const Zl=y.useCallback(async()=>{if(Q(!0),!await C.checkBackendHealth()){fe(!1),Q(!1),alert("Cannot fetch recommendations: Backend service unavailable.");return}fe(!0);try{const Z=await C.getRecommendedCollaborators(e);H(Z||[])}catch(Z){console.error("Failed to fetch recommendations:",Z),alert("Could not fetch recommendations at this time.")}finally{Q(!1)}},[e]),Jl=async O=>{if(!o||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.submitCollaborationRequest({ideaId:o.ideaId,...O}),j(!1),alert("Your collaboration request has been sent!"),ve(!1)}catch(J){console.error("Failed to submit collaboration request:",J),alert(`Failed to submit request: ${J.message||"Unknown error"}`)}},ts=async(O,Z)=>{if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{const me=await C.updateCollaborationRequestStatus(O,Z);s((me==null?void 0:me.unlockedAchievements)||[]),ve(!1)}catch(me){console.error(`Failed to ${Z} request:`,me),alert(`Failed to update request: ${me.message||"Unknown error"}`)}},Yi=async O=>{if(O.preventDefault(),a){i();return}if(!T.trim()||!o||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0),z(!0);try{const J=await C.postComment(o.ideaId,T);N(me=>[...me,J]),c(me=>me?{...me,commentsCount:(me.commentsCount??0)+1}:null),E("")}catch(J){console.error("Failed to post comment:",J),alert(`Failed to post comment: ${J.message||"Unknown error"}`)}finally{z(!1)}},as=async O=>{var ns;if(a){i();return}if(!o||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);const J=(ns=(o.votes||[]).find(Ze=>Ze.userId===t.userId))==null?void 0:ns.type,me=[...o.votes||[]],Nt=me.findIndex(Ze=>Ze.userId===t.userId);J===O?Nt>-1&&me.splice(Nt,1):(Nt>-1&&me.splice(Nt,1),me.push({userId:t.userId,type:O})),c(Ze=>Ze?{...Ze,votes:me}:null);try{const Ze=await C.castVote(o.ideaId,O);Ze&&c(Ze)}catch(Ze){console.error("Vote failed:",Ze),alert(`Failed to cast vote: ${Ze.message||"Unknown error"}`),ve(!1)}},Vi=(O,Z)=>{S(J=>[O,...J]),g(!1),s(Z)},Gi=async O=>{if(!o||!he)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{const J=await C.updateIdeaProgressStage(o.ideaId,O);J&&c(J)}catch(J){console.error("Failed to update progress:",J),alert(`Failed to update progress: ${J.message||"Unknown error"}`)}},ls=async(O,Z)=>{if(!ze||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.submitReport({contentType:ze.type,contentId:ze.id,reason:O,details:Z}),q(null),alert("Thank you for your report. Our team will review this shortly.")}catch(me){console.error("Report submission failed:",me),alert(`Failed to submit report: ${me.message||"Unknown error"}`)}},Qi=async O=>{if(o&&window.confirm("Are you sure you want to delete this milestone?")){if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.deleteMilestone(o.ideaId,O),ve(!1)}catch(J){console.error("Failed to delete milestone:",J),alert(`Failed to delete milestone: ${J.message||"Unknown error"}`)}}},B=async O=>{if(!o)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.completeMilestone(o.ideaId,O),ve(!1),alert("Milestone completed! A success story has been posted to the feed.")}catch(J){console.error("Failed to complete milestone:",J),alert(`Failed to complete milestone: ${J.message||"Unknown error"}`)}},{upvotes:I,downvotes:K,userVote:ce}=y.useMemo(()=>{var Z;if(!o)return{upvotes:0,downvotes:0,userVote:null};const O=o.votes||[];return{upvotes:O.filter(J=>J.type==="up").length,downvotes:O.filter(J=>J.type==="down").length,userVote:((Z=O.find(J=>J.userId===(t==null?void 0:t.userId)))==null?void 0:Z.type)||null}},[o,t==null?void 0:t.userId]);if(d)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});if(f)return n.jsx("div",{className:"text-center p-8 text-red-400",children:f});if(!o||!r)return n.jsx("div",{className:"text-center p-8 text-gray-500",children:"Idea not found or owner data missing."});const he=(t==null?void 0:t.userId)===o.ownerId,$a=!!t&&(o.collaborators||[]).includes(t.userId),Xi=t?(h||[]).find(O=>O.requesterId===t.userId):null,o0=(Xi==null?void 0:Xi.status)==="pending",Ir=t?(w||[]).some(O=>O.userId===t.userId):!1,c0=()=>{if(a)return n.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-3 rounded-lg shadow-md hover:opacity-90",children:"Sign Up to Collaborate"});if(he)return n.jsxs("button",{onClick:()=>l("analytics",o.ideaId),className:"w-full bg-gradient-to-r from-teal-500 to-cyan-600 text-white px-6 py-3 rounded-lg shadow-md hover:opacity-90 flex items-center justify-center space-x-2",children:[n.jsx(Rr,{className:"w-5 h-5"}),n.jsx("span",{children:"View Analytics"})]});let O="Request to Collaborate",Z=!1;return $a?(O="You are a Collaborator",Z=!0):o0&&(O="Collaboration Request Pending",Z=!0),n.jsx("button",{onClick:()=>j(!0),disabled:Z||!Se,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-3 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:O})},Zi=(h||[]).filter(O=>O.status==="pending"),r0=he||!!t&&(o.forumMembers||[]).includes(t.userId),u0=o.progressStage==="in-development"||o.progressStage==="launched",Yr=[...o.roadmap||[]].sort((O,Z)=>new Date(O.targetDate).getTime()-new Date(Z.targetDate).getTime());return n.jsxs(n.Fragment,{children:[v&&t&&n.jsx(Hp,{idea:o,onClose:()=>j(!1),onSubmit:Jl}),M&&n.jsx(Rp,{idea:o,currentUser:t,onClose:()=>g(!1),onSubmit:Vi}),ze&&t&&n.jsx(i0,{contentId:ze.id,contentType:ze.type,contentTitle:ze.title,currentUser:t,onClose:()=>q(null),onSubmit:ls}),ne&&he&&n.jsx(Up,{ideaId:o.ideaId,milestone:Pt,onClose:()=>{Be(!1),jt(null)},onSave:()=>{ve(!1),Be(!1),jt(null)}}),n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[!Se&&n.jsxs("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-3",children:[n.jsx(Pn,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-red-300",children:"Backend Service Unavailable"}),n.jsx("p",{className:"text-red-200 text-sm",children:"Some features may not work properly. Please try again later."})]})]}),o.isUnderReview&&n.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700/50 text-yellow-200 text-sm p-4 rounded-lg mb-6 flex items-start space-x-3",children:[n.jsx(Rn,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold",children:"Content Under Review"}),n.jsx("p",{children:"This idea has been reported and is currently under review."})]})]}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("button",{onClick:()=>l("feed"),className:"text-indigo-400 mb-4 hover:underline",children:"← Back to Feed"}),n.jsxs("div",{className:"relative",children:[!a&&n.jsx("button",{onClick:()=>se(!te),className:"p-2 rounded-full hover:bg-white/10",children:n.jsx(qi,{className:"w-5 h-5 text-gray-400"})}),te&&!a&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-[#252532] ring-1 ring-black ring-opacity-5 z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:()=>{q({type:"idea",id:o.ideaId,title:`the idea "${o.title}"`}),se(!1)},className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(es,{className:"w-4 h-4"}),n.jsx("span",{children:"Report Idea"})]}),he&&n.jsxs("button",{onClick:()=>{alert("Edit idea not implemented"),se(!1)},className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(Oc,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit Idea"})]})]})})]})]}),n.jsxs("div",{className:"flex flex-row items-start gap-x-6",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-2 flex-shrink-0",children:[n.jsx("button",{onClick:()=>as("up"),disabled:a||!Se,className:`p-2 rounded-full transition-colors ${ce==="up"?"bg-indigo-600 text-white":"bg-[#252532] hover:bg-[#374151] disabled:opacity-50"}`,"aria-label":"Upvote",children:n.jsx(Qm,{className:"w-6 h-6"})}),n.jsx("span",{className:"font-bold text-xl text-white",children:I-K}),n.jsx("button",{onClick:()=>as("down"),disabled:a||!Se,className:`p-2 rounded-full transition-colors ${ce==="down"?"bg-red-600 text-white":"bg-[#252532] hover:bg-[#374151] disabled:opacity-50"}`,"aria-label":"Downvote",children:n.jsx(Xm,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[" ",n.jsx("h1",{className:"text-4xl font-bold text-white mb-6",children:o.title}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Summary"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.summary})," "]}),o.description&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Description"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.description})]}),o.questionnaire&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Ideation Details"}),n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Problem Statement"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.problemStatement||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Target Audience"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.targetAudience||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Resources Needed"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.resourcesNeeded||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Timeline"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.timeline||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Skills Looking For"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.skillsLooking||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Vision for Success"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.visionForSuccess||"Not provided"})]})]})]}),n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[n.jsx(Ii,{className:"w-6 h-6 text-cyan-400"}),n.jsx("span",{children:"Project Roadmap"})]}),he&&n.jsxs("button",{onClick:()=>{jt(null),Be(!0)},className:"flex items-center space-x-2 bg-[#252532] hover:bg-[#374151] px-3 py-1.5 text-sm rounded-lg disabled:opacity-50",disabled:!Se,children:[n.jsx(Bl,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Milestone"})]})]}),Yr.length>0?n.jsx("div",{className:"space-y-4",children:Yr.map(O=>n.jsxs("div",{className:`p-4 rounded-lg border ${O.status==="completed"?"bg-emerald-900/20 border-emerald-500/30":"bg-black/20 border-white/10"}`,children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[O.status==="completed"?n.jsx(Ul,{className:"w-5 h-5 text-emerald-400"}):n.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-500 flex-shrink-0"}),n.jsx("h3",{className:"font-bold text-white",children:O.title})]}),n.jsx("p",{className:"text-sm text-gray-400 mt-2 pl-8",children:O.description})]}),n.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[n.jsx(l0,{className:"w-4 h-4"}),n.jsx("span",{children:new Date(O.targetDate).toLocaleDateString()})]}),he&&n.jsxs("div",{className:"mt-2 space-x-2",children:[n.jsx("button",{onClick:()=>{jt(O),Be(!0)},className:"p-1.5 hover:bg-white/10 rounded-md disabled:opacity-50",disabled:!Se,children:n.jsx(Oc,{className:"w-4 h-4 text-gray-400"})}),n.jsx("button",{onClick:()=>Qi(O.id),className:"p-1.5 hover:bg-white/10 rounded-md disabled:opacity-50",disabled:!Se,children:n.jsx(Ri,{className:"w-4 h-4 text-gray-400"})})]})]})]}),he&&O.status==="pending"&&n.jsx("div",{className:"pl-8 pt-3 mt-3 border-t border-white/10",children:n.jsxs("button",{onClick:()=>B(O.id),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 text-xs font-semibold rounded-md flex items-center space-x-1 disabled:opacity-50",disabled:!Se,children:[n.jsx(Ul,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark as Complete"})]})})]},O.id))}):n.jsxs("p",{className:"text-gray-500 py-4 text-center",children:["No roadmap defined yet. ",he&&"Add the first milestone to get started."]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Community Refinement"}),n.jsx("div",{className:"border-b border-white/10 mb-4",children:n.jsxs("div",{role:"tablist",className:"-mb-px flex space-x-6","aria-label":"Community content",children:[n.jsxs("button",{role:"tab",id:"feedback-tab","aria-controls":"feedback-panel","aria-selected":L==="feedback",onClick:()=>_("feedback"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${L==="feedback"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-300"}`,children:["Feedback ",n.jsx("span",{className:"bg-[#252532] text-xs px-2 py-0.5 rounded-full",children:(w||[]).length})]}),n.jsxs("button",{role:"tab",id:"comments-tab","aria-controls":"comments-panel","aria-selected":L==="comments",onClick:()=>_("comments"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${L==="comments"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-300"}`,children:["Comments ",n.jsx("span",{className:"bg-[#252532] text-xs px-2 py-0.5 rounded-full",children:o.commentsCount??0})]})]})}),n.jsx("div",{id:"feedback-panel",role:"tabpanel",tabIndex:0,"aria-labelledby":"feedback-tab",hidden:L!=="feedback",children:n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[(w||[]).length>0?n.jsx("div",{className:"space-y-2 divide-y divide-white/10",children:w.map(O=>n.jsx(Lp,{feedback:O},O.feedbackId||O.id))}):n.jsx("p",{className:"text-gray-500 py-4 text-center",children:"No feedback yet. Be the first to provide a review!"}),!he&&!a&&n.jsxs("button",{onClick:()=>g(!0),disabled:Ir||!Se,className:"mt-6 w-full bg-[#374151] text-white px-6 py-3 rounded-lg hover:bg-[#4b5563] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(Hi,{className:"w-5 h-5"}),n.jsx("span",{children:Ir?"Feedback Submitted":"Provide Feedback"})]})]})}),n.jsx("div",{id:"comments-panel",role:"tabpanel",tabIndex:0,"aria-labelledby":"comments-tab",hidden:L!=="comments",children:n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("div",{className:"space-y-2 divide-y divide-white/10",children:(b||[]).length>0?b.map(O=>n.jsx(Ip,{comment:O,onReport:Z=>q({type:"comment",id:Z,title:"a comment"}),isGuest:a,currentUser:t},O.commentId||O.id)):n.jsx("p",{className:"text-gray-500 py-4",children:"Be the first to comment."})}),!a&&n.jsxs("form",{onSubmit:Yi,className:"mt-6 flex items-start space-x-3",children:[t&&n.jsx("img",{src:t.avatarUrl||"/default-avatar.png",alt:t.displayName,className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{value:T,onChange:O=>E(O.target.value),placeholder:"Add a public comment...",rows:2,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx("button",{type:"submit",disabled:D||!T.trim()||!Se,className:"bg-indigo-600 text-white px-4 py-2 text-sm rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:D?"Posting...":"Post Comment"})})]})]}),a&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:i,className:"text-indigo-400 hover:underline",children:"Log in or sign up to comment"})})]})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Owner"}),n.jsxs("button",{onClick:()=>l("profile",r.userId),className:"flex items-center space-x-3 group w-full text-left",children:[n.jsx("img",{src:r.avatarUrl||"/default-avatar.png",alt:r.displayName,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white group-hover:text-indigo-400",children:r.displayName}),n.jsxs("p",{className:"text-sm text-gray-400",children:["@",r.username]})]})]})]}),n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Project Status"}),n.jsx(Gp,{currentStageId:o.progressStage,isOwner:he,onUpdate:Gi})]}),n.jsxs("div",{className:"space-y-4",children:[c0(),n.jsxs("div",{className:"flex space-x-4",children:[r0&&n.jsxs("button",{onClick:()=>l("forum",o.ideaId),className:"flex-1 bg-gradient-to-r from-sky-500 to-cyan-500 text-white px-4 py-2.5 rounded-lg flex items-center justify-center space-x-2 disabled:opacity-50",disabled:!Se,children:[n.jsx(Dt,{className:"w-5 h-5"}),n.jsx("span",{children:"Discussion"})]}),u0&&n.jsxs("button",{onClick:()=>l("kanban",o.ideaId),className:"flex-1 bg-gradient-to-r from-teal-500 to-emerald-600 text-white px-4 py-2.5 rounded-lg flex items-center justify-center space-x-2 disabled:opacity-50",disabled:!Se,children:[n.jsx(Km,{className:"w-5 h-5"}),n.jsx("span",{children:"Project Board"})]})]}),!a&&n.jsx("button",{onClick:()=>l("ideaBoard",o.ideaId),className:"w-full bg-[#374151] text-white px-4 py-2.5 rounded-lg disabled:opacity-50",disabled:!Se,children:"View Idea Board"})]}),n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Blockchain Activity"}),(V||[]).length>0?n.jsx("div",{className:"space-y-4",children:V.map(O=>n.jsx(Yp,{record:O},O.recordId||O.transactionHash))}):n.jsxs("div",{className:"bg-gray-700/30 border border-gray-500/30 rounded-lg p-4 flex items-center space-x-3",children:[n.jsx(Ve,{className:"w-5 h-5 text-indigo-400 animate-spin"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Waiting for blockchain activity..."})]})]}),he&&Zi.length>0&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white mb-4",children:["Collaboration Requests (",Zi.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:Zi.map(O=>n.jsx(qp,{request:O,onApprove:Z=>ts(Z,"approved"),onDeny:Z=>ts(Z,"rejected")},O.requestId))})]}),(he||$a)&&!a&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center space-x-2",children:[n.jsx(Ur,{className:"w-5 h-5 text-indigo-400"}),n.jsx("span",{children:"AI Recommendations"})]}),n.jsx("button",{onClick:Zl,disabled:U||!Se,className:"p-2 rounded-full bg-[#252532] hover:bg-[#374151] disabled:opacity-50",children:n.jsx(Zm,{className:`w-4 h-4 ${U?"animate-spin":""}`})})]}),U?n.jsx("div",{className:"text-center py-8",children:n.jsx(Ve,{className:"w-6 h-6 text-indigo-400 animate-spin mx-auto"})}):(A||[]).length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:A.slice(0,2).map(O=>n.jsx(Vp,{user:O,setPage:l},O.userId))}):n.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:"Click refresh to get AI-powered collaborator matches based on required skills."})]})]})]})]})]})]})})]})},Xp=({template:e,onSelect:t})=>{const a=Rl[e.icon];return n.jsxs("button",{onClick:t,className:"bg-[#252532] p-6 rounded-2xl border-2 border-transparent hover:border-indigo-500 text-left w-full h-full flex flex-col transition-all duration-200 transform hover:-translate-y-1",children:[n.jsx(a,{className:"w-8 h-8 text-indigo-400 mb-3"}),n.jsx("h3",{className:"font-bold text-lg text-white",children:e.name}),n.jsx("p",{className:"text-sm text-gray-400 mt-1 flex-grow",children:e.description})]})},Zp=({content:e})=>{const t=e.split(`
`).filter(a=>a.trim()!=="");return n.jsx("div",{className:"prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-indigo-400 max-w-none space-y-2 text-left",children:t.map((a,l)=>{if(a.startsWith("### "))return n.jsx("h3",{className:"text-lg font-semibold text-indigo-300 pt-2",children:a.substring(4)},l);if(a.startsWith("- **")){const s=a.substring(2).split(":**");return s.length>=2?n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-200",children:s[0]}),": ",s.slice(1).join(":**")]},l):n.jsx("p",{children:a.substring(2)},l)}if(a.startsWith("- "))return n.jsx("p",{className:"pl-4 relative before:content-['•'] before:absolute before:left-0 before:text-indigo-400",children:a.substring(2)},l);if(a.includes("**")){const s=a.split("**");return n.jsx("p",{children:s.map((i,o)=>o%2===1?n.jsx("strong",{children:i},o):i)},l)}return n.jsx("p",{children:a},l)})})},Jp=({setPage:e,setSelectedIdeaId:t,onAchievementsUnlock:a})=>{const[l,s]=y.useState(1),[i,o]=y.useState(null),[c,r]=y.useState([]),[u,d]=y.useState(""),[x,f]=y.useState({title:"",summary:"",sector:ja[0],region:n0[0],problemStatement:"",targetAudience:"",resourcesNeeded:"",timeline:"",skillsLooking:"",visionForSuccess:"",isPublic:!0}),[m,v]=y.useState(!1),[j,M]=y.useState(!1),[g,h]=y.useState(!1),[p,b]=y.useState(null),[N,w]=y.useState(null),S=()=>{u.trim()&&!c.includes(u.trim())&&(r([...c,u.trim()]),d(""))},T=q=>{r(c.filter(ne=>ne!==q))},E=q=>{q.key==="Enter"&&(q.preventDefault(),S())},D=q=>{const{name:ne,value:Be,type:Pt}=q.target,jt=Pt==="checkbox"?q.target.checked:Be;f(Se=>({...Se,[ne]:jt})),w(null)},z=async()=>{if(!x.summary){w("Please enter a summary first");return}v(!0),w(null);try{const q=await C.refineSummary({summary:x.summary});f(ne=>({...ne,summary:q.refinedSummary||x.summary}))}catch(q){console.error("Refinement failed:",q),w(`Failed to refine summary: ${q.message||"Please try again."}`)}finally{v(!1)}},V=async()=>{var q,ne,Be,Pt,jt,Se;if(!x.title||!x.summary){w("Please fill in title and summary first");return}h(!0),b(null),w(null);try{const ve=(await C.analyzeIdea({title:x.title,description:x.summary,category:x.sector})).analysis;if(!ve)throw new Error("Received empty analysis from backend.");const Zl=`
### AI Validation Report

**Feasibility:** ${((q=ve.feasibility)==null?void 0:q.score)??"N/A"}/10 (${((ne=ve.feasibility)==null?void 0:ne.reason)??"No reason provided"})
**Innovation:** ${((Be=ve.innovation)==null?void 0:Be.score)??"N/A"}/10 (${((Pt=ve.innovation)==null?void 0:Pt.reason)??"No reason provided"})
**Market Potential:** ${((jt=ve.marketPotential)==null?void 0:jt.score)??"N/A"}/10 (${((Se=ve.marketPotential)==null?void 0:Se.reason)??"No reason provided"})

#### SWOT Analysis (Example based on ai.service.ts):
- **Strengths:** ${(ve.strengths??[]).join(", ")||"None identified"}
- **Weaknesses:** ${(ve.weaknesses??[]).join(", ")||"None identified"}
- **Opportunities:** ${(ve.opportunities??[]).join(", ")||"None identified"}
- **Threats:** ${(ve.threats??[]).join(", ")||"None identified"}

#### Recommendations:
${(ve.recommendations??[]).map(Jl=>`- ${Jl}`).join(`
`)||"No specific recommendations."}

**Est. Dev Time:** ${ve.estimatedDevelopmentTime||"Unknown"}
            `.trim();b(Zl)}catch(fe){console.error("Validation failed:",fe),w(`Failed to validate idea: ${fe.message||"Please try again."}`)}finally{h(!1)}},ee=q=>{o(q),f(ne=>({...ne,problemStatement:"",targetAudience:"",resourcesNeeded:"",timeline:"",skillsLooking:"",visionForSuccess:""})),s(2)},L=async()=>{if(!x.title.trim()||!x.summary.trim()){w("Title and summary are required");return}M(!0),w(null);try{const q={title:x.title.trim(),description:x.summary.trim(),tags:c,category:x.sector,stage:"idea",isPublic:x.isPublic,questionnaire:{problemStatement:x.problemStatement,targetAudience:x.targetAudience,resourcesNeeded:x.resourcesNeeded,timeline:x.timeline,skillsLooking:x.skillsLooking,visionForSuccess:x.visionForSuccess}},{idea:ne,unlockedAchievements:Be}=await C.addIdea(q);a(Be||[]),alert("Your idea has been published!"),t(ne.ideaId),e("ideaDetail",ne.ideaId)}catch(q){console.error("Publish idea failed:",q),w(`Failed to publish idea: ${q.message||"Please try again."}`)}finally{M(!1)}},_=()=>{if(l===2&&(!x.title.trim()||!x.summary.trim())){w("Title and summary are required");return}w(null),s(q=>q+1)},A=()=>{w(null),s(q=>q-1)},H=4,U="mt-1 block w-full bg-[#252532] border-2 border-[#374151] rounded-lg shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",Q=`${U} min-h-[80px]`,te={problemStatement:"What specific problem does this idea solve?",targetAudience:"Who is the primary target audience or user group?",resourcesNeeded:"What key resources (skills, funding, tech) are needed for an MVP?",timeline:"What is a rough timeline for the initial phase (e.g., 3-6 months)?",skillsLooking:"What skills are crucial for collaborators?",visionForSuccess:"What does success look like in 1-3 years?"},se=(i==null?void 0:i.questionnairePrompts)||te,ze=()=>{switch(l){case 1:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsx("h2",{className:"text-2xl font-semibold text-white text-center",children:"Step 1: Choose a Template"}),n.jsx("p",{className:"text-center text-gray-400",children:"Select a template to guide your ideation, or start fresh."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4",children:Cp.map(q=>n.jsx(Xp,{template:q,onSelect:()=>ee(q)},q.id))}),n.jsx("div",{className:"text-center pt-4",children:n.jsx("button",{onClick:()=>ee(null),className:"text-indigo-400 hover:text-indigo-300 font-semibold p-2",children:"Or start with a Blank Canvas →"})})]});case 2:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsx("h2",{className:"text-xl font-semibold text-white",children:"Step 2: Core Idea Details"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300",children:"Idea Title *"}),n.jsx("input",{id:"title",type:"text",name:"title",value:x.title,onChange:D,className:U,placeholder:"Enter a compelling title"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-300",children:"Summary / Description *"}),n.jsx("textarea",{id:"summary",name:"summary",value:x.summary,onChange:D,rows:4,className:Q,placeholder:"Describe your idea clearly..."}),n.jsxs("button",{type:"button",onClick:z,disabled:m||!x.summary.trim(),className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-[#1A1A24] disabled:opacity-50 transition-transform active:scale-95",children:[n.jsx(Um,{className:"w-4 h-4 mr-1"}),m?"Refining...":"Refine with AI"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"tags-input",className:"block text-sm font-medium text-gray-300",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2 min-h-[2rem]",children:c.map(q=>n.jsxs("div",{className:"flex items-center space-x-1 bg-indigo-900/30 text-indigo-200 px-2.5 py-0.5 rounded-full text-sm",children:[n.jsx("span",{children:q}),n.jsx("button",{type:"button",onClick:()=>T(q),className:"text-indigo-400 hover:text-indigo-200",children:"×"})]},q))}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"tags-input",type:"text",value:u,onChange:q=>d(q.target.value),onKeyPress:E,placeholder:"Add relevant tags (e.g., AI, HealthTech)",className:`${U} flex-1`}),n.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 text-sm",children:"Add Tag"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sector",className:"block text-sm font-medium text-gray-300",children:"Primary Sector/Category"}),n.jsx("select",{id:"sector",name:"sector",value:x.sector,onChange:D,className:U,children:ja.map(q=>n.jsx("option",{value:q,children:q},q))})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[n.jsx("input",{type:"checkbox",id:"isPublic",name:"isPublic",checked:x.isPublic,onChange:D,className:"h-4 w-4 rounded border-gray-500 text-indigo-600 focus:ring-indigo-500"}),n.jsx("label",{htmlFor:"isPublic",className:"text-sm text-gray-300",children:"Make this idea public"})]})]});case 3:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Step 3: Deeper Dive ",i?`(${i.name})`:""]}),n.jsx("p",{className:"text-sm text-gray-400 -mt-4",children:"Answer these questions to flesh out your idea."}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"problemStatement",className:"block text-sm font-medium text-gray-300",children:se.problemStatement}),n.jsx("textarea",{id:"problemStatement",name:"problemStatement",value:x.problemStatement,onChange:D,rows:3,className:Q})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-gray-300",children:se.targetAudience}),n.jsx("textarea",{id:"targetAudience",name:"targetAudience",value:x.targetAudience,onChange:D,rows:3,className:Q})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"resourcesNeeded",className:"block text-sm font-medium text-gray-300",children:se.resourcesNeeded}),n.jsx("textarea",{id:"resourcesNeeded",name:"resourcesNeeded",value:x.resourcesNeeded,onChange:D,rows:3,className:Q})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"timeline",className:"block text-sm font-medium text-gray-300",children:se.timeline}),n.jsx("input",{id:"timeline",type:"text",name:"timeline",value:x.timeline,onChange:D,className:U})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"skillsLooking",className:"block text-sm font-medium text-gray-300",children:se.skillsLooking}),n.jsx("input",{id:"skillsLooking",type:"text",name:"skillsLooking",value:x.skillsLooking,onChange:D,className:U})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"visionForSuccess",className:"block text-sm font-medium text-gray-300",children:se.visionForSuccess}),n.jsx("textarea",{id:"visionForSuccess",name:"visionForSuccess",value:x.visionForSuccess,onChange:D,rows:3,className:Q})]})]});case 4:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsx("h2",{className:"text-xl font-semibold text-white",children:"Step 4: AI Validation & Final Review"}),n.jsx("p",{className:"text-sm text-gray-400 -mt-4",children:"Optionally, get instant AI feedback before publishing."}),n.jsx("div",{className:"text-center pt-2",children:n.jsxs("button",{type:"button",onClick:V,disabled:g||!x.title.trim()||!x.summary.trim(),className:"inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-sky-500 to-cyan-500 hover:opacity-90 disabled:opacity-50 transition-transform active:scale-95",children:[n.jsx(Ur,{className:"w-5 h-5 mr-2"}),g?"Analyzing...":"Validate with AI"]})}),g&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Ve,{className:"w-6 h-6 animate-spin mx-auto text-indigo-400"}),n.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"AI analyzing feasibility, market fit, and innovation..."})]}),p&&n.jsxs("div",{className:"bg-black/20 p-5 rounded-lg border border-white/10 mt-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-3 text-center",children:"AI Validation Report"}),n.jsx(Zp,{content:p})]}),n.jsx("p",{className:"text-center text-gray-400 pt-4",children:"Ready to share your vision?"})]});default:return null}};return n.jsx("div",{className:"container mx-auto p-4 md:p-8 max-w-3xl animate-fadeInUp",children:n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md p-6 md:p-8 rounded-2xl shadow-2xl border border-white/10",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-white text-center",children:"Share Your New Idea"}),N&&n.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-500/50 rounded-lg text-red-200 text-sm",children:N}),l>1&&n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"w-full bg-[#252532] rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${(l-1)/(H-1)*100}%`}})}),n.jsxs("ol",{className:"flex justify-between text-xs text-gray-500 mt-1 px-1",children:[n.jsx("li",{className:`w-1/3 text-center ${l>=2?"text-indigo-400 font-medium":""}`,children:"Details"}),n.jsx("li",{className:`w-1/3 text-center ${l>=3?"text-indigo-400 font-medium":""}`,children:"Questions"}),n.jsx("li",{className:`w-1/3 text-center ${l>=4?"text-indigo-400 font-medium":""}`,children:"Publish"})]})]}),ze(),n.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[l>1?n.jsx("button",{onClick:A,className:"bg-[#374151] text-white px-5 py-2 rounded-lg hover:bg-[#4b5563] transition-colors text-sm font-medium",children:"Back"}):n.jsx("div",{className:"w-20"}),l<H?l>1&&n.jsx("button",{onClick:_,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-5 py-2 rounded-lg shadow-md hover:opacity-90 transition-opacity text-sm font-medium",children:"Next"}):n.jsx("button",{onClick:L,disabled:j||!x.title.trim()||!x.summary.trim(),className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white px-6 py-2.5 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-base font-semibold",children:j?"Publishing...":"Publish Idea"}),l===1&&n.jsx("div",{className:"w-20"})]})]})})},Hn=180,qn=80,jd=(e,t,a)=>{const l=e.createSVGPoint();l.x=t,l.y=a;const s=l.matrixTransform(e.getScreenCTM().inverse());return{x:s.x,y:s.y}},Kp=({node:e,isSelected:t,onSelect:a,onMouseDown:l})=>n.jsxs("g",{transform:`translate(${e.x}, ${e.y})`,onMouseDown:s=>l(s,e.id),onClick:s=>a(s,e),className:"cursor-pointer group",children:[n.jsx("rect",{width:Hn,height:qn,rx:"10",ry:"10",fill:"#1A1A24",stroke:t?"#8B5CF6":"#4B5563",strokeWidth:"2",className:"transition-all group-hover:stroke-indigo-500"}),n.jsx("foreignObject",{width:Hn,height:qn,x:"0",y:"0",children:n.jsxs("div",{className:"w-full h-full p-3 flex flex-col justify-center text-center overflow-hidden pointer-events-none",children:[n.jsx("p",{className:"font-bold text-white truncate",children:e.title}),n.jsx("p",{className:"text-sm text-gray-400 truncate",children:e.description})]})})]}),$p=({fromNode:e,toNode:t})=>{const a=e.x+Hn/2,l=e.y+qn/2,s=t.x+Hn/2,i=t.y+qn/2,o=`M ${a},${l} L ${s},${i}`;return n.jsx("path",{d:o,stroke:"#4B5563",strokeWidth:"2",fill:"none"})},Nd=({title:e,children:t,onClose:a})=>n.jsxs("div",{className:"absolute top-0 right-0 h-full w-80 bg-[#1A1A24]/80 backdrop-blur-md border-l border-white/10 z-20 flex flex-col animate-slideInFromRight",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:e}),n.jsx("button",{onClick:a,className:"p-1 rounded-full hover:bg-white/10",children:n.jsx(Ct,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-thin",children:t})]}),Fp=({node:e,onUpdate:t,onDelete:a,onConnectStart:l})=>{const[s,i]=y.useState(e.title),[o,c]=y.useState(e.description);y.useEffect(()=>{i(e.title),c(e.description)},[e]);const r=()=>{t(e.id,{title:s,description:o})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400",children:"Title"}),n.jsx("input",{type:"text",value:s,onChange:u=>i(u.target.value),onBlur:r,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 mt-1 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400",children:"Description"}),n.jsx("textarea",{value:o,onChange:u=>c(u.target.value),onBlur:r,rows:4,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 mt-1 text-white"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>l(e.id),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 p-2 rounded-lg text-sm",children:"Connect Node"}),n.jsx("button",{onClick:()=>a(e.id),className:"bg-red-600 hover:bg-red-700 p-2 rounded-lg",children:n.jsx(Ri,{className:"w-5 h-5"})})]})]})},Wp=({onClose:e,onSave:t})=>{const[a,l]=y.useState(""),[s,i]=y.useState(!1),o=async c=>{if(c.preventDefault(),!!a.trim()){i(!0);try{await t(a)}catch(r){console.error("Failed to save version:",r),alert("Failed to save version. Please try again.")}finally{i(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("form",{onSubmit:o,className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-sm w-full p-8 relative",children:[n.jsx("button",{type:"button",onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Save New Version"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"versionName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Version Name"}),n.jsx("input",{id:"versionName",type:"text",value:a,onChange:c=>l(c.target.value),required:!0,placeholder:"e.g., Initial Brainstorm",className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"pt-6 flex justify-end",children:n.jsx("button",{type:"submit",disabled:s||!a.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:s?"Saving...":"Save Version"})})]})})},Pp=({status:e})=>{switch(e){case"saving":return n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-cyan-400",children:[n.jsx(Ve,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Saving..."})]});case"unsaved":return n.jsx("div",{className:"flex items-center space-x-2 text-sm text-yellow-400",children:n.jsx("span",{children:"Unsaved changes"})});case"saved":default:return n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-emerald-400",children:[n.jsx(Ul,{className:"w-4 h-4"}),n.jsx("span",{children:"All changes saved"})]})}},ey=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState(!0),[u,d]=y.useState([[]]),[x,f]=y.useState(0),[m,v]=y.useState({x:0,y:0,zoom:1}),[j,M]=y.useState(!1),[g,h]=y.useState(null),[p,b]=y.useState({x:0,y:0}),[N,w]=y.useState(null),[S,T]=y.useState(null),[E,D]=y.useState(null),[z,V]=y.useState([]),[ee,L]=y.useState([]),[_,A]=y.useState(!1),[H,U]=y.useState("saved"),Q=y.useRef(null),te=y.useRef(""),se=y.useMemo(()=>(l==null?void 0:l.ownerId)===t.userId,[l,t]),ze=(B,I)=>B.id.localeCompare(I.id),q=y.useCallback(async()=>{var B;try{const[I,K,ce]=await Promise.all([C.getIdeaById(e),C.getCommentsByNodeId(e),C.getBoardVersions(e)]);if(s(I),I){const he=[...((B=I.ideaBoard)==null?void 0:B.nodes)||[]].sort(ze);o(he),te.current=JSON.stringify(he),u.length===1&&u[0].length===0&&(d([he]),f(0)),V(K||[]),L(ce||[])}}catch(I){console.error("Failed to fetch board data:",I),alert("Could not load idea board."),a("ideaDetail",e)}finally{r(!1)}},[e,a]);y.useEffect(()=>{q()},[q]),y.useEffect(()=>{if(!se||c)return;const B=JSON.stringify([...i].sort(ze));if(B!==te.current){U("unsaved");const I=setTimeout(async()=>{U("saving");try{await C.updateIdeaBoard(e,i),te.current=B,U("saved")}catch(K){console.error("Auto-save failed:",K),U("unsaved")}},2e3);return()=>clearTimeout(I)}},[i,e,se,c]),y.useEffect(()=>{if(!se)return;const B={current:i};return B.current=i,()=>{JSON.stringify([...B.current].sort(ze))!==te.current&&C.updateIdeaBoard(e,B.current).catch(K=>{console.error("Save on unmount failed:",K)})}},[i,e,se]);const ne=y.useCallback(B=>{const I=u.slice(0,x+1);I.push(B),d(I),f(I.length-1)},[u,x]),Be=()=>{x>0&&(f(B=>B-1),o(u[x-1]))},Pt=()=>{x<u.length-1&&(f(B=>B+1),o(u[x+1]))},jt=B=>{B.target===Q.current&&(M(!0),b({x:B.clientX,y:B.clientY}))},Se=B=>{if(j){const I=(B.clientX-p.x)/m.zoom,K=(B.clientY-p.y)/m.zoom;v(ce=>({...ce,x:ce.x-I,y:ce.y-K})),b({x:B.clientX,y:B.clientY})}if(g){const I=i.map(K=>{if(K.id===g.id){const{x:ce,y:he}=jd(Q.current,B.clientX,B.clientY);return{...K,x:ce-g.dx,y:he-g.dy}}return K});o(I)}},fe=()=>{M(!1),g&&(ne(i),h(null))},ve=B=>{B.preventDefault();const I=1.1,K=B.deltaY<0?m.zoom*I:m.zoom/I;v(ce=>({...ce,zoom:Math.max(.1,Math.min(K,5))}))},Zl=(B,I)=>{if(B.stopPropagation(),!se)return;const{x:K,y:ce}=jd(Q.current,B.clientX,B.clientY),he=i.find($a=>$a.id===I);h({id:I,dx:K-he.x,dy:ce-he.y})},Jl=(B,I)=>{if(B.stopPropagation(),S&&S!==I.id){const K=i.map(ce=>{if(ce.id===S){const he=ce.connections||[];return he.includes(I.id)?{...ce,connections:he.filter($a=>$a!==I.id)}:{...ce,connections:[...he,I.id]}}return ce});o(K),ne(K),T(null)}else w(I.id),D("edit")},ts=()=>{const B={id:`node-${Date.now()}`,x:m.x+1e3/m.zoom/2-Hn/2,y:m.y+800/m.zoom/2-qn/2,title:"New Node",description:"Click to edit",connections:[]},I=[...i,B];o(I),ne(I)},Yi=(B,I)=>{const K=i.map(ce=>ce.id===B?{...ce,...I}:ce);o(K),ne(K)},as=B=>{const I=i.filter(K=>K.id!==B).map(K=>({...K,connections:(K.connections||[]).filter(ce=>ce!==B)}));o(I),ne(I),w(null),D(null)},Vi=async B=>{const I=await C.saveBoardVersion(e,i,B);L(K=>[I,...K]),A(!1)},Gi=async B=>{if(window.confirm("Are you sure you want to revert to this version? Your current board will be replaced."))try{const I=await C.revertToBoardVersion(e,B);if(I&&I.nodes){const K=I.nodes||[];o(K),ne(K),D(null),alert("Board reverted successfully.")}else alert("Failed to revert board.")}catch(I){console.error("Failed to revert board:",I),alert(`Failed to revert board: ${I.message}`)}},ls=y.useMemo(()=>i.find(B=>B.id===N),[i,N]),Qi=y.useMemo(()=>(z||[]).filter(B=>B.nodeId===N),[z,N]);return c?n.jsx("div",{className:"w-screen h-screen bg-[#0A0A0F] flex items-center justify-center",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}):l?n.jsxs("div",{className:"w-screen h-screen bg-[#0A0A0F] text-white flex flex-col overflow-hidden",children:[_&&n.jsx(Wp,{onClose:()=>A(!1),onSave:Vi}),n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:"← Back to Idea"}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-bold",children:l.title}),n.jsx("p",{className:"text-sm text-gray-400",children:"Idea Board"})]}),n.jsx("div",{className:"w-48 flex justify-end",children:se&&n.jsx(Pp,{status:H})})]}),n.jsxs("div",{className:"flex-1 relative",onMouseUp:fe,onMouseMove:Se,children:[n.jsx("svg",{ref:Q,className:"w-full h-full",onMouseDown:jt,onWheel:ve,children:n.jsxs("g",{transform:`scale(${m.zoom}) translate(${-m.x}, ${-m.y})`,children:[i.map(B=>(B.connections||[]).map(I=>{const K=i.find(ce=>ce.id===I);return K?n.jsx($p,{fromNode:B,toNode:K},`${B.id}-${K.id}`):null})),i.map(B=>n.jsx(Kp,{node:B,isSelected:B.id===N||B.id===S,onSelect:Jl,onMouseDown:Zl},B.id))]})}),E&&ls&&n.jsxs(Nd,{title:"Node Details",onClose:()=>{w(null),D(null)},children:[n.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[n.jsx("button",{onClick:()=>D("edit"),className:`flex-1 p-2 text-sm ${E==="edit"?"text-indigo-400 border-b-2 border-indigo-400":"text-gray-400"}`,children:"Edit"}),n.jsxs("button",{onClick:()=>D("comments"),className:`flex-1 p-2 text-sm ${E==="comments"?"text-indigo-400 border-b-2 border-indigo-400":"text-gray-400"}`,children:["Comments (",Qi.length,")"]})]}),E==="edit"&&se&&n.jsx(Fp,{node:ls,onUpdate:Yi,onDelete:as,onConnectStart:B=>{T(B),w(null),D(null)}}),E==="edit"&&!se&&n.jsx("p",{className:"text-gray-400",children:"You do not have permission to edit this node."}),E==="comments"&&n.jsx("div",{className:"text-gray-400",children:"Comment section not yet implemented."})]}),E==="versions"&&n.jsx(Nd,{title:"Board Versions",onClose:()=>D(null),children:n.jsxs("div",{className:"space-y-4",children:[se&&n.jsx("button",{onClick:()=>A(!0),className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-700",children:"Save Current Version"}),n.jsx("ul",{className:"space-y-2",children:ee.length>0?ee.map(B=>n.jsxs("li",{className:"bg-black/20 p-3 rounded-lg",children:[n.jsx("p",{className:"font-semibold text-white",children:B.name}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Saved on ",new Date(B.createdAt).toLocaleString()]}),se&&n.jsx("button",{onClick:()=>Gi(B.versionId),className:"mt-2 text-sm text-cyan-400 hover:underline",children:"Revert to this version"})]},B.versionId)):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No saved versions yet."})})]})}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-[#1A1A24]/80 backdrop-blur-md border border-white/10 p-2 rounded-xl flex items-center space-x-2 z-10",children:[n.jsx("button",{onClick:ts,disabled:!se,title:"Add Node",className:"p-2 hover:bg-white/10 rounded-md disabled:opacity-50",children:n.jsx(Bl,{className:"w-5 h-5"})}),n.jsx("button",{onClick:Be,disabled:x<=0||!se,title:"Undo",className:"p-2 hover:bg-white/10 rounded-md disabled:opacity-50",children:n.jsx(Rm,{className:"w-5 h-5"})}),n.jsx("button",{onClick:Pt,disabled:x>=u.length-1||!se,title:"Redo",className:"p-2 hover:bg-white/10 rounded-md disabled:opacity-50",children:n.jsx(Lm,{className:"w-5 h-5"})}),n.jsx("span",{className:"w-px h-6 bg-white/20"}),n.jsx("button",{onClick:()=>{D("versions"),w(null)},title:"View Versions",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(Jm,{className:"w-5 h-5"})}),n.jsx("span",{className:"w-px h-6 bg-white/20"}),n.jsx("button",{onClick:()=>v(B=>({...B,zoom:B.zoom*1.2})),title:"Zoom In",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(Bl,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>v(B=>({...B,zoom:B.zoom/1.2})),title:"Zoom Out",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(Bm,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>v({x:0,y:0,zoom:1}),title:"Reset View",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(_m,{className:"w-5 h-5"})})]}),S&&n.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm shadow-lg z-10",children:"Click another node to connect, or click it again to cancel."})]})]}):n.jsx("div",{className:"w-screen h-screen bg-[#0A0A0F] flex items-center justify-center",children:"Idea not found."})},ty=({step:e,totalSteps:t})=>{const a=Math.max(0,(e-1)/(t-1)*100);return n.jsx("div",{className:"w-full bg-[#252532] rounded-full h-2.5 mb-8",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${a}%`}})})},wd=({onNext:e})=>n.jsxs("div",{className:"text-center animate-fadeInUp",children:[n.jsx("h1",{className:"text-5xl font-bold text-gradient font-space-grotesk mb-4",children:"Welcome to Thinker-Doer"}),n.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"The place where great ideas meet brilliant minds."}),n.jsx("button",{onClick:e,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-lg shadow-indigo-500/20 hover:opacity-90 transition-opacity active:scale-95",children:"Let's Get Started"})]}),ay=({interests:e,skills:t,setInterests:a,setSkills:l,onNext:s,onBack:i})=>{const o=(c,r,u)=>{const d=r.includes(c)?r.filter(x=>x!==c):[...r,c];u(d)};return n.jsxs("div",{className:"animate-fadeInUp",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tell us about yourself"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"This will help us personalize your feed. Select at least 3 in total."}),n.jsx("h3",{className:"font-semibold text-lg text-indigo-300 mb-3",children:"Sectors you're interested in:"}),n.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:ja.map(c=>n.jsx("button",{onClick:()=>o(c,e,a),className:`px-4 py-2 rounded-full border-2 text-sm font-medium transition-all ${e.includes(c)?"bg-indigo-500 border-indigo-500 text-white":"bg-[#252532] border-[#374151] hover:border-indigo-500 text-gray-300"}`,children:c},c))}),n.jsx("h3",{className:"font-semibold text-lg text-purple-300 mb-3",children:"Skills you have or are looking for:"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:s0.map(c=>n.jsx("button",{onClick:()=>o(c,t,l),className:`px-4 py-2 rounded-full border-2 text-sm font-medium transition-all ${t.includes(c)?"bg-purple-500 border-purple-500 text-white":"bg-[#252532] border-[#374151] hover:border-purple-500 text-gray-300"}`,children:c},c))}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{onClick:i,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Back"}),n.jsx("button",{onClick:s,disabled:e.length+t.length<3,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:"Next"})]})]})},ly=({bio:e,setBio:t,linkedInUrl:a,setLinkedInUrl:l,portfolioUrl:s,setPortfolioUrl:i,onNext:o,onBack:c})=>{const r="mt-1 block w-full bg-[#101018] border-2 border-transparent shadow-inner rounded-lg shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500";return n.jsxs("div",{className:"animate-fadeInUp",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Complete your profile"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-300",children:["Short Bio ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("textarea",{id:"bio",value:e,onChange:u=>t(u.target.value),rows:3,required:!0,className:r,placeholder:"Tell us about your passions and what you're looking for."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"linkedin",className:"block text-sm font-medium text-gray-300",children:"LinkedIn Profile (Optional)"}),n.jsx("input",{id:"linkedin",type:"url",value:a,onChange:u=>l(u.target.value),className:r,placeholder:"https://linkedin.com/in/your-profile"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"portfolio",className:"block text-sm font-medium text-gray-300",children:"Portfolio/Website (Optional)"}),n.jsx("input",{id:"portfolio",type:"url",value:s,onChange:u=>i(u.target.value),className:r,placeholder:"https://github.com/your-username"})]})]}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{onClick:c,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Back"}),n.jsx("button",{onClick:o,disabled:!e.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:"Next"})]})]})},ny=[{icon:"SearchIcon",title:"Discover Ideas",description:"Explore a feed of innovative ideas from thinkers around the world. Filter by sector, region, and skills to find projects that inspire you."},{icon:"Edit3Icon",title:"Share Your Vision",description:"Have an idea? Post it! Our guided process helps you flesh out your concept and create a visual Idea Board to bring it to life."},{icon:"UsersIcon",title:"Collaborate & Build",description:"Connect with doers, join discussion forums, and work together to turn ideas into reality. Your next great partnership is just a click away."}],sy=({onNext:e,onBack:t,isSubmitting:a})=>n.jsxs("div",{className:"animate-fadeInUp text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"How It Works"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:ny.map(l=>{const s=Rl[l.icon]||_i;return n.jsxs("div",{className:"bg-[#252532]/50 p-6 rounded-xl",children:[n.jsx(s,{className:"w-10 h-10 text-indigo-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),n.jsx("p",{className:"text-sm text-gray-400",children:l.description})]},l.title)})}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{onClick:t,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Back"}),n.jsx("button",{onClick:e,disabled:a,className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:a?"Finalizing...":"Enter the Platform"})]})]}),iy=({setCurrentUser:e,onComplete:t})=>{const[a,l]=y.useState(1),[s,i]=y.useState([]),[o,c]=y.useState([]),[r,u]=y.useState(""),[d,x]=y.useState(""),[f,m]=y.useState(""),[v,j]=y.useState(!1),M=async()=>{j(!0);const b={bio:r,interests:s,skills:o.map(N=>({skillName:N,endorsers:[]})),linkedInUrl:d||void 0,portfolioUrl:f||void 0,onboardingCompleted:!0};try{const N=await C.updateUser(b);if(N)e(N),t();else throw new Error("No updated user data returned from API.")}catch(N){console.error("Failed to save profile:",N),alert(`Failed to save profile: ${N.message||"Please try again."}`),j(!1)}},g=()=>l(b=>b+1),h=()=>l(b=>b-1),p=()=>{switch(a){case 1:return n.jsx(wd,{onNext:g});case 2:return n.jsx(ay,{interests:s,skills:o,setInterests:i,setSkills:c,onNext:g,onBack:h});case 3:return n.jsx(ly,{bio:r,setBio:u,linkedInUrl:d,setLinkedInUrl:x,portfolioUrl:f,setPortfolioUrl:m,onNext:g,onBack:h});case 4:return n.jsx(sy,{onNext:M,onBack:h,isSubmitting:v});default:return n.jsx(wd,{onNext:g})}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0A0A0F] p-4",children:n.jsxs("div",{className:"max-w-3xl w-full bg-[#1A1A24]/70 backdrop-blur-md border border-white/10 p-8 md:p-12 rounded-2xl shadow-2xl",children:[a>1&&n.jsx(ty,{step:a,totalSteps:5}),p()]})})},oy=({userId:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0),[o,c]=y.useState(null);y.useEffect(()=>{(async()=>{i(!0),c(null);try{const d=await C.getUserById(e);if(d!=null&&d.connections&&d.connections.length>0){const x=await Promise.all(d.connections.map(f=>C.getUserById(f)));l(x.filter(f=>f!==null))}else l([])}catch(d){console.error("Failed to fetch connections:",d),c("Could not load connections. Please try again later.")}finally{i(!1)}})()},[e]);const r=async u=>{try{const d=await C.startConversation(u);t("chat",d.conversationId||d.id)}catch(d){console.error("Failed to start conversation:",d),alert("Could not start chat.")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}):o?n.jsx("div",{className:"text-center p-8 text-red-400",children:o}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"My Connections"}),a.length===0?n.jsx(Ln,{icon:Ca,title:"No Connections Yet",message:"Connect with other users to collaborate and share ideas.",ctaText:"Explore Users",onCtaClick:()=>t("explore")}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(u=>{var d;return n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-lg shadow border border-white/10 flex flex-col items-center text-center",children:[n.jsx("img",{src:u.avatarUrl||"/default-avatar.png",alt:u.displayName||u.username,className:"w-20 h-20 rounded-full mb-4 object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:u.displayName||u.username}),u.username&&n.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["@",u.username]}),n.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:[(d=u.bio)==null?void 0:d.substring(0,50),u.bio&&u.bio.length>50?"...":""]})]}),n.jsxs("div",{className:"mt-auto w-full flex space-x-2",children:[n.jsxs("button",{onClick:()=>r(u.userId),className:"flex-1 flex items-center justify-center space-x-1 bg-[#252532] text-white px-3 py-2 rounded-lg hover:bg-[#374151] text-sm",children:[n.jsx(Dt,{className:"w-4 h-4"}),n.jsx("span",{children:"Message"})]}),n.jsx("button",{onClick:()=>t("profile",u.userId),className:"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 text-sm",children:"View Profile"})]})]},u.userId)})})]})})},cy=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0);return y.useEffect(()=>{C.getAllIdeas().then(o=>{const c=new Set(e.bookmarkedIdeas||[]),r=o.filter(u=>c.has(u.ideaId));l(r)}).catch(o=>{console.error("Failed to load bookmarked ideas:",o)}).finally(()=>{i(!1)})},[e.bookmarkedIdeas]),s?n.jsx("div",{className:"text-center p-8",children:"Loading bookmarks..."}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Bookmarked Ideas"}),n.jsx("div",{className:"space-y-6",children:a.length>0?a.map(o=>n.jsx(Ha,{idea:o,setPage:t},o.ideaId)):n.jsx(Ln,{icon:zm,title:"No Bookmarks Yet",message:"Save ideas that catch your eye to come back to them later.",ctaText:"Explore the Feed",onCtaClick:()=>t("feed")})})]})})},ry=({conversation:e,currentUser:t,setPage:a})=>{var v,j,M,g;const[l,s]=y.useState(null),[i,o]=y.useState(!0),c=y.useMemo(()=>e.isGroup||!e.participants?null:e.participants.find(h=>h!==t.userId),[e.isGroup,e.participants,t.userId]);y.useEffect(()=>{o(!0),c?C.getUserById(c).then(s).catch(h=>console.error("Failed to fetch user",h)).finally(()=>o(!1)):(e.isGroup||console.warn("Could not determine other user ID for conversation:",e.conversationId),o(!1))},[c,e.conversationId]);const r=(((v=e.unreadCount)==null?void 0:v[t.userId])||0)>0,u=e.isGroup?e.groupName:(l==null?void 0:l.displayName)||"Loading...",d=e.isGroup?e.groupAvatar:l==null?void 0:l.avatarUrl,x=e.lastUpdatedAt||((j=e.lastMessage)==null?void 0:j.createdAt)||"",f=((M=e.lastMessage)==null?void 0:M.text)||"No messages yet",m=((g=e.lastMessage)==null?void 0:g.senderId)||"";return i&&!e.isGroup?n.jsxs("li",{className:"flex items-center p-4 space-x-4 animate-pulse",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]}):n.jsxs("li",{onClick:()=>a("chat",e.conversationId),className:"flex items-center p-4 space-x-4 cursor-pointer hover:bg-white/5 rounded-lg transition-colors duration-200",children:[n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-700",src:d||"/default-avatar.png",alt:u}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:`text-lg font-semibold truncate ${r?"text-white":"text-gray-300"}`,children:u}),n.jsx("p",{className:`text-xs flex-shrink-0 ml-2 ${r?"text-indigo-400":"text-gray-500"}`,children:qr(x)})]}),n.jsxs("p",{className:`text-sm truncate ${r?"text-gray-200 font-medium":"text-gray-400"}`,children:[m===t.userId&&"You: ",f]})]}),r&&n.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full flex-shrink-0 ml-2"})]})},uy=({conversation:e,currentUser:t,onAccept:a,onDecline:l})=>{var d;const[s,i]=y.useState(null),[o,c]=y.useState(!0),r=y.useMemo(()=>{var x;return(x=e.participants)==null?void 0:x.find(f=>f!==t.userId)},[e.participants,t.userId]);y.useEffect(()=>{c(!0),r?C.getUserById(r).then(i).catch(x=>console.error("Failed to fetch user for request",x)).finally(()=>c(!1)):(console.warn("Could not determine other user ID for request:",e.conversationId),c(!1))},[r,e.conversationId]);const u=((d=e.lastMessage)==null?void 0:d.text)||"No message content";return o?n.jsxs("li",{className:"p-4 space-y-3 animate-pulse",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("div",{className:"h-8 w-20 bg-gray-600 rounded-lg"}),n.jsx("div",{className:"h-8 w-20 bg-indigo-600 rounded-lg"})]})]}):s?n.jsxs("li",{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-700",src:s.avatarUrl||"/default-avatar.png",alt:s.displayName||"User"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-lg font-semibold text-white truncate",children:s.displayName||"User"}),n.jsxs("p",{className:"text-sm truncate text-gray-400 italic bg-black/20 p-2 rounded-md mt-1",children:['"',u,'"']})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>l(e.conversationId),className:"px-4 py-1.5 text-sm rounded-lg bg-gray-600 hover:bg-gray-500 text-white",children:"Decline"}),n.jsx("button",{onClick:()=>a(e.conversationId),className:"px-4 py-1.5 text-sm rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white",children:"Accept"})]})]}):null},dy=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0),[o,c]=y.useState(null),[r,u]=y.useState("inbox"),d=y.useCallback(async()=>{c(null);try{const j=await C.getConversationsByUserId();l((j||[]).sort((M,g)=>{const h=M.lastUpdatedAt?new Date(M.lastUpdatedAt).getTime():0,p=g.lastUpdatedAt?new Date(g.lastUpdatedAt).getTime():0;return isNaN(h)&&isNaN(p)?0:isNaN(h)?1:isNaN(p)?-1:p-h}))}catch(j){console.error("Failed to fetch conversations:",j),c(`Could not load messages: ${j.message||"Please try again."}`)}finally{i(!1)}},[]);y.useEffect(()=>{i(!0),d()},[d]);const{acceptedConversations:x,pendingRequests:f}=y.useMemo(()=>({acceptedConversations:a.filter(j=>j.status==="accepted"||!j.status),pendingRequests:a.filter(j=>{var M;return j.status==="pending"&&((M=j.lastMessage)==null?void 0:M.senderId)!==e.userId})}),[a,e.userId]),m=async j=>{try{await C.acceptMessageRequest(j),d()}catch(M){console.error("Failed to accept request:",M),alert("Failed to accept message request.")}},v=async j=>{try{l(M=>M.filter(g=>g.conversationId!==j)),console.log(`Declined request (locally): ${j}`)}catch(M){console.error("Failed to decline request:",M),alert("Failed to decline message request.")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}):o?n.jsx("div",{className:"text-center p-8 text-red-400",children:o}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Messages"}),n.jsx("div",{className:"border-b border-white/10 mb-4",children:n.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>u("inbox"),className:`whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm ${r==="inbox"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Inbox"}),n.jsxs("button",{onClick:()=>u("requests"),className:`whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm ${r==="requests"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Requests ",f.length>0&&n.jsx("span",{className:"ml-2 bg-indigo-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:f.length})]})]})}),n.jsx("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10",children:n.jsxs("ul",{className:"divide-y divide-white/10",children:[r==="inbox"&&(x.length>0?x.map(j=>n.jsx(ry,{conversation:j,currentUser:e,setPage:t},j.conversationId)):n.jsx("div",{className:"p-8",children:n.jsx(Ln,{icon:Dt,title:"Your Inbox is Empty",message:"Start a conversation with other thinkers and doers to build your network.",ctaText:"Explore Users",onCtaClick:()=>t("explore")})})),r==="requests"&&(f.length>0?f.map(j=>n.jsx(uy,{conversation:j,currentUser:e,onAccept:m,onDecline:v},j.conversationId)):n.jsx("div",{className:"p-8 text-center text-gray-500",children:"No pending message requests."}))]})})]})})},fy=({message:e,sender:t,currentUser:a,isCurrentUser:l,participants:s})=>{const i=r=>{},o=e.replyToMessageId?i(e.replyToMessageId):void 0,c=o?s[o.senderId]:void 0;return n.jsx("div",{className:`flex flex-col ${l?"items-end":"items-start"} mb-4 group`,children:n.jsxs("div",{className:`flex ${l?"flex-row-reverse":"flex-row"} items-end max-w-xs md:max-w-md lg:max-w-lg`,children:[!l&&n.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/default-avatar.png",alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full self-start mr-2 flex-shrink-0 object-cover"}),n.jsxs("div",{className:`relative px-4 py-3 rounded-lg shadow ${l?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-br-none":"bg-[#252532] text-gray-200 rounded-bl-none"}`,children:[!l&&n.jsx("span",{className:"text-xs text-indigo-300 mb-1 font-semibold block",children:(t==null?void 0:t.displayName)||"User"}),o&&n.jsxs("div",{className:"mb-2 p-2 border-l-2 border-indigo-400/50 bg-black/20 rounded",children:[n.jsx("p",{className:"text-xs font-semibold text-indigo-300",children:o.senderId===(a==null?void 0:a.userId)?"You replied to yourself":`You replied to ${(c==null?void 0:c.displayName)||"User"}`}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:o.text||"Media content"})]}),e.text&&n.jsx("p",{className:"text-sm break-words",children:e.text}),e.media&&n.jsx("div",{className:"mt-2",children:e.media.type==="image"?n.jsx("img",{src:e.media.url,alt:"Uploaded content",className:"max-w-full h-auto rounded-md"}):n.jsxs("a",{href:e.media.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline flex items-center space-x-1",children:[n.jsx(Lr,{className:"w-4 h-4"}),n.jsx("span",{children:e.media.fileName})]})}),n.jsx("span",{className:`text-xs mt-1 block ${l?"text-indigo-200/80 text-right":"text-gray-500 text-left"}`,children:qr(e.createdAt)})]}),l&&n.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/default-avatar.png",alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full self-start ml-2 flex-shrink-0 object-cover"})]})})},hy=({conversationId:e,currentUser:t,setPage:a})=>{var T;const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState({}),[u,d]=y.useState(""),[x,f]=y.useState(!0),[m,v]=y.useState(null),[j,M]=y.useState(null),g=y.useRef(null),h=y.useCallback(async()=>{var E;v(null);try{const[D,z]=await Promise.all([C.getConversationById(e),C.getMessagesByConversationId(e)]);if(s(D),o(z||[]),D!=null&&D.participants){const V=D.participants.filter(L=>!c[L]);if(V.length>0){const L=await Promise.all(V.map(_=>C.getUserById(_)));r(_=>{const A={..._};return L.forEach(H=>{H&&(A[H.userId]=H)}),A})}const ee=(E=D.unreadCount)==null?void 0:E[t.userId];typeof ee=="number"&&ee>0&&(await C.markMessagesRead(e),s(L=>L?{...L,unreadCount:{...L.unreadCount,[t.userId]:0}}:null))}else if(D)console.warn("Conversation data is missing participants:",D);else throw new Error("Conversation not found.")}catch(D){console.error("Failed to fetch chat data:",D),v("Could not load chat. Please try again later.")}finally{f(!1)}},[e,t.userId,c]);y.useEffect(()=>{f(!0),h()},[h]),y.useEffect(()=>{var E;(E=g.current)==null||E.scrollIntoView({behavior:"smooth"})},[i]);const p=async E=>{if(E.preventDefault(),!(u.trim()===""||!l))try{const D=await C.sendMessage({conversationId:l.conversationId,text:u,replyToMessageId:j==null?void 0:j.messageId});o(z=>[...z,D]),d(""),M(null),s(z=>z?{...z,lastMessage:D,lastUpdatedAt:D.createdAt}:null)}catch(D){console.error("Failed to send message:",D),alert("Failed to send message.")}};if(x)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});if(m)return n.jsx("div",{className:"text-center p-8 text-red-400",children:m});if(!l)return n.jsx("div",{className:"text-center p-8 text-gray-400",children:"Conversation not found or access denied."});const b=(l.participants||[]).filter(E=>E!==t.userId),N=b.length===1?c[b[0]]:null,w=l.isGroup?l.groupName:(N==null?void 0:N.displayName)||"Chat",S=l.isGroup?l.groupAvatar:N==null?void 0:N.avatarUrl;return n.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#0A0A0F]",children:[n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("button",{onClick:()=>a("inbox"),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:"← Back to Inbox"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:S||"/default-avatar.png",alt:w,className:"w-10 h-10 rounded-full object-cover"}),n.jsx("h1",{className:"text-lg font-bold text-white",children:w})]}),n.jsx("div",{className:"w-24"})," "]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin",children:[i.length===0&&n.jsx("p",{className:"text-center text-gray-500",children:"No messages yet. Start the conversation!"}),i.map(E=>n.jsx(fy,{message:E,sender:c[E.senderId||E.sender_id],currentUser:t,isCurrentUser:(E.senderId||E.sender_id)===t.userId,participants:c},E.messageId||E.id)),n.jsx("div",{ref:g})]}),n.jsxs("div",{className:"p-4 border-t border-white/10 bg-[#101018]",children:[j&&n.jsxs("div",{className:"mb-2 p-2 bg-[#252532] rounded-md border-l-4 border-indigo-500 flex justify-between items-center text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-300",children:["Replying to ",((T=c[j.senderId])==null?void 0:T.displayName)||"User"]}),n.jsx("p",{className:"text-gray-400 truncate",children:j.text||"Media content"})]}),n.jsx("button",{onClick:()=>M(null),className:"p-1 rounded-full hover:bg-white/10",children:n.jsx(Ct,{className:"w-4 h-4 text-gray-400"})})]}),n.jsxs("form",{onSubmit:p,className:"flex items-center space-x-3",children:[n.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(Lr,{className:"w-5 h-5"})}),n.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(e0,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),placeholder:"Type your message...",className:"flex-1 bg-[#252532] border-2 border-[#374151] rounded-lg shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:n.jsx(Br,{className:"w-5 h-5"})})]})]})]})},my=({isOpen:e,onClose:t,onConfirm:a,title:l,message:s,confirmText:i="Confirm",cancelText:o="Cancel",confirmButtonClass:c="bg-red-600 hover:bg-red-700"})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirmation-modal-title",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-md w-full p-8 relative",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white","aria-label":"Close modal",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{id:"confirmation-modal-title",className:"text-2xl font-bold text-white mb-4",children:l}),n.jsx("p",{className:"text-gray-300 mb-8",children:s}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg text-white bg-[#374151] hover:bg-[#4b5563]",children:o}),n.jsx("button",{onClick:a,className:`px-6 py-2 rounded-lg text-white shadow-md ${c}`,children:i})]})]})}):null,xy=({idea:e,members:t,currentUser:a,onAddMember:l,onRemoveMember:s,setPage:i})=>{const[o,c]=y.useState(""),r=a.userId===e.ownerId,u=()=>{o.trim()&&(l(o.trim()),c(""))};return n.jsxs("div",{className:"bg-[#1A1A24]/60 p-4 rounded-lg border border-white/10 h-full flex flex-col",children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-4 border-b border-white/10 pb-2",children:["Forum Members (",t.length,")"]}),n.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:n.jsx("ul",{className:"space-y-3 pr-2",children:t.map(d=>n.jsxs("li",{className:"flex items-center justify-between group",children:[n.jsxs("button",{onClick:()=>i("profile",d.userId),className:"flex items-center space-x-3 text-left",children:[n.jsx("img",{src:d.avatarUrl||"/default-avatar.png",alt:d.displayName||d.username,className:"w-8 h-8 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-gray-300 group-hover:text-indigo-400",children:d.displayName||d.username}),d.userId===e.ownerId&&n.jsx("span",{className:"block text-xs text-indigo-400",children:"Owner"})]})]}),r&&d.userId!==a.userId&&n.jsx("button",{onClick:()=>s(d.userId,d.displayName||d.username||"User"),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-400 transition-opacity",children:n.jsx(Hm,{className:"w-5 h-5"})})]},d.userId))})}),r&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:"Add Member"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:o,onChange:d=>c(d.target.value),placeholder:"Enter user ID or username",className:"flex-1 bg-[#252532] border-2 border-[#374151] rounded-lg py-1 px-3 text-sm text-white focus:outline-none focus:ring-1 focus:ring-indigo-500"}),n.jsx("button",{onClick:u,className:"bg-indigo-600 p-2 rounded-lg hover:bg-indigo-700",children:n.jsx(Li,{className:"w-5 h-5"})})]})]})]})},Sd=({msg:e,sender:t,isOwner:a,onPin:l,onDelete:s})=>n.jsxs("div",{className:"group flex items-start gap-3 p-3 rounded-lg transition-colors hover:bg-white/5",children:[n.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/default-avatar.png",alt:(t==null?void 0:t.displayName)||"User",className:"w-10 h-10 rounded-full mt-1 flex-shrink-0 object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-baseline space-x-2",children:[n.jsx("span",{className:"font-bold text-indigo-300",children:(t==null?void 0:t.displayName)||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleString()})]}),a&&n.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>l(e.messageId),className:"text-gray-400 hover:text-indigo-400 p-1 rounded-full hover:bg-white/10",title:e.isPinned?"Unpin message":"Pin message",children:n.jsx(_r,{className:`w-4 h-4 ${e.isPinned?"text-indigo-400 fill-current":""}`})}),n.jsx("button",{onClick:()=>s(e.messageId),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-white/10",title:"Delete message",children:n.jsx(Ri,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-gray-200 mt-1 break-words",children:e.text})]})]}),gy=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState([]),[u,d]=y.useState(""),[x,f]=y.useState(!0),[m,v]=y.useState(!0),[j,M]=y.useState(null),g=y.useRef(null),h=y.useCallback(async()=>{try{const z=await C.getIdeaById(e);if(z){if(!(z.forumMembers||[]).includes(t.userId)){alert("You don't have access to this forum."),a("feed");return}s(z);const V=await Promise.all((z.forumMembers||[]).map(L=>C.getUserById(L)));r(V.filter(L=>L!==null));const ee=await C.getForumMessages(e);o(ee||[])}else a("feed")}catch(z){console.error("Failed to fetch forum data:",z),alert("Could not load forum."),a("ideaDetail",e)}},[e,t.userId,a]);y.useEffect(()=>{f(!0),h().finally(()=>f(!1))},[h]),y.useEffect(()=>{var z;(z=g.current)==null||z.scrollIntoView({behavior:"smooth"})},[i]);const p=async z=>{if(z.preventDefault(),!(u.trim()===""||!l))try{const V=await C.postForumMessage(l.ideaId,u);o(ee=>[...ee,V]),d("")}catch(V){console.error("Failed to send message:",V),alert("Failed to send message.")}},b=async z=>{if(l)try{(await C.addForumMember(l.ideaId,z)).success?h():alert("Could not add member. User may not exist or is already in the forum.")}catch(V){console.error("Failed to add member:",V),alert("Could not add member.")}},N=(z,V)=>{l&&M({title:`Remove ${V}?`,message:`Are you sure you want to remove ${V} from the forum? This action cannot be undone.`,confirmText:"Remove",onConfirm:async()=>{try{(await C.removeForumMember(l.ideaId,z)).success?h():alert("Could not remove member.")}catch(ee){console.error("Failed to remove member:",ee),alert("Could not remove member.")}finally{M(null)}}})},w=z=>{M({title:"Delete Message?",message:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",onConfirm:async()=>{try{await C.deleteForumMessage(z),o(V=>V.filter(ee=>ee.messageId!==z))}catch(V){console.error("Failed to delete message:",V),alert("Failed to delete message.")}finally{M(null)}}})},S=async z=>{try{await C.pinForumMessage(z),h()}catch(V){console.error("Failed to pin message:",V),alert("Failed to update pin status.")}};if(x||!l)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});const T=t.userId===l.ownerId,E=(i||[]).filter(z=>z.isPinned),D=(i||[]).filter(z=>!z.isPinned);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#0A0A0F]",children:[n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("div",{children:n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:"← Back to Idea"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:"Discussion Forum"}),n.jsx("p",{className:"text-sm text-gradient",children:l.title})]}),n.jsx("div",{className:"w-36"})," "]}),n.jsxs("div",{className:"flex-grow flex min-h-0",children:[n.jsxs("main",{className:"flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin",children:[i.length===0&&n.jsx("p",{className:"text-center text-gray-500",children:"No messages in this forum yet. Start the discussion!"}),E.length>0&&n.jsxs("div",{className:"border border-indigo-500/30 rounded-lg mb-4 bg-indigo-900/10",children:[n.jsxs("button",{onClick:()=>v(!m),className:"w-full flex justify-between items-center p-3 bg-indigo-900/20 rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{className:"w-5 h-5 text-indigo-400"}),n.jsx("h4",{className:"font-semibold text-indigo-300",children:"Pinned Messages"})]}),n.jsx(Gm,{className:`w-5 h-5 text-indigo-400 transition-transform ${m?"":"-rotate-90"}`})]}),m&&n.jsx("div",{className:"py-1 px-2 divide-y divide-white/5",children:E.map(z=>n.jsx(Sd,{msg:z,sender:c.find(V=>V.userId===z.senderId),isOwner:T,onPin:S,onDelete:w},z.messageId))})]}),n.jsx("div",{className:"space-y-1",children:D.map(z=>n.jsx(Sd,{msg:z,sender:c.find(V=>V.userId===z.senderId),isOwner:T,onPin:S,onDelete:w},z.messageId))}),n.jsx("div",{ref:g})]}),n.jsx("div",{className:"mt-auto p-4 border-t border-white/10 bg-[#0A0A0F]",children:n.jsxs("form",{onSubmit:p,className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:u,onChange:z=>d(z.target.value),placeholder:"Type your message...",className:"flex-1 bg-[#252532] border-2 border-[#374151] rounded-full py-3 px-5 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-3.5 rounded-full hover:opacity-90 transition-opacity disabled:opacity-50",disabled:!u.trim(),children:n.jsx(Br,{className:"w-5 h-5"})})]})})]}),n.jsx("aside",{className:"w-80 p-4 flex-shrink-0 border-l border-white/10 hidden md:block",children:n.jsx(xy,{idea:l,members:c,currentUser:t,onAddMember:b,onRemoveMember:N,setPage:a})})]})]}),j&&n.jsx(my,{isOpen:!0,onClose:()=>M(null),onConfirm:j.onConfirm,title:j.title,message:j.message,confirmText:j.confirmText})]})},an=({icon:e,label:t,isActive:a,onClick:l,isDisabled:s})=>{const i=a?"text-indigo-500 dark:text-indigo-400":"text-gray-500 dark:text-gray-400",o=s?"opacity-50 cursor-not-allowed":"hover:text-indigo-500 dark:hover:text-indigo-400";return n.jsxs("button",{onClick:l,disabled:s,className:`flex flex-col items-center justify-center w-full pt-2 pb-1 transition-all duration-200 transform ${a?"scale-110":""} ${i} ${o}`,children:[n.jsx(e,{className:"w-6 h-6 mb-1"}),n.jsx("span",{className:"text-xs font-medium",children:t})]})},py=({activePage:e,setPage:t,currentUser:a,isGuest:l,onGuestAction:s})=>n.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white/60 dark:bg-[#0A0A0F]/60 backdrop-blur-xl border-t border-gray-200 dark:border-white/10 z-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-around items-center h-16",children:[n.jsx(an,{icon:qm,label:"Home",isActive:e==="feed",onClick:()=>t("feed")}),n.jsx(an,{icon:Im,label:"Explore",isActive:e==="explore",onClick:()=>t("explore")}),n.jsx(an,{icon:Dt,label:"Messages",isActive:e==="inbox"||e==="chat",onClick:l?s:()=>t("inbox")}),n.jsx(an,{icon:Ui,label:"Notifications",isActive:e==="notifications",onClick:l?s:()=>t("notifications")}),n.jsx(an,{icon:Ca,label:"Profile",isActive:e==="profile",onClick:l||!a?s:()=>t("profile",a.userId)})]})})}),yy=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState([]),[o,c]=y.useState([]),[r,u]=y.useState(!0),[d,x]=y.useState(null),[f,m]=y.useState("sectors"),[v,j]=y.useState("");y.useEffect(()=>{(async()=>{u(!0),x(null);try{const p=await C.getAllIdeas();l(p||[]);const b=[...p||[]].sort((N,w)=>(w.likesCount||0)+(w.commentsCount||0)-((N.likesCount||0)+(N.commentsCount||0)));if(i(b.slice(0,10)),e){const N=new Set(e.interests||[]),w=new Set((e.skills||[]).map(T=>T==null?void 0:T.skillName).filter(Boolean)),S=[...p||[]].filter(T=>(T.tags||[]).some(E=>N.has(E))||(T.requiredSkills||[]).some(E=>w.has(E))).slice(0,10);c(S)}}catch(p){console.error("Failed to fetch explore data:",p),x("Could not load ideas. Please try again later.")}finally{u(!1)}})()},[e]);const M=y.useMemo(()=>{const h={},p=v?(a||[]).filter(b=>((b==null?void 0:b.title)||"").toLowerCase().includes(v.toLowerCase())||((b==null?void 0:b.summary)||"").toLowerCase().includes(v.toLowerCase())):a||[];for(const b of ja)h[b]=p.filter(N=>(N==null?void 0:N.sector)===b);return h},[a,v]),g=()=>{if(r)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});if(d)return n.jsx("div",{className:"text-center p-8 text-red-400",children:d});switch(f){case"sectors":const h=ja.some(p=>{var b;return((b=M[p])==null?void 0:b.length)>0});return!h&&v?n.jsx("p",{className:"text-gray-400 text-center",children:"No ideas found matching your search."}):h?n.jsx("div",{className:"space-y-10",children:ja.map(p=>{const b=M[p];return!b||b.length===0?null:n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4 border-l-4 border-indigo-500 pl-3",children:p}),n.jsx("div",{className:"flex overflow-x-auto space-x-6 pb-4 -mx-4 px-4 scrollbar-thin",children:b.map(N=>n.jsx("div",{className:"w-80 flex-shrink-0",children:n.jsx(Ha,{idea:N,setPage:t})},N.ideaId))})]},p)})}):n.jsx("p",{className:"text-gray-400 text-center",children:"No ideas found in any sector yet."});case"trending":return s.length===0?n.jsx("p",{className:"text-gray-400 text-center",children:"No trending ideas found yet."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(p=>n.jsx(Ha,{idea:p,setPage:t},p.ideaId))});case"recommended":return e?o.length===0?n.jsx("p",{className:"text-gray-400 text-center col-span-full",children:"No recommendations found. Update your profile interests and skills."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>n.jsx(Ha,{idea:p,setPage:t},p.ideaId))}):n.jsx("p",{className:"text-gray-400 text-center",children:"Please log in to see recommendations."});default:return null}};return n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Explore Ideas"}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"search",placeholder:"Search all ideas by keyword...",value:v,onChange:h=>j(h.target.value),className:"w-full bg-[#1A1A24] border-2 border-[#374151] rounded-lg shadow-sm py-3 px-4 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})}),n.jsx("div",{className:"border-b border-white/10 mb-6",children:n.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>m("sectors"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${f==="sectors"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"By Sector"}),n.jsx("button",{onClick:()=>m("trending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${f==="trending"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Trending"}),n.jsx("button",{onClick:()=>m("recommended"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${f==="recommended"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Recommended"})]})}),g()]})})},kd={all:[],collaborations:["COLLABORATION_REQUEST","COLLABORATION_APPROVED","COLLABORATION_RECORDED"],feedback:["NEW_COMMENT","NEW_FEEDBACK"],community:["NEW_CONNECTION","ACHIEVEMENT_UNLOCKED","CONTENT_REPORTED_OWNER","CONTENT_REPORTED_REPORTER","IDEA_TIMESTAMPED","NEW_MESSAGE","MESSAGE_REQUEST","MILESTONE_COMPLETED"]},by={COLLABORATION_REQUEST:Li,COLLABORATION_APPROVED:Ca,COLLABORATION_RECORDED:_l,NEW_COMMENT:Dt,NEW_FEEDBACK:Hi,NEW_CONNECTION:Ca,ACHIEVEMENT_UNLOCKED:Xl,CONTENT_REPORTED_OWNER:Rn,CONTENT_REPORTED_REPORTER:Rn,IDEA_TIMESTAMPED:_l,NEW_MESSAGE:Dt,MESSAGE_REQUEST:Dt,MILESTONE_COMPLETED:Ii},vy=({notification:e,setPage:t})=>{const a=s=>{const i=Math.floor((new Date().getTime()-new Date(s).getTime())/1e3);let o=i/86400;return o>1?`${Math.floor(o)}d ago`:(o=i/3600,o>1?`${Math.floor(o)}h ago`:(o=i/60,o>1?`${Math.floor(o)}m ago`:"just now"))},l=by[e.type]||Ui;return n.jsxs("li",{onClick:()=>{e.link?t(e.link.page,e.link.id):console.warn("Notification link missing:",e)},className:`p-4 flex items-start space-x-4 cursor-pointer hover:bg-white/5 transition-colors duration-200 ${e.read?"":"bg-indigo-900/10"}`,children:[n.jsx("div",{className:`mt-1 flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center ${e.read?"bg-gray-700":"bg-indigo-600"}`,children:n.jsx(l,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${e.read?"text-gray-300":"text-white font-semibold"}`,children:e.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a(e.createdAt)})]}),!e.read&&n.jsx("div",{className:"w-2.5 h-2.5 bg-indigo-500 rounded-full mt-2 flex-shrink-0"})]})},jy=({setPage:e})=>{const[t,a]=y.useState([]),[l,s]=y.useState(!0),[i,o]=y.useState("all"),c=y.useCallback(async()=>{try{const d=await C.getNotificationsByUserId();a(d)}catch(d){console.error("Failed to fetch notifications:",d),alert("Could not load notifications. Please try again later.")}},[]);y.useEffect(()=>{s(!0),c().finally(()=>s(!1))},[c]);const r=async()=>{try{await C.markAllNotificationsAsRead(),c()}catch(d){console.error("Failed to mark notifications as read:",d),alert("Could not mark notifications as read. Please try again.")}},u=y.useMemo(()=>i==="all"?t:t.filter(d=>kd[i].includes(d.type)),[t,i]);return l?n.jsx("div",{className:"text-center p-8",children:"Loading notifications..."}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Notifications"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center space-x-1.5 text-sm text-gray-400 hover:text-white",children:[n.jsx(Ul,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark all as read"})]}),n.jsx("button",{onClick:()=>e("notificationSettings"),className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-white/10",children:n.jsx(Pm,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"border-b border-white/10 mb-4",children:n.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:Object.keys(kd).map(d=>n.jsx("button",{onClick:()=>o(d),className:`capitalize whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm ${i===d?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:d},d))})}),n.jsx("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10",children:n.jsx("ul",{className:"divide-y divide-white/10",children:u.length>0?u.map(d=>n.jsx(vy,{notification:d,setPage:e},d.id)):n.jsx("div",{className:"p-8 text-center text-gray-500",children:"You have no notifications in this category."})})})]})})},Ny=({setPage:e})=>n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto bg-[#1A1A24] p-8 rounded-2xl shadow-2xl border border-white/10",children:[n.jsx("button",{onClick:()=>e("profile"),className:"text-indigo-400 mb-6",children:"← Back to Profile"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(_l,{className:"w-8 h-8 text-indigo-400"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Community Guidelines"})]}),n.jsxs("div",{className:"prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-indigo-400 max-w-none space-y-4",children:[n.jsx("p",{children:"Welcome to the Thinker-Doer Platform. Our mission is to foster innovation and collaboration in a safe, respectful, and productive environment. By participating, you agree to abide by these guidelines."}),n.jsx("h2",{className:"text-xl font-semibold",children:"1. Be Respectful and Constructive"}),n.jsx("p",{children:"Treat all members with respect. Disagreements are natural, but they must be handled constructively. Personal attacks, harassment, hate speech, trolling, and any form of bullying are strictly prohibited."}),n.jsx("h2",{className:"text-xl font-semibold",children:"2. Protect Intellectual Property"}),n.jsx("p",{children:"Only post ideas and content that you own or have the right to share. Do not infringe on copyrights, trademarks, or patents. Our blockchain timestamping feature is here to help establish proof of origin for your ideas."}),n.jsx("h2",{className:"text-xl font-semibold",children:"3. No Inappropriate Content"}),n.jsx("p",{children:"Do not post content that is obscene, pornographic, graphically violent, or otherwise offensive. This is a professional platform for innovation, not a social media site for personal expression."}),n.jsx("h2",{className:"text-xl font-semibold",children:"4. No Spam or Scams"}),n.jsx("p",{children:"Do not use the platform for unsolicited advertising, spam, or fraudulent activities. All content should be relevant to the purpose of ideation and collaboration."}),n.jsx("h2",{className:"text-xl font-semibold",children:"5. Moderation and Enforcement"}),n.jsx("p",{children:"We provide a reporting mechanism for any content or user that violates these guidelines. Our moderation team will review all reports. Violations may result in content removal, temporary suspension, or permanent banning from the platform."}),n.jsx("p",{className:"pt-4 border-t border-white/10",children:"We believe in the power of this community to self-regulate and maintain a high standard of interaction. Thank you for contributing to a positive and innovative ecosystem."})]})]})}),wy=({achievementId:e,onClose:t,onShare:a})=>{const l=Hr[e];if(!l)return null;const s=Rl[l.icon]||Xl;return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-yellow-400/50 max-w-md w-full p-8 relative text-center",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-xl font-bold text-yellow-300 mb-2",children:"Achievement Unlocked!"}),n.jsxs("div",{className:"flex flex-col items-center my-6",children:[n.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center bg-yellow-400/10 border-2 border-yellow-400/30",children:n.jsx(s,{className:"w-12 h-12 text-yellow-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-white mt-4",children:l.name}),n.jsx("p",{className:"text-gray-400 mt-1",children:l.description})]}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg text-white bg-[#374151] hover:bg-[#4b5563]",children:"Dismiss"}),n.jsx("button",{onClick:a,className:"px-6 py-2 rounded-lg text-white shadow-md bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90",children:"Share to Feed"})]})]})})},js=({icon:e,title:t,value:a,colorClass:l})=>n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md p-6 rounded-2xl border border-white/10 flex items-center space-x-4",children:[n.jsx("div",{className:`p-3 rounded-full ${l}`,children:n.jsx(e,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:t}),n.jsx("p",{className:"text-2xl font-bold text-white",children:a})]})]}),Ns=({title:e,children:t})=>n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md p-6 rounded-2xl border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:e}),n.jsx("div",{className:"h-64",children:t})]}),Sy=({data:e})=>{if(!e||e.length===0)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"No data available."});const t=Math.max(...e.map(l=>l.views),1);if(e.length<2)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"Not enough data for line chart."});const a=e.map((l,s)=>`${s/(e.length-1)*100},${100-l.views/t*100}`).join(" ");return n.jsxs("div",{className:"w-full h-full flex flex-col",children:[n.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"flex-1",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"lineChartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:"0.4"}),n.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:"0"})]})}),n.jsx("polygon",{fill:"url(#lineChartGradient)",points:`0,100 ${a} 100,100`}),n.jsx("polyline",{fill:"none",stroke:"#8B5CF6",strokeWidth:"2",points:a})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[n.jsx("span",{children:new Date(e[0].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n.jsx("span",{children:new Date(e[e.length-1].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})},Cd=({data:e})=>{if(!e||e.length===0)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"No data available."});const t=Math.max(...e.map(a=>a.value),1);return n.jsx("div",{className:"w-full h-full flex items-end justify-around space-x-2",children:e.map((a,l)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-full bg-gradient-to-t from-indigo-500 to-purple-500 rounded-t-md transition-all duration-300 ease-out",style:{height:`${a.value/t*100}%`},title:`${a.label}: ${a.value}`}),n.jsx("span",{className:"text-xs text-gray-400 mt-1 truncate",children:a.label})]},l))})},ky=({data:e})=>{const t=e||[],a=t.reduce((i,o)=>i+o.count,0);if(a===0)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"No collaborator data yet."});const l=["#6366F1","#8B5CF6","#A78BFA","#38BDF8","#22D3EE"];let s=0;return n.jsxs("div",{className:"w-full h-full flex items-center space-x-6",children:[n.jsx("div",{className:"w-1/2 h-full relative",children:n.jsx("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:t.map((i,o)=>{const c=i.count/a*100;if(c===0)return null;const r=`${c} ${100-c}`,u=25-s;return s+=c,n.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"transparent",stroke:l[o%l.length],strokeWidth:"4",strokeDasharray:r,strokeDashoffset:u,transform:"rotate(-90 18 18)"},i.skill)})})}),n.jsx("div",{className:"w-1/2 space-y-2",children:t.map((i,o)=>n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:l[o%l.length]}}),n.jsx("span",{className:"text-gray-300",children:i.skill}),n.jsxs("span",{className:"ml-auto text-gray-400 font-mono",children:[(i.count/a*100).toFixed(0),"%"]})]},i.skill))})]})},Cy=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState(null),[c,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{r(!0);try{const[d,x]=await Promise.all([C.getIdeaById(e),C.getAnalyticsForIdea(e)]);if(d&&d.ownerId!==t.userId&&!(d.collaborators||[]).includes(t.userId)){alert("You don't have permission to view these analytics."),a("ideaDetail",e);return}s(d),o(x)}catch(d){console.error("Failed to fetch analytics data:",d),alert("Could not load analytics data."),a("ideaDetail",e)}finally{r(!1)}})()},[e,t.userId,a]),c?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin"})}):!l||!i?n.jsx("div",{className:"text-center p-8",children:"Could not load analytics data."}):n.jsx("div",{className:"bg-[#0A0A0F] min-h-screen p-4 md:p-8 animate-fadeInUp",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"text-indigo-400 mb-6",children:"← Back to Idea"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Rr,{className:"w-8 h-8 text-indigo-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-gray-400",children:l.title})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(js,{icon:$m,title:"Total Views",value:i.totalViews.toLocaleString(),colorClass:"bg-blue-500"}),n.jsx(js,{icon:Wm,title:"Engagement Rate",value:`${i.engagementRate.toFixed(1)}%`,colorClass:"bg-emerald-500"}),n.jsx(js,{icon:Ca,title:"Collaborators",value:(l.collaborators||[]).length,colorClass:"bg-purple-500"}),n.jsx(js,{icon:Fm,title:"Conversion Rate",value:`${i.collaborationConversionRate.toFixed(1)}%`,colorClass:"bg-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsx(Ns,{title:"Views Over Time (Last 7 Days)",children:n.jsx(Sy,{data:i.viewsOverTime})}),n.jsx(Ns,{title:"Collaborator Skills",children:n.jsx(ky,{data:i.collaboratorSkillDemographics})}),n.jsx(Ns,{title:"Top 5 Regions by Views",children:n.jsx(Cd,{data:(i.geography||[]).slice(0,5).map(u=>({label:u.region,value:u.views}))})}),n.jsx(Ns,{title:"Traffic Sources",children:n.jsx(Cd,{data:(i.trafficSources||[]).map(u=>({label:u.source,value:u.visits}))})})]})]})})},Ls={enabled:!1,startTime:"22:00",endTime:"08:00"},Bo={collaborationRequests:["inApp"],collaborationUpdates:["inApp"],commentsOnMyIdeas:["inApp"],feedbackOnMyIdeas:["inApp"],newConnections:["inApp"],achievementUnlocks:["inApp"],directMessages:["inApp"],messageReactions:["inApp"],doNotDisturb:Ls},_o=({checked:e,onChange:t})=>n.jsx("button",{type:"button",className:`${e?"bg-indigo-600":"bg-gray-600"} relative inline-flex items-center h-6 rounded-full w-11 transition-colors`,onClick:()=>t(!e),children:n.jsx("span",{className:`${e?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`})}),Ad=({label:e,description:t,children:a})=>n.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-white",children:e}),n.jsx("p",{className:"text-gray-400",children:t})]}),n.jsx("div",{className:"mt-2 sm:mt-0 sm:col-span-2 flex items-center space-x-6 justify-end",children:a})]}),Ay=({currentUser:e,setCurrentUser:t,setPage:a})=>{var M,g,h;const[l,s]=y.useState(()=>e.notificationSettings??{...Bo}),[i,o]=y.useState(!1),[c,r]=y.useState(!1);y.useEffect(()=>{const p=e.notificationSettings??Bo;JSON.stringify(l)!==JSON.stringify(p)&&s(p)},[e.notificationSettings]);const u=(p,b,N)=>{s(w=>{const S=w[p]??[],T=N?[...S,b]:S.filter(E=>E!==b);return{...w,[p]:T}})},d=(p,b)=>{s(N=>({...N,doNotDisturb:{...N.doNotDisturb??Ls,[p]:b}}))},x=async()=>{o(!0);try{const p=await C.updateNotificationSettings(l);if(p)t(p),s(p.notificationSettings??Bo),r(!0),setTimeout(()=>r(!1),2e3);else throw new Error("No updated user data returned from API.")}catch(p){console.error("Failed to save settings:",p),alert(`Failed to save settings: ${p.message||"Please try again."}`)}finally{o(!1)}},f=[{key:"collaborationRequests",label:"Collaboration Requests",description:"When someone wants to join your idea."},{key:"collaborationUpdates",label:"Collaboration Updates",description:"When your request is approved or a collaboration is recorded."},{key:"commentsOnMyIdeas",label:"Comments on Your Ideas",description:"When someone comments on an idea you own."},{key:"feedbackOnMyIdeas",label:"Feedback on Your Ideas",description:"When someone provides feedback on an idea you own."},{key:"newConnections",label:"New Connections",description:"When another user connects with you."},{key:"achievementUnlocks",label:"Achievement Unlocks",description:"When you unlock a new achievement badge."},{key:"directMessages",label:"Direct Messages",description:"When you receive a new direct message."},{key:"messageReactions",label:"Message Reactions",description:"When someone reacts to your message."}],m=((M=l.doNotDisturb)==null?void 0:M.enabled)??!1,v=((g=l.doNotDisturb)==null?void 0:g.startTime)??Ls.startTime,j=((h=l.doNotDisturb)==null?void 0:h.endTime)??Ls.endTime;return n.jsxs("div",{className:"bg-[#0A0A0F] min-h-screen",children:[n.jsx("header",{className:"bg-[#1A1A24]/80 backdrop-blur-lg border-b border-white/10 sticky top-0 z-10",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsx("button",{onClick:()=>a("notifications"),className:"text-indigo-400",children:"← Back to Notifications"}),n.jsx("h1",{className:"text-xl font-bold text-white",children:"Notification Settings"}),n.jsx("div",{className:"w-36 flex justify-end",children:n.jsx("button",{onClick:x,disabled:i||c,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:i?"Saving...":c?"Saved!":"Save"})})]})})}),n.jsxs("main",{className:"container mx-auto p-4 md:p-8",children:[n.jsx("div",{className:"max-w-3xl mx-auto bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10",children:n.jsx("div",{className:"divide-y divide-white/10 px-6",children:f.map(({key:p,label:b,description:N})=>n.jsxs(Ad,{label:b,description:N,children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("label",{className:"text-xs font-medium text-gray-400",children:"In-App"}),n.jsx(_o,{checked:(l[p]??[]).includes("inApp"),onChange:w=>u(p,"inApp",w)})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Email"}),n.jsx(_o,{checked:(l[p]??[]).includes("email"),onChange:w=>u(p,"email",w)})]})]},p))})}),n.jsx("div",{className:"max-w-3xl mx-auto bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 mt-8",children:n.jsxs("div",{className:"divide-y divide-white/10 px-6",children:[n.jsx(Ad,{label:"Do Not Disturb",description:"Temporarily mute all notifications during specific hours.",children:n.jsx(_o,{checked:m,onChange:p=>d("enabled",p)})}),m&&n.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 items-center",children:[n.jsx("div",{className:"text-sm font-medium text-white",children:"Quiet Hours"}),n.jsxs("div",{className:"mt-2 sm:mt-0 sm:col-span-2 flex items-center space-x-4 justify-end",children:[n.jsx("input",{type:"time",value:v,onChange:p=>d("startTime",p.target.value),className:"bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx("input",{type:"time",value:j,onChange:p=>d("endTime",p.target.value),className:"bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]})]})]})})]})]})},Ty=({isOpen:e,onClose:t,onNavigateToLogin:a})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-sm w-full p-8 relative text-center",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-indigo-500/10 border-2 border-indigo-500/30 mx-auto",children:n.jsx(Ca,{className:"w-8 h-8 text-indigo-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:"Join the Conversation"}),n.jsx("p",{className:"text-gray-400 my-4",children:"Sign up or log in to like, comment, collaborate, and bring your ideas to life."}),n.jsx("button",{onClick:a,className:"w-full mt-4 px-6 py-3 rounded-lg text-white font-semibold shadow-md bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90 transition-opacity",children:"Sign Up / Log In"})]})}):null,My=({task:e,onDragStart:t})=>n.jsxs("div",{draggable:!0,onDragStart:a=>t(a,e.id),className:"bg-[#252532] p-3 rounded-lg border-2 border-[#374151] cursor-grab active:cursor-grabbing",children:[n.jsx("h4",{className:"font-semibold text-white",children:e.title}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]}),Ey=({column:e,tasks:t,onDragOver:a,onDrop:l,onDragStart:s})=>n.jsxs("div",{onDragOver:a,onDrop:i=>l(i,e.id),className:"w-80 bg-[#101018] rounded-xl flex flex-col flex-shrink-0",children:[n.jsxs("h3",{className:"font-bold text-lg text-white p-4 border-b border-white/10",children:[e.title," (",t.length,")"]}),n.jsx("div",{className:"flex-1 p-3 space-y-3 overflow-y-auto scrollbar-thin",children:t.map(i=>n.jsx(My,{task:i,onDragStart:(o,c)=>s(o,c)},i.id))})]}),Dy=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState(null),[c,r]=y.useState(!0);y.useEffect(()=>{(async()=>{r(!0);try{const m=await C.getIdeaById(e);m&&(m.ownerId===t.userId||(m.collaborators||[]).includes(t.userId))?(s(m),o(m.kanbanBoard||null)):(alert("You don't have access to this project board."),a("feed"))}catch(m){console.error("Failed to fetch kanban board:",m),alert("Could not load project board."),a("ideaDetail",e)}finally{r(!1)}})()},[e,t,a]);const u=(f,m)=>{f.dataTransfer.setData("taskId",m)},d=f=>{f.preventDefault()},x=async(f,m)=>{f.preventDefault();const v=f.dataTransfer.getData("taskId");if(!v||!i)return;let j;for(const w of i.columnOrder)if((i.columns[w].taskIds||[]).includes(v)){j=w;break}if(!j||j===m)return;const M={...i},g=M.columns[j],h=M.columns[m],p=(g.taskIds||[]).filter(w=>w!==v),b=[...h.taskIds||[],v];o(w=>w?{...w,columns:{...w.columns,[j]:{...w.columns[j],taskIds:p},[m]:{...w.columns[m],taskIds:b}}}:null);const N={...i,columns:{...i.columns,[j]:{...g,taskIds:p},[m]:{...h,taskIds:b}}};try{await C.updateKanbanBoard(e,N)}catch(w){console.error("Failed to save kanban board update:",w),alert("Failed to save changes. Reverting."),o(i)}};return c?n.jsx("div",{className:"flex items-center justify-center h-screen bg-[#0A0A0F]",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin"})}):!l||!i?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-[#0A0A0F]",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Project Board Not Found"}),n.jsx("p",{className:"text-gray-400",children:"This project does not have a Kanban board yet."}),n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"mt-6 bg-indigo-600 px-4 py-2 rounded-lg text-sm hover:bg-indigo-700",children:"← Back to Idea Details"})]}):n.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#0A0A0F] text-white",children:[n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:"← Back to Idea"}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-bold",children:l.title}),n.jsx("p",{className:"text-sm text-gradient",children:"Project Board"})]}),n.jsx("div",{className:"w-28"})]}),n.jsx("main",{className:"flex-1 p-4 overflow-x-auto",children:n.jsx("div",{className:"flex space-x-4 h-full",children:i.columnOrder.map(f=>{const m=i.columns[f],v=(m.taskIds||[]).map(j=>i.tasks[j]);return n.jsx(Ey,{column:m,tasks:v,onDragOver:d,onDrop:x,onDragStart:(j,M)=>u(j,M)},m.id)})})})]})};class Oy extends gi.Component{constructor(){super(...arguments);Ji(this,"state",{hasError:!1});Ji(this,"handleRefresh",()=>{this.setState({hasError:!1},()=>window.location.reload())})}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,l){console.error("Uncaught error:",a,l)}render(){return this.state.hasError?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4 text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Something went wrong."}),n.jsx("p",{className:"mt-4 text-lg",children:"We're sorry for the inconvenience. Please try refreshing the page."}),n.jsx("button",{onClick:this.handleRefresh,className:"mt-6 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700",children:"Refresh"})]}):this.props.children}}const zy=()=>{const[e,t]=y.useState(null),[a,l]=y.useState(!1),[s,i]=y.useState("feed"),[o,c]=y.useState(null),[r,u]=y.useState(null),[d,x]=y.useState(null),[f,m]=y.useState([]),[v,j]=y.useState(!1),[M]=y.useState(!0),[g,h]=y.useState(()=>{const _=localStorage.getItem("theme");return _==="light"||_==="dark"?_:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});y.useEffect(()=>{const _=window.document.documentElement;g==="dark"?_.classList.add("dark"):_.classList.remove("dark"),localStorage.setItem("theme",g)},[g]);const p=()=>{h(_=>_==="light"?"dark":"light")},b=(_,A)=>{i(_),c(_==="ideaDetail"||_==="ideaBoard"||_==="forum"||_==="analytics"||_==="kanban"?A??null:null),u(_==="profile"&&A?A:null),x(_==="chat"&&A?A:null),window.scrollTo(0,0)},N=_=>{_===null&&localStorage.removeItem("authToken"),localStorage.setItem("currentUser",JSON.stringify(_)),t(_),l(!1)},w=()=>{l(!0),t(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),b("feed")},S=()=>{l(!1),t(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser")},T=()=>{j(!0)},E=_=>{_&&_.length>0&&m(A=>[...A,..._])},D=()=>{m(_=>_.slice(1))},z=()=>{if(e){const _={...e,onboardingCompleted:!0};t(_),localStorage.setItem("currentUser",JSON.stringify(_)),b("feed")}};if(y.useEffect(()=>{const _=localStorage.getItem("authToken"),A=localStorage.getItem("currentUser");if(_&&A){const H=JSON.parse(A);t(H),C.verifyToken(_).then(U=>{var Q;U.valid?(Q=U.user)!=null&&Q.userId&&C.getUserById(U.user.userId).then(te=>{te&&N(te)}):S()}).catch(U=>{console.error("Token verification failed:",U),S()})}else _?C.verifyToken(_).then(H=>{var U;H.valid&&((U=H.user)!=null&&U.userId)?C.getUserById(H.user.userId).then(Q=>{Q&&N(Q)}):S()}).catch(()=>{S()}):w()},[]),!e&&!a)return n.jsx(xp,{setCurrentUser:N,setPage:b,onGuestLogin:w});if(e&&!e.onboardingCompleted)return n.jsx(iy,{setCurrentUser:t,onComplete:z,currentUser:e});const V=()=>{switch(s){case"feed":return n.jsx(zo,{currentUser:e,setPage:b});case"explore":return n.jsx(yy,{currentUser:e,setPage:b});case"inbox":return a||!e?null:n.jsx(dy,{currentUser:e,setPage:b});case"notifications":return a||!e?null:n.jsx(jy,{setPage:b});case"notificationSettings":return a||!e?null:n.jsx(Ay,{currentUser:e,setCurrentUser:t,setPage:b});case"profile":return a||!e?null:n.jsx(_p,{userId:r||e.userId,currentUser:e,setPage:b});case"ideaDetail":if(o)return n.jsx(Qp,{ideaId:o,currentUser:e,isGuest:a,setPage:b,onAchievementsUnlock:E,onGuestAction:T});break;case"newIdea":return a||!e?null:n.jsx(Jp,{setPage:b,setSelectedIdeaId:c,onAchievementsUnlock:E});case"ideaBoard":if(a||!e)return null;if(o)return n.jsx(ey,{ideaId:o,currentUser:e,setPage:b});break;case"kanban":if(a||!e)return null;if(o)return n.jsx(Dy,{ideaId:o,currentUser:e,setPage:b});break;case"forum":if(a||!e)return null;if(o)return n.jsx(gy,{ideaId:o,currentUser:e,setPage:b});break;case"connections":return a||!e?null:n.jsx(oy,{userId:e.userId,setPage:b});case"bookmarks":return a||!e?null:n.jsx(cy,{currentUser:e,setPage:b});case"chat":if(a||!e)return null;if(d)return n.jsx(hy,{conversationId:d,currentUser:e,setPage:b});break;case"privacyPolicy":return n.jsx(Ny,{setPage:b});case"analytics":if(a||!e)return null;if(o)return n.jsx(Cy,{ideaId:o,currentUser:e,setPage:b});break;default:return n.jsx(zo,{currentUser:e,setPage:b})}return b("feed"),n.jsx(zo,{currentUser:e,setPage:b})},ee=s!=="ideaBoard"&&s!=="forum"&&s!=="chat"&&s!=="analytics"&&s!=="notificationSettings"&&s!=="onboarding"&&s!=="kanban",L=ee&&s!=="newIdea"&&s!=="ideaDetail"&&s!=="privacyPolicy";return n.jsx("div",{className:"min-h-screen font-sans",children:n.jsxs(Oy,{children:[M&&n.jsx(mp,{}),ee&&n.jsx(Sp,{currentUser:e,isGuest:a,setPage:b,setCurrentUser:N,onGuestAction:T,onNavigateToLogin:S,theme:g,toggleTheme:p}),n.jsx("main",{className:`${ee?"pt-16":""} ${L?"pb-20":""}`,children:V()}),L&&n.jsx(py,{activePage:s,setPage:b,currentUser:e,isGuest:a,onGuestAction:T}),f.length>0&&e&&n.jsx(wy,{achievementId:f[0],onClose:D,onShare:()=>{C.shareAchievementToFeed(f[0]),D()}}),n.jsx(Ty,{isOpen:v,onClose:()=>j(!1),onNavigateToLogin:S})]})})};dp.createRoot(document.getElementById("root")).render(n.jsx(gi.StrictMode,{children:n.jsx(zy,{})}));
