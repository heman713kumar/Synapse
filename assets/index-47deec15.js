var h0=Object.defineProperty;var m0=(e,t,a)=>t in e?h0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Fi=(e,t,a)=>(m0(e,typeof t!="symbol"?t+"":t,a),a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}})();function Md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0=Symbol.for("react.transitional.element"),g0=Symbol.for("react.fragment");function Dd(e,t,a){var l=null;if(a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:x0,type:e,key:l,ref:t!==void 0?t:null,props:a}}bi.Fragment=g0;bi.jsx=Dd;bi.jsxs=Dd;Ed.exports=bi;var n=Ed.exports,Od={exports:{}},Q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.transitional.element"),p0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),v0=Symbol.for("react.profiler"),j0=Symbol.for("react.consumer"),N0=Symbol.for("react.context"),w0=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),k0=Symbol.for("react.memo"),zd=Symbol.for("react.lazy"),C0=Symbol.for("react.activity"),Gr=Symbol.iterator;function A0(e){return e===null||typeof e!="object"?null:(e=Gr&&e[Gr]||e["@@iterator"],typeof e=="function"?e:null)}var Bd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ud=Object.assign,_d={};function ql(e,t,a){this.props=e,this.context=t,this.refs=_d,this.updater=a||Bd}ql.prototype.isReactComponent={};ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rd(){}Rd.prototype=ql.prototype;function _c(e,t,a){this.props=e,this.context=t,this.refs=_d,this.updater=a||Bd}var Rc=_c.prototype=new Rd;Rc.constructor=_c;Ud(Rc,ql.prototype);Rc.isPureReactComponent=!0;var Qr=Array.isArray;function Lo(){}var pe={H:null,A:null,T:null,S:null},Ld=Object.prototype.hasOwnProperty;function Lc(e,t,a){var l=a.ref;return{$$typeof:Uc,type:e,key:t,ref:l!==void 0?l:null,props:a}}function T0(e,t){return Lc(e.type,t,e.props)}function Hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function M0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Xr=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M0(""+e.key):t.toString(36)}function E0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Lo,Lo):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function tl(e,t,a,l,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Uc:case p0:o=!0;break;case zd:return o=e._init,tl(o(e._payload),t,a,l,s)}}if(o)return s=s(e),o=l===""?"."+Wi(e,0):l,Qr(s)?(a="",o!=null&&(a=o.replace(Xr,"$&/")+"/"),tl(s,t,a,"",function(u){return u})):s!=null&&(Hc(s)&&(s=T0(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Xr,"$&/")+"/")+o)),t.push(s)),1;o=0;var c=l===""?".":l+":";if(Qr(e))for(var r=0;r<e.length;r++)l=e[r],i=c+Wi(l,r),o+=tl(l,t,a,i,s);else if(r=A0(e),typeof r=="function")for(e=r.call(e),r=0;!(l=e.next()).done;)l=l.value,i=c+Wi(l,r++),o+=tl(l,t,a,i,s);else if(i==="object"){if(typeof e.then=="function")return tl(E0(e),t,a,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function rs(e,t,a){if(e==null)return e;var l=[],s=0;return tl(e,l,"","",function(i){return t.call(a,i,s++)}),l}function D0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},O0={map:rs,forEach:function(e,t,a){rs(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return rs(e,function(){t++}),t},toArray:function(e){return rs(e,function(t){return t})||[]},only:function(e){if(!Hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Activity=C0;Q.Children=O0;Q.Component=ql;Q.Fragment=y0;Q.Profiler=v0;Q.PureComponent=_c;Q.StrictMode=b0;Q.Suspense=S0;Q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe;Q.__COMPILER_RUNTIME={__proto__:null,c:function(e){return pe.H.useMemoCache(e)}};Q.cache=function(e){return function(){return e.apply(null,arguments)}};Q.cacheSignal=function(){return null};Q.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var l=Ud({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!Ld.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(l[i]=t[i]);var i=arguments.length-2;if(i===1)l.children=a;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];l.children=o}return Lc(e.type,s,l)};Q.createContext=function(e){return e={$$typeof:N0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:j0,_context:e},e};Q.createElement=function(e,t,a){var l,s={},i=null;if(t!=null)for(l in t.key!==void 0&&(i=""+t.key),t)Ld.call(t,l)&&l!=="key"&&l!=="__self"&&l!=="__source"&&(s[l]=t[l]);var o=arguments.length-2;if(o===1)s.children=a;else if(1<o){for(var c=Array(o),r=0;r<o;r++)c[r]=arguments[r+2];s.children=c}if(e&&e.defaultProps)for(l in o=e.defaultProps,o)s[l]===void 0&&(s[l]=o[l]);return Lc(e,i,s)};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:w0,render:e}};Q.isValidElement=Hc;Q.lazy=function(e){return{$$typeof:zd,_payload:{_status:-1,_result:e},_init:D0}};Q.memo=function(e,t){return{$$typeof:k0,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=pe.T,a={};pe.T=a;try{var l=e(),s=pe.S;s!==null&&s(a,l),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l.then(Lo,Zr)}catch(i){Zr(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),pe.T=t}};Q.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()};Q.use=function(e){return pe.H.use(e)};Q.useActionState=function(e,t,a){return pe.H.useActionState(e,t,a)};Q.useCallback=function(e,t){return pe.H.useCallback(e,t)};Q.useContext=function(e){return pe.H.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e,t){return pe.H.useDeferredValue(e,t)};Q.useEffect=function(e,t){return pe.H.useEffect(e,t)};Q.useEffectEvent=function(e){return pe.H.useEffectEvent(e)};Q.useId=function(){return pe.H.useId()};Q.useImperativeHandle=function(e,t,a){return pe.H.useImperativeHandle(e,t,a)};Q.useInsertionEffect=function(e,t){return pe.H.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return pe.H.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return pe.H.useMemo(e,t)};Q.useOptimistic=function(e,t){return pe.H.useOptimistic(e,t)};Q.useReducer=function(e,t,a){return pe.H.useReducer(e,t,a)};Q.useRef=function(e){return pe.H.useRef(e)};Q.useState=function(e){return pe.H.useState(e)};Q.useSyncExternalStore=function(e,t,a){return pe.H.useSyncExternalStore(e,t,a)};Q.useTransition=function(){return pe.H.useTransition()};Q.version="19.2.0";Od.exports=Q;var y=Od.exports;const vi=Md(y);var Hd={exports:{}},ji={},qd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,H){var _=A.length;A.push(H);e:for(;0<_;){var X=_-1>>>1,te=A[X];if(0<s(te,H))A[X]=H,A[_]=te,_=X;else break e}}function a(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var H=A[0],_=A.pop();if(_!==H){A[0]=_;e:for(var X=0,te=A.length,se=te>>>1;X<se;){var Oe=2*(X+1)-1,q=A[Oe],ne=Oe+1,ze=A[ne];if(0>s(q,_))ne<te&&0>s(ze,q)?(A[X]=ze,A[ne]=_,X=ne):(A[X]=q,A[Oe]=_,X=Oe);else if(ne<te&&0>s(ze,_))A[X]=ze,A[ne]=_,X=ne;else break e}}return H}function s(A,H){var _=A.sortIndex-H.sortIndex;return _!==0?_:A.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var r=[],u=[],f=1,x=null,d=3,m=!1,v=!1,j=!1,T=!1,g=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function b(A){for(var H=a(u);H!==null;){if(H.callback===null)l(u);else if(H.startTime<=A)l(u),H.sortIndex=H.expirationTime,t(r,H);else break;H=a(u)}}function N(A){if(j=!1,b(A),!v)if(a(r)!==null)v=!0,w||(w=!0,I());else{var H=a(u);H!==null&&U(N,H.startTime-A)}}var w=!1,S=-1,D=5,E=-1;function M(){return T?!0:!(e.unstable_now()-E<D)}function O(){if(T=!1,w){var A=e.unstable_now();E=A;var H=!0;try{e:{v=!1,j&&(j=!1,h(S),S=-1),m=!0;var _=d;try{t:{for(b(A),x=a(r);x!==null&&!(x.expirationTime>A&&M());){var X=x.callback;if(typeof X=="function"){x.callback=null,d=x.priorityLevel;var te=X(x.expirationTime<=A);if(A=e.unstable_now(),typeof te=="function"){x.callback=te,b(A),H=!0;break t}x===a(r)&&l(r),b(A)}else l(r);x=a(r)}if(x!==null)H=!0;else{var se=a(u);se!==null&&U(N,se.startTime-A),H=!1}}break e}finally{x=null,d=_,m=!1}H=void 0}}finally{H?I():w=!1}}}var I;if(typeof p=="function")I=function(){p(O)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,L=ee.port2;ee.port1.onmessage=O,I=function(){L.postMessage(null)}}else I=function(){g(O,0)};function U(A,H){S=g(function(){A(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(A){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var _=d;d=H;try{return A()}finally{d=_}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var _=d;d=A;try{return H()}finally{d=_}},e.unstable_scheduleCallback=function(A,H,_){var X=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?X+_:X):_=X,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=_+te,A={id:f++,callback:H,priorityLevel:A,startTime:_,expirationTime:te,sortIndex:-1},_>X?(A.sortIndex=_,t(u,A),a(r)===null&&A===a(u)&&(j?(h(S),S=-1):j=!0,U(N,_-X))):(A.sortIndex=te,t(r,A),v||m||(v=!0,w||(w=!0,I()))),A},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(A){var H=d;return function(){var _=d;d=H;try{return A.apply(this,arguments)}finally{d=_}}}})(Id);qd.exports=Id;var z0=qd.exports,Yd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=y;function Vd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ea(){}var Qe={d:{f:ea,r:function(){throw Error(Vd(522))},D:ea,C:ea,L:ea,m:ea,X:ea,S:ea,M:ea},p:0,findDOMNode:null},U0=Symbol.for("react.portal");function _0(e,t,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U0,key:l==null?null:""+l,children:e,containerInfo:t,implementation:a}}var dn=B0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ni(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qe;Xe.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Vd(299));return _0(e,t,null,a)};Xe.flushSync=function(e){var t=dn.T,a=Qe.p;try{if(dn.T=null,Qe.p=2,e)return e()}finally{dn.T=t,Qe.p=a,Qe.d.f()}};Xe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qe.d.C(e,t))};Xe.prefetchDNS=function(e){typeof e=="string"&&Qe.d.D(e)};Xe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,l=Ni(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Qe.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:l,integrity:s,fetchPriority:i}):a==="script"&&Qe.d.X(e,{crossOrigin:l,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Xe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Ni(t.as,t.crossOrigin);Qe.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qe.d.M(e)};Xe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,l=Ni(a,t.crossOrigin);Qe.d.L(e,a,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Xe.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Ni(t.as,t.crossOrigin);Qe.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qe.d.m(e)};Xe.requestFormReset=function(e){Qe.d.r(e)};Xe.unstable_batchedUpdates=function(e,t){return e(t)};Xe.useFormState=function(e,t,a){return dn.H.useFormState(e,t,a)};Xe.useFormStatus=function(){return dn.H.useHostTransitionStatus()};Xe.version="19.2.0";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(e){console.error(e)}}Gd(),Yd.exports=Xe;var R0=Yd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=z0,Qd=y,L0=R0;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vn(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Zd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jd(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jr(e){if(Vn(e)!==e)throw Error(k(188))}function H0(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return Jr(s),e;if(i===l)return Jr(s),t;i=i.sibling}throw Error(k(188))}if(a.return!==l.return)a=s,l=i;else{for(var o=!1,c=s.child;c;){if(c===a){o=!0,a=s,l=i;break}if(c===l){o=!0,l=s,a=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===a){o=!0,a=i,l=s;break}if(c===l){o=!0,l=i,a=s;break}c=c.sibling}if(!o)throw Error(k(189))}}if(a.alternate!==l)throw Error(k(190))}if(a.tag!==3)throw Error(k(188));return a.stateNode.current===a?e:t}function $d(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$d(e),t!==null)return t;e=e.sibling}return null}var ye=Object.assign,q0=Symbol.for("react.element"),us=Symbol.for("react.transitional.element"),sn=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),Ho=Symbol.for("react.profiler"),Fd=Symbol.for("react.consumer"),It=Symbol.for("react.context"),qc=Symbol.for("react.forward_ref"),qo=Symbol.for("react.suspense"),Io=Symbol.for("react.suspense_list"),Ic=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),Yo=Symbol.for("react.activity"),I0=Symbol.for("react.memo_cache_sentinel"),$r=Symbol.iterator;function Fl(e){return e===null||typeof e!="object"?null:(e=$r&&e[$r]||e["@@iterator"],typeof e=="function"?e:null)}var Y0=Symbol.for("react.client.reference");function Vo(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nl:return"Fragment";case Ho:return"Profiler";case Kd:return"StrictMode";case qo:return"Suspense";case Io:return"SuspenseList";case Yo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case sn:return"Portal";case It:return e.displayName||"Context";case Fd:return(e._context.displayName||"Context")+".Consumer";case qc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ic:return t=e.displayName||null,t!==null?t:Vo(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return Vo(e(t))}catch{}}return null}var on=Array.isArray,G=Qd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=L0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ba={pending:!1,data:null,method:null,action:null},Go=[],sl=-1;function Ot(e){return{current:e}}function _e(e){0>sl||(e.current=Go[sl],Go[sl]=null,sl--)}function me(e,t){sl++,Go[sl]=e.current,e.current=t}var Et=Ot(null),kn=Ot(null),fa=Ot(null),Vs=Ot(null);function Gs(e,t){switch(me(fa,t),me(kn,e),me(Et,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?td(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=td(t),e=ym(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Et),me(Et,e)}function kl(){_e(Et),_e(kn),_e(fa)}function Qo(e){e.memoizedState!==null&&me(Vs,e);var t=Et.current,a=ym(t,e.type);t!==a&&(me(kn,e),me(Et,a))}function Qs(e){kn.current===e&&(_e(Et),_e(kn)),Vs.current===e&&(_e(Vs),_n._currentValue=Ba)}var Pi,Kr;function Ea(e){if(Pi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pi=t&&t[1]||"",Kr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+e+Kr}var eo=!1;function to(e,t){if(!e||eo)return"";eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(m){var d=m}Reflect.construct(e,[],x)}else{try{x.call()}catch(m){d=m}e.call(x.prototype)}}else{try{throw Error()}catch(m){d=m}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),o=i[0],c=i[1];if(o&&c){var r=o.split(`
`),u=c.split(`
`);for(s=l=0;l<r.length&&!r[l].includes("DetermineComponentFrameRoot");)l++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(l===r.length||s===u.length)for(l=r.length-1,s=u.length-1;1<=l&&0<=s&&r[l]!==u[s];)s--;for(;1<=l&&0<=s;l--,s--)if(r[l]!==u[s]){if(l!==1||s!==1)do if(l--,s--,0>s||r[l]!==u[s]){var f=`
`+r[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=s);break}}}finally{eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ea(a):""}function V0(e,t){switch(e.tag){case 26:case 27:case 5:return Ea(e.type);case 16:return Ea("Lazy");case 13:return e.child!==t&&t!==null?Ea("Suspense Fallback"):Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 15:return to(e.type,!1);case 11:return to(e.type.render,!1);case 1:return to(e.type,!0);case 31:return Ea("Activity");default:return""}}function Fr(e){try{var t="",a=null;do t+=V0(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Xo=Object.prototype.hasOwnProperty,Yc=De.unstable_scheduleCallback,ao=De.unstable_cancelCallback,G0=De.unstable_shouldYield,Q0=De.unstable_requestPaint,st=De.unstable_now,X0=De.unstable_getCurrentPriorityLevel,Wd=De.unstable_ImmediatePriority,Pd=De.unstable_UserBlockingPriority,Xs=De.unstable_NormalPriority,Z0=De.unstable_LowPriority,ef=De.unstable_IdlePriority,J0=De.log,$0=De.unstable_setDisableYieldValue,Gn=null,it=null;function oa(e){if(typeof J0=="function"&&$0(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Gn,e)}catch{}}var ot=Math.clz32?Math.clz32:W0,K0=Math.log,F0=Math.LN2;function W0(e){return e>>>=0,e===0?32:31-(K0(e)/F0|0)|0}var ds=256,fs=262144,hs=4194304;function Da(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var c=l&134217727;return c!==0?(l=c&~i,l!==0?s=Da(l):(o&=c,o!==0?s=Da(o):a||(a=c&~e,a!==0&&(s=Da(a))))):(c=l&~i,c!==0?s=Da(c):o!==0?s=Da(o):a||(a=l&~e,a!==0&&(s=Da(a)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function Qn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function P0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(){var e=hs;return hs<<=1,!(hs&62914560)&&(hs=4194304),e}function lo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ex(e,t,a,l,s,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,r=e.expirationTimes,u=e.hiddenUpdates;for(a=o&~a;0<a;){var f=31-ot(a),x=1<<f;c[f]=0,r[f]=-1;var d=u[f];if(d!==null)for(u[f]=null,f=0;f<d.length;f++){var m=d[f];m!==null&&(m.lane&=-536870913)}a&=~x}l!==0&&af(e,l,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function af(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function lf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ot(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function nf(e,t){var a=t&-t;return a=a&42?1:Vc(a),a&(e.suspendedLanes|t)?0:a}function Vc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function sf(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:Mm(e.type))}function Wr(e,t){var a=le.p;try{return le.p=e,t()}finally{le.p=a}}var Aa=Math.random().toString(36).slice(2),He="__reactFiber$"+Aa,Pe="__reactProps$"+Aa,Il="__reactContainer$"+Aa,Zo="__reactEvents$"+Aa,tx="__reactListeners$"+Aa,ax="__reactHandles$"+Aa,Pr="__reactResources$"+Aa,Zn="__reactMarker$"+Aa;function Qc(e){delete e[He],delete e[Pe],delete e[Zo],delete e[tx],delete e[ax]}function il(e){var t=e[He];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Il]||a[He]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=id(e);e!==null;){if(a=e[He])return a;e=id(e)}return t}e=a,a=e.parentNode}return null}function Yl(e){if(e=e[He]||e[Il]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function gl(e){var t=e[Pr];return t||(t=e[Pr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[Zn]=!0}var of=new Set,cf={};function Qa(e,t){Cl(e,t),Cl(e+"Capture",t)}function Cl(e,t){for(cf[e]=t,e=0;e<t.length;e++)of.add(t[e])}var lx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},tu={};function nx(e){return Xo.call(tu,e)?!0:Xo.call(eu,e)?!1:lx.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function As(e,t,a){if(nx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ms(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Bt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sx(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){if(!e._valueTracker){var t=rf(e)?"checked":"value";e._valueTracker=sx(e,t,""+e[t])}}function uf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=rf(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ix=/[\n"\\]/g;function xt(e){return e.replace(ix,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $o(e,t,a,l,s,i,o,c){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Ko(e,o,ft(t)):a!=null?Ko(e,o,ft(a)):l!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+ft(c):e.removeAttribute("name")}function df(e,t,a,l,s,i,o,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Jo(e);return}a=a!=null?""+ft(a):"",t=t!=null?""+ft(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=c?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Jo(e)}function Ko(e,t,a){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pl(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ft(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ff(e,t,a){if(t!=null&&(t=""+ft(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ft(a):""}function hf(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(k(92));if(on(l)){if(1<l.length)throw Error(k(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=ft(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Jo(e)}function Al(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ox=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||ox.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function mf(e,t,a){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&au(e,s,l)}else for(var i in t)t.hasOwnProperty(i)&&au(e,i,t[i])}function Xc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(e){return rx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yt(){}var Fo=null;function Zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,yl=null;function lu(e){var t=Yl(e);if(t&&(e=t.stateNode)){var a=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if($o(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[Pe]||null;if(!s)throw Error(k(90));$o(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&uf(l)}break e;case"textarea":ff(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&pl(e,!!a.multiple,t,!1)}}}var no=!1;function xf(e,t,a){if(no)return e(t,a);no=!0;try{var l=e(t);return l}finally{if(no=!1,(ol!==null||yl!==null)&&(Ui(),ol&&(t=ol,e=yl,yl=ol=null,lu(t),e)))for(t=0;t<e.length;t++)lu(e[t])}}function Cn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(k(231,t,typeof a));return a}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(Zt)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Wo=!1}var ca=null,Jc=null,Ms=null;function gf(){if(Ms)return Ms;var e,t=Jc,a=t.length,l,s="value"in ca?ca.value:ca.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===s[i-l];l++);return Ms=s.slice(e,1<l?1-l:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function nu(){return!1}function et(e){function t(a,l,s,i,o){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:nu,this.isPropagationStopped=nu,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=et(Xa),Jn=ye({},Xa,{view:0,detail:0}),ux=et(Jn),so,io,Pl,ki=ye({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(so=e.screenX-Pl.screenX,io=e.screenY-Pl.screenY):io=so=0,Pl=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),su=et(ki),dx=ye({},ki,{dataTransfer:0}),fx=et(dx),hx=ye({},Jn,{relatedTarget:0}),oo=et(hx),mx=ye({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=et(mx),gx=ye({},Xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),px=et(gx),yx=ye({},Xa,{data:0}),iu=et(yx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jx[e])?!!t[e]:!1}function $c(){return Nx}var wx=ye({},Jn,{key:function(e){if(e.key){var t=bx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sx=et(wx),kx=ye({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=et(kx),Cx=ye({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),Ax=et(Cx),Tx=ye({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mx=et(Tx),Ex=ye({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dx=et(Ex),Ox=ye({},Xa,{newState:0,oldState:0}),zx=et(Ox),Bx=[9,13,27,32],Kc=Zt&&"CompositionEvent"in window,fn=null;Zt&&"documentMode"in document&&(fn=document.documentMode);var Ux=Zt&&"TextEvent"in window&&!fn,pf=Zt&&(!Kc||fn&&8<fn&&11>=fn),cu=String.fromCharCode(32),ru=!1;function yf(e,t){switch(e){case"keyup":return Bx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function _x(e,t){switch(e){case"compositionend":return bf(t);case"keypress":return t.which!==32?null:(ru=!0,cu);case"textInput":return e=t.data,e===cu&&ru?null:e;default:return null}}function Rx(e,t){if(cl)return e==="compositionend"||!Kc&&yf(e,t)?(e=gf(),Ms=Jc=ca=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pf&&t.locale!=="ko"?null:t.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lx[e.type]:t==="textarea"}function vf(e,t,a,l){ol?yl?yl.push(l):yl=[l]:ol=l,t=di(t,"onChange"),0<t.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var hn=null,An=null;function Hx(e){xm(e,0)}function Ci(e){var t=cn(e);if(uf(t))return e}function du(e,t){if(e==="change")return t}var jf=!1;if(Zt){var co;if(Zt){var ro="oninput"in document;if(!ro){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),ro=typeof fu.oninput=="function"}co=ro}else co=!1;jf=co&&(!document.documentMode||9<document.documentMode)}function hu(){hn&&(hn.detachEvent("onpropertychange",Nf),An=hn=null)}function Nf(e){if(e.propertyName==="value"&&Ci(An)){var t=[];vf(t,An,e,Zc(e)),xf(Hx,t)}}function qx(e,t,a){e==="focusin"?(hu(),hn=t,An=a,hn.attachEvent("onpropertychange",Nf)):e==="focusout"&&hu()}function Ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ci(An)}function Yx(e,t){if(e==="click")return Ci(t)}function Vx(e,t){if(e==="input"||e==="change")return Ci(t)}function Gx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Gx;function Tn(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!Xo.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,t){var a=mu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mu(a)}}function wf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zs(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Qx=Zt&&"documentMode"in document&&11>=document.documentMode,rl=null,Po=null,mn=null,ec=!1;function gu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ec||rl==null||rl!==Zs(l)||(l=rl,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),mn&&Tn(mn,l)||(mn=l,l=di(Po,"onSelect"),0<l.length&&(t=new Si("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=rl)))}function Ma(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ul={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},uo={},kf={};Zt&&(kf=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Za(e){if(uo[e])return uo[e];if(!ul[e])return e;var t=ul[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in kf)return uo[e]=t[a];return e}var Cf=Za("animationend"),Af=Za("animationiteration"),Tf=Za("animationstart"),Xx=Za("transitionrun"),Zx=Za("transitionstart"),Jx=Za("transitioncancel"),Mf=Za("transitionend"),Ef=new Map,tc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tc.push("scrollEnd");function kt(e,t){Ef.set(e,t),Qa(t,[e])}var Js=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dt=[],dl=0,Wc=0;function Ai(){for(var e=dl,t=Wc=dl=0;t<e;){var a=dt[t];dt[t++]=null;var l=dt[t];dt[t++]=null;var s=dt[t];dt[t++]=null;var i=dt[t];if(dt[t++]=null,l!==null&&s!==null){var o=l.pending;o===null?s.next=s:(s.next=o.next,o.next=s),l.pending=s}i!==0&&Df(a,s,i)}}function Ti(e,t,a,l){dt[dl++]=e,dt[dl++]=t,dt[dl++]=a,dt[dl++]=l,Wc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Pc(e,t,a,l){return Ti(e,t,a,l),$s(e)}function Ja(e,t){return Ti(e,null,null,t),$s(e)}function Df(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ot(a),e=i.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),i):null}function $s(e){if(50<wn)throw wn=0,Nc=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fl={};function $x(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,a,l){return new $x(e,t,a,l)}function er(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gt(e,t){var a=e.alternate;return a===null?(a=lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Of(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ds(e,t,a,l,s,i){var o=0;if(l=e,typeof e=="function")er(e)&&(o=1);else if(typeof e=="string")o=ep(e,a,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Yo:return e=lt(31,a,t,s),e.elementType=Yo,e.lanes=i,e;case nl:return Ua(a.children,s,i,t);case Kd:o=8,s|=24;break;case Ho:return e=lt(12,a,t,s|2),e.elementType=Ho,e.lanes=i,e;case qo:return e=lt(13,a,t,s),e.elementType=qo,e.lanes=i,e;case Io:return e=lt(19,a,t,s),e.elementType=Io,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case It:o=10;break e;case Fd:o=9;break e;case qc:o=11;break e;case Ic:o=14;break e;case ta:o=16,l=null;break e}o=29,a=Error(k(130,e===null?"null":typeof e,"")),l=null}return t=lt(o,a,t,s),t.elementType=e,t.type=l,t.lanes=i,t}function Ua(e,t,a,l){return e=lt(7,e,l,t),e.lanes=a,e}function fo(e,t,a){return e=lt(6,e,null,t),e.lanes=a,e}function zf(e){var t=lt(18,null,null,0);return t.stateNode=e,t}function ho(e,t,a){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pu=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var a=pu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Fr(t)},pu.set(e,t),t)}return{value:e,source:t,stack:Fr(t)}}var hl=[],ml=0,Ks=null,Mn=0,ht=[],mt=0,Na=null,At=1,Tt="";function Ht(e,t){hl[ml++]=Mn,hl[ml++]=Ks,Ks=e,Mn=t}function Bf(e,t,a){ht[mt++]=At,ht[mt++]=Tt,ht[mt++]=Na,Na=e;var l=At;e=Tt;var s=32-ot(l)-1;l&=~(1<<s),a+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(l&(1<<o)-1).toString(32),l>>=o,s-=o,At=1<<32-ot(t)+s|a<<s|l,Tt=i+e}else At=1<<i|a<<s|l,Tt=e}function tr(e){e.return!==null&&(Ht(e,1),Bf(e,1,0))}function ar(e){for(;e===Ks;)Ks=hl[--ml],hl[ml]=null,Mn=hl[--ml],hl[ml]=null;for(;e===Na;)Na=ht[--mt],ht[mt]=null,Tt=ht[--mt],ht[mt]=null,At=ht[--mt],ht[mt]=null}function Uf(e,t){ht[mt++]=At,ht[mt++]=Tt,ht[mt++]=Na,At=t.id,Tt=t.overflow,Na=e}var qe=null,ge=null,P=!1,ha=null,pt=!1,ac=Error(k(519));function wa(e){var t=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw En(gt(t,e)),ac}function yu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[He]=e,t[Pe]=l,a){case"dialog":K("cancel",t),K("close",t);break;case"iframe":case"object":case"embed":K("load",t);break;case"video":case"audio":for(a=0;a<Bn.length;a++)K(Bn[a],t);break;case"source":K("error",t);break;case"img":case"image":case"link":K("error",t),K("load",t);break;case"details":K("toggle",t);break;case"input":K("invalid",t),df(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":K("invalid",t);break;case"textarea":K("invalid",t),hf(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||pm(t.textContent,a)?(l.popover!=null&&(K("beforetoggle",t),K("toggle",t)),l.onScroll!=null&&K("scroll",t),l.onScrollEnd!=null&&K("scrollend",t),l.onClick!=null&&(t.onclick=Yt),t=!0):t=!1,t||wa(e,!0)}function bu(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:pt=!1;return;case 27:case 3:pt=!0;return;default:qe=qe.return}}function Wa(e){if(e!==qe)return!1;if(!P)return bu(e),P=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ac(e.type,e.memoizedProps)),a=!a),a&&ge&&wa(e),bu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));ge=sd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));ge=sd(e)}else t===27?(t=ge,Ta(e.type)?(e=Dc,Dc=null,ge=e):ge=t):ge=qe?bt(e.stateNode.nextSibling):null;return!0}function qa(){ge=qe=null,P=!1}function mo(){var e=ha;return e!==null&&(Fe===null?Fe=e:Fe.push.apply(Fe,e),ha=null),e}function En(e){ha===null?ha=[e]:ha.push(e)}var lc=Ot(null),$a=null,Vt=null;function la(e,t,a){me(lc,t._currentValue),t._currentValue=a}function Qt(e){e._currentValue=lc.current,_e(lc)}function nc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function sc(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var o=s.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=s;for(var r=0;r<t.length;r++)if(c.context===t[r]){i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),nc(i.return,a,e),l||(o=null);break e}i=c.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(k(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),nc(o,a,e),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Vl(e,t,a,l){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(k(387));if(o=o.memoizedProps,o!==null){var c=s.type;rt(s.pendingProps.value,o.value)||(e!==null?e.push(c):e=[c])}}else if(s===Vs.current){if(o=s.alternate,o===null)throw Error(k(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(_n):e=[_n])}s=s.return}e!==null&&sc(t,e,a,l),t.flags|=262144}function Fs(e){for(e=e.firstContext;e!==null;){if(!rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){$a=e,Vt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return _f($a,e)}function gs(e,t){return $a===null&&Ia(e),_f(e,t)}function _f(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Vt===null){if(e===null)throw Error(k(308));Vt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vt=Vt.next=t;return a}var Kx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Fx=De.unstable_scheduleCallback,Wx=De.unstable_NormalPriority,Te={$$typeof:It,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lr(){return{controller:new Kx,data:new Map,refCount:0}}function $n(e){e.refCount--,e.refCount===0&&Fx(Wx,function(){e.controller.abort()})}var xn=null,ic=0,Tl=0,bl=null;function Px(e,t){if(xn===null){var a=xn=[];ic=0,Tl=Tr(),bl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ic++,t.then(vu,vu),t}function vu(){if(--ic===0&&xn!==null){bl!==null&&(bl.status="fulfilled");var e=xn;xn=null,Tl=0,bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var ju=G.S;G.S=function(e,t){Kh=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Px(e,t),ju!==null&&ju(e,t)};var _a=Ot(null);function nr(){var e=_a.current;return e!==null?e:de.pooledCache}function Os(e,t){t===null?me(_a,_a.current):me(_a,t.pool)}function Rf(){var e=nr();return e===null?null:{parent:Te._currentValue,pool:e}}var Gl=Error(k(460)),sr=Error(k(474)),Mi=Error(k(542)),Ws={then:function(){}};function Nu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Yt,Yt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Su(e),e;default:if(typeof t.status=="string")t.then(Yt,Yt);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Su(e),e}throw Ra=t,Gl}}function Oa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ra=a,Gl):a}}var Ra=null;function wu(){if(Ra===null)throw Error(k(459));var e=Ra;return Ra=null,e}function Su(e){if(e===Gl||e===Mi)throw Error(k(483))}var vl=null,Dn=0;function ps(e){var t=Dn;return Dn+=1,vl===null&&(vl=[]),Lf(vl,e,t)}function en(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ys(e,t){throw t.$$typeof===q0?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hf(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function a(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function l(g){for(var h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function s(g,h){return g=Gt(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=67108866,h):p):(g.flags|=67108866,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function c(g,h,p,b){return h===null||h.tag!==6?(h=fo(p,g.mode,b),h.return=g,h):(h=s(h,p),h.return=g,h)}function r(g,h,p,b){var N=p.type;return N===nl?f(g,h,p.props.children,b,p.key):h!==null&&(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ta&&Oa(N)===h.type)?(h=s(h,p.props),en(h,p),h.return=g,h):(h=Ds(p.type,p.key,p.props,null,g.mode,b),en(h,p),h.return=g,h)}function u(g,h,p,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=ho(p,g.mode,b),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function f(g,h,p,b,N){return h===null||h.tag!==7?(h=Ua(p,g.mode,b,N),h.return=g,h):(h=s(h,p),h.return=g,h)}function x(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=fo(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case us:return p=Ds(h.type,h.key,h.props,null,g.mode,p),en(p,h),p.return=g,p;case sn:return h=ho(h,g.mode,p),h.return=g,h;case ta:return h=Oa(h),x(g,h,p)}if(on(h)||Fl(h))return h=Ua(h,g.mode,p,null),h.return=g,h;if(typeof h.then=="function")return x(g,ps(h),p);if(h.$$typeof===It)return x(g,gs(g,h),p);ys(g,h)}return null}function d(g,h,p,b){var N=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return N!==null?null:c(g,h,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case us:return p.key===N?r(g,h,p,b):null;case sn:return p.key===N?u(g,h,p,b):null;case ta:return p=Oa(p),d(g,h,p,b)}if(on(p)||Fl(p))return N!==null?null:f(g,h,p,b,null);if(typeof p.then=="function")return d(g,h,ps(p),b);if(p.$$typeof===It)return d(g,h,gs(g,p),b);ys(g,p)}return null}function m(g,h,p,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return g=g.get(p)||null,c(h,g,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case us:return g=g.get(b.key===null?p:b.key)||null,r(h,g,b,N);case sn:return g=g.get(b.key===null?p:b.key)||null,u(h,g,b,N);case ta:return b=Oa(b),m(g,h,p,b,N)}if(on(b)||Fl(b))return g=g.get(p)||null,f(h,g,b,N,null);if(typeof b.then=="function")return m(g,h,p,ps(b),N);if(b.$$typeof===It)return m(g,h,p,gs(h,b),N);ys(h,b)}return null}function v(g,h,p,b){for(var N=null,w=null,S=h,D=h=0,E=null;S!==null&&D<p.length;D++){S.index>D?(E=S,S=null):E=S.sibling;var M=d(g,S,p[D],b);if(M===null){S===null&&(S=E);break}e&&S&&M.alternate===null&&t(g,S),h=i(M,h,D),w===null?N=M:w.sibling=M,w=M,S=E}if(D===p.length)return a(g,S),P&&Ht(g,D),N;if(S===null){for(;D<p.length;D++)S=x(g,p[D],b),S!==null&&(h=i(S,h,D),w===null?N=S:w.sibling=S,w=S);return P&&Ht(g,D),N}for(S=l(S);D<p.length;D++)E=m(S,g,D,p[D],b),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?D:E.key),h=i(E,h,D),w===null?N=E:w.sibling=E,w=E);return e&&S.forEach(function(O){return t(g,O)}),P&&Ht(g,D),N}function j(g,h,p,b){if(p==null)throw Error(k(151));for(var N=null,w=null,S=h,D=h=0,E=null,M=p.next();S!==null&&!M.done;D++,M=p.next()){S.index>D?(E=S,S=null):E=S.sibling;var O=d(g,S,M.value,b);if(O===null){S===null&&(S=E);break}e&&S&&O.alternate===null&&t(g,S),h=i(O,h,D),w===null?N=O:w.sibling=O,w=O,S=E}if(M.done)return a(g,S),P&&Ht(g,D),N;if(S===null){for(;!M.done;D++,M=p.next())M=x(g,M.value,b),M!==null&&(h=i(M,h,D),w===null?N=M:w.sibling=M,w=M);return P&&Ht(g,D),N}for(S=l(S);!M.done;D++,M=p.next())M=m(S,g,D,M.value,b),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?D:M.key),h=i(M,h,D),w===null?N=M:w.sibling=M,w=M);return e&&S.forEach(function(I){return t(g,I)}),P&&Ht(g,D),N}function T(g,h,p,b){if(typeof p=="object"&&p!==null&&p.type===nl&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case us:e:{for(var N=p.key;h!==null;){if(h.key===N){if(N=p.type,N===nl){if(h.tag===7){a(g,h.sibling),b=s(h,p.props.children),b.return=g,g=b;break e}}else if(h.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ta&&Oa(N)===h.type){a(g,h.sibling),b=s(h,p.props),en(b,p),b.return=g,g=b;break e}a(g,h);break}else t(g,h);h=h.sibling}p.type===nl?(b=Ua(p.props.children,g.mode,b,p.key),b.return=g,g=b):(b=Ds(p.type,p.key,p.props,null,g.mode,b),en(b,p),b.return=g,g=b)}return o(g);case sn:e:{for(N=p.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){a(g,h.sibling),b=s(h,p.children||[]),b.return=g,g=b;break e}else{a(g,h);break}else t(g,h);h=h.sibling}b=ho(p,g.mode,b),b.return=g,g=b}return o(g);case ta:return p=Oa(p),T(g,h,p,b)}if(on(p))return v(g,h,p,b);if(Fl(p)){if(N=Fl(p),typeof N!="function")throw Error(k(150));return p=N.call(p),j(g,h,p,b)}if(typeof p.then=="function")return T(g,h,ps(p),b);if(p.$$typeof===It)return T(g,h,gs(g,p),b);ys(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,h!==null&&h.tag===6?(a(g,h.sibling),b=s(h,p),b.return=g,g=b):(a(g,h),b=fo(p,g.mode,b),b.return=g,g=b),o(g)):a(g,h)}return function(g,h,p,b){try{Dn=0;var N=T(g,h,p,b);return vl=null,N}catch(S){if(S===Gl||S===Mi)throw S;var w=lt(29,S,null,g.mode);return w.lanes=b,w.return=g,w}finally{}}}var Ya=Hf(!0),qf=Hf(!1),aa=!1;function ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ae&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=$s(e),Df(e,null,a),t}return Ti(e,l,t,a),$s(e)}function gn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,lf(e,a)}}function xo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var cc=!1;function pn(){if(cc){var e=bl;if(e!==null)throw e}}function yn(e,t,a,l){cc=!1;var s=e.updateQueue;aa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var r=c,u=r.next;r.next=null,o===null?i=u:o.next=u,o=r;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=u:c.next=u,f.lastBaseUpdate=r))}if(i!==null){var x=s.baseState;o=0,f=u=r=null,c=i;do{var d=c.lane&-536870913,m=d!==c.lane;if(m?(W&d)===d:(l&d)===d){d!==0&&d===Tl&&(cc=!0),f!==null&&(f=f.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var v=e,j=c;d=t;var T=a;switch(j.tag){case 1:if(v=j.payload,typeof v=="function"){x=v.call(T,x,d);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,d=typeof v=="function"?v.call(T,x,d):v,d==null)break e;x=ye({},x,d);break e;case 2:aa=!0}}d=c.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=s.callbacks,m===null?s.callbacks=[d]:m.push(d))}else m={lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(u=f=m,r=x):f=f.next=m,o|=d;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);f===null&&(r=x),s.baseState=r,s.firstBaseUpdate=u,s.lastBaseUpdate=f,i===null&&(s.shared.lanes=0),ka|=o,e.lanes=o,e.memoizedState=x}}function If(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function Yf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)If(a[e],t)}var Ml=Ot(null),Ps=Ot(0);function ku(e,t){e=Ft,me(Ps,e),me(Ml,t),Ft=e|t.baseLanes}function rc(){me(Ps,Ft),me(Ml,Ml.current)}function or(){Ft=Ps.current,_e(Ml),_e(Ps)}var ut=Ot(null),yt=null;function na(e){var t=e.alternate;me(Se,Se.current&1),me(ut,e),yt===null&&(t===null||Ml.current!==null||t.memoizedState!==null)&&(yt=e)}function uc(e){me(Se,Se.current),me(ut,e),yt===null&&(yt=e)}function Vf(e){e.tag===22?(me(Se,Se.current),me(ut,e),yt===null&&(yt=e)):sa()}function sa(){me(Se,Se.current),me(ut,ut.current)}function at(e){_e(ut),yt===e&&(yt=null),_e(Se)}var Se=Ot(0);function ei(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mc(a)||Ec(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jt=0,Z=null,ue=null,Ce=null,ti=!1,jl=!1,Va=!1,ai=0,On=0,Nl=null,tg=0;function je(){throw Error(k(321))}function cr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!rt(e[a],t[a]))return!1;return!0}function rr(e,t,a,l,s,i){return Jt=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?vh:vr,Va=!1,i=a(l,s),Va=!1,jl&&(i=Qf(t,a,l,s)),Gf(e),i}function Gf(e){G.H=zn;var t=ue!==null&&ue.next!==null;if(Jt=0,Ce=ue=Z=null,ti=!1,On=0,Nl=null,t)throw Error(k(300));e===null||Me||(e=e.dependencies,e!==null&&Fs(e)&&(Me=!0))}function Qf(e,t,a,l){Z=e;var s=0;do{if(jl&&(Nl=null),On=0,jl=!1,25<=s)throw Error(k(301));if(s+=1,Ce=ue=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}G.H=jh,i=t(a,l)}while(jl);return i}function ag(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?Kn(t):t,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(Z.flags|=1024),t}function ur(){var e=ai!==0;return ai=0,e}function dr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function fr(e){if(ti){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ti=!1}Jt=0,Ce=ue=Z=null,jl=!1,On=ai=0,Nl=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Z.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ke(){if(ue===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=Ce===null?Z.memoizedState:Ce.next;if(t!==null)Ce=t,ue=e;else{if(e===null)throw Z.alternate===null?Error(k(467)):Error(k(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Ce===null?Z.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ei(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kn(e){var t=On;return On+=1,Nl===null&&(Nl=[]),e=Lf(Nl,e,t),t=Z,(Ce===null?t.memoizedState:Ce.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?vh:vr),e}function Di(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kn(e);if(e.$$typeof===It)return Ie(e)}throw Error(k(438,String(e)))}function hr(e){var t=null,a=Z.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Z.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ei(),Z.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=I0;return t.index++,a}function $t(e,t){return typeof t=="function"?t(e):t}function zs(e){var t=ke();return mr(t,ue,e)}function mr(e,t,a){var l=e.queue;if(l===null)throw Error(k(311));l.lastRenderedReducer=a;var s=e.baseQueue,i=l.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,l.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var c=o=null,r=null,u=t,f=!1;do{var x=u.lane&-536870913;if(x!==u.lane?(W&x)===x:(Jt&x)===x){var d=u.revertLane;if(d===0)r!==null&&(r=r.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),x===Tl&&(f=!0);else if((Jt&d)===d){u=u.next,d===Tl&&(f=!0);continue}else x={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(c=r=x,o=i):r=r.next=x,Z.lanes|=d,ka|=d;x=u.action,Va&&a(i,x),i=u.hasEagerState?u.eagerState:a(i,x)}else d={lane:x,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},r===null?(c=r=d,o=i):r=r.next=d,Z.lanes|=x,ka|=x;u=u.next}while(u!==null&&u!==t);if(r===null?o=i:r.next=c,!rt(i,e.memoizedState)&&(Me=!0,f&&(a=bl,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=r,l.lastRenderedState=i}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function go(e){var t=ke(),a=t.queue;if(a===null)throw Error(k(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);rt(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Xf(e,t,a){var l=Z,s=ke(),i=P;if(i){if(a===void 0)throw Error(k(407));a=a()}else a=t();var o=!rt((ue||s).memoizedState,a);if(o&&(s.memoizedState=a,Me=!0),s=s.queue,xr($f.bind(null,l,s,e),[e]),s.getSnapshot!==t||o||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,El(9,{destroy:void 0},Jf.bind(null,l,s,a,t),null),de===null)throw Error(k(349));i||Jt&127||Zf(l,t,a)}return a}function Zf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Z.updateQueue,t===null?(t=Ei(),Z.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Jf(e,t,a,l){t.value=a,t.getSnapshot=l,Kf(t)&&Ff(e)}function $f(e,t,a){return a(function(){Kf(t)&&Ff(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!rt(e,a)}catch{return!0}}function Ff(e){var t=Ja(e,2);t!==null&&We(t,e,2)}function dc(e){var t=Ge();if(typeof e=="function"){var a=e;if(e=a(),Va){oa(!0);try{a()}finally{oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:e},t}function Wf(e,t,a,l){return e.baseState=a,mr(e,ue,typeof l=="function"?l:$t)}function lg(e,t,a,l,s){if(zi(e))throw Error(k(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};G.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Pf(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Pf(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var i=G.T,o={};G.T=o;try{var c=a(s,l),r=G.S;r!==null&&r(o,c),Cu(e,t,c)}catch(u){fc(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),G.T=i}}else try{i=a(s,l),Cu(e,t,i)}catch(u){fc(e,t,u)}}function Cu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Au(e,t,l)},function(l){return fc(e,t,l)}):Au(e,t,a)}function Au(e,t,a){t.status="fulfilled",t.value=a,eh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pf(e,a)))}function fc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,eh(t),t=t.next;while(t!==l)}e.action=null}function eh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function th(e,t){return t}function Tu(e,t){if(P){var a=de.formState;if(a!==null){e:{var l=Z;if(P){if(ge){t:{for(var s=ge,i=pt;s.nodeType!==8;){if(!i){s=null;break t}if(s=bt(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){ge=bt(s.nextSibling),l=s.data==="F!";break e}}wa(l)}l=!1}l&&(t=a[0])}}return a=Ge(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:t},a.queue=l,a=ph.bind(null,Z,l),l.dispatch=a,l=dc(!1),i=br.bind(null,Z,!1,l.queue),l=Ge(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=lg.bind(null,Z,s,i,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function Mu(e){var t=ke();return ah(t,ue,e)}function ah(e,t,a){if(t=mr(e,t,th)[0],e=zs($t)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Kn(t)}catch(o){throw o===Gl?Mi:o}else l=t;t=ke();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(Z.flags|=2048,El(9,{destroy:void 0},ng.bind(null,s,a),null)),[l,i,e]}function ng(e,t){e.action=t}function Eu(e){var t=ke(),a=ue;if(a!==null)return ah(t,a,e);ke(),t=t.memoizedState,a=ke();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function El(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Z.updateQueue,t===null&&(t=Ei(),Z.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function lh(){return ke().memoizedState}function Bs(e,t,a,l){var s=Ge();Z.flags|=e,s.memoizedState=El(1|t,{destroy:void 0},a,l===void 0?null:l)}function Oi(e,t,a,l){var s=ke();l=l===void 0?null:l;var i=s.memoizedState.inst;ue!==null&&l!==null&&cr(l,ue.memoizedState.deps)?s.memoizedState=El(t,i,a,l):(Z.flags|=e,s.memoizedState=El(1|t,i,a,l))}function Du(e,t){Bs(8390656,8,e,t)}function xr(e,t){Oi(2048,8,e,t)}function sg(e){Z.flags|=4;var t=Z.updateQueue;if(t===null)t=Ei(),Z.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function nh(e){var t=ke().memoizedState;return sg({ref:t,nextImpl:e}),function(){if(ae&2)throw Error(k(440));return t.impl.apply(void 0,arguments)}}function sh(e,t){return Oi(4,2,e,t)}function ih(e,t){return Oi(4,4,e,t)}function oh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,a){a=a!=null?a.concat([e]):null,Oi(4,4,oh.bind(null,t,e),a)}function gr(){}function rh(e,t){var a=ke();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&cr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function uh(e,t){var a=ke();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&cr(t,l[1]))return l[0];if(l=e(),Va){oa(!0);try{e()}finally{oa(!1)}}return a.memoizedState=[l,t],l}function pr(e,t,a){return a===void 0||Jt&1073741824&&!(W&261930)?e.memoizedState=t:(e.memoizedState=a,e=Wh(),Z.lanes|=e,ka|=e,a)}function dh(e,t,a,l){return rt(a,t)?a:Ml.current!==null?(e=pr(e,a,l),rt(e,t)||(Me=!0),e):!(Jt&42)||Jt&1073741824&&!(W&261930)?(Me=!0,e.memoizedState=a):(e=Wh(),Z.lanes|=e,ka|=e,t)}function fh(e,t,a,l,s){var i=le.p;le.p=i!==0&&8>i?i:8;var o=G.T,c={};G.T=c,br(e,!1,t,a);try{var r=s(),u=G.S;if(u!==null&&u(c,r),r!==null&&typeof r=="object"&&typeof r.then=="function"){var f=eg(r,l);bn(e,t,f,ct(e))}else bn(e,t,l,ct(e))}catch(x){bn(e,t,{then:function(){},status:"rejected",reason:x},ct())}finally{le.p=i,o!==null&&c.types!==null&&(o.types=c.types),G.T=o}}function ig(){}function hc(e,t,a,l){if(e.tag!==5)throw Error(k(476));var s=hh(e).queue;fh(e,s,t,Ba,a===null?ig:function(){return mh(e),a(l)})}function hh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ba,baseState:Ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:Ba},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mh(e){var t=hh(e);t.next===null&&(t=e.alternate.memoizedState),bn(e,t.next.queue,{},ct())}function yr(){return Ie(_n)}function xh(){return ke().memoizedState}function gh(){return ke().memoizedState}function og(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ct();e=ma(a);var l=xa(t,e,a);l!==null&&(We(l,t,a),gn(l,t,a)),t={cache:lr()},e.payload=t;return}t=t.return}}function cg(e,t,a){var l=ct();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zi(e)?yh(t,a):(a=Pc(e,t,a,l),a!==null&&(We(a,e,l),bh(a,t,l)))}function ph(e,t,a){var l=ct();bn(e,t,a,l)}function bn(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi(e))yh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,c=i(o,a);if(s.hasEagerState=!0,s.eagerState=c,rt(c,o))return Ti(e,t,s,0),de===null&&Ai(),!1}catch{}finally{}if(a=Pc(e,t,s,l),a!==null)return We(a,e,l),bh(a,t,l),!0}return!1}function br(e,t,a,l){if(l={lane:2,revertLane:Tr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zi(e)){if(t)throw Error(k(479))}else t=Pc(e,a,l,2),t!==null&&We(t,e,2)}function zi(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function yh(e,t){jl=ti=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function bh(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,lf(e,a)}}var zn={readContext:Ie,use:Di,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};zn.useEffectEvent=je;var vh={readContext:Ie,use:Di,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Ie,useEffect:Du,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Bs(4194308,4,oh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){Bs(4,2,e,t)},useMemo:function(e,t){var a=Ge();t=t===void 0?null:t;var l=e();if(Va){oa(!0);try{e()}finally{oa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ge();if(a!==void 0){var s=a(t);if(Va){oa(!0);try{a(t)}finally{oa(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=cg.bind(null,Z,e),[l.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:function(e){e=dc(e);var t=e.queue,a=ph.bind(null,Z,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:gr,useDeferredValue:function(e,t){var a=Ge();return pr(a,e,t)},useTransition:function(){var e=dc(!1);return e=fh.bind(null,Z,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Z,s=Ge();if(P){if(a===void 0)throw Error(k(407));a=a()}else{if(a=t(),de===null)throw Error(k(349));W&127||Zf(l,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,Du($f.bind(null,l,i,e),[e]),l.flags|=2048,El(9,{destroy:void 0},Jf.bind(null,l,i,a,t),null),a},useId:function(){var e=Ge(),t=de.identifierPrefix;if(P){var a=Tt,l=At;a=(l&~(1<<32-ot(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ai++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=tg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yr,useFormState:Tu,useActionState:Tu,useOptimistic:function(e){var t=Ge();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=br.bind(null,Z,!0,a),a.dispatch=t,[e,t]},useMemoCache:hr,useCacheRefresh:function(){return Ge().memoizedState=og.bind(null,Z)},useEffectEvent:function(e){var t=Ge(),a={impl:e};return t.memoizedState=a,function(){if(ae&2)throw Error(k(440));return a.impl.apply(void 0,arguments)}}},vr={readContext:Ie,use:Di,useCallback:rh,useContext:Ie,useEffect:xr,useImperativeHandle:ch,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:uh,useReducer:zs,useRef:lh,useState:function(){return zs($t)},useDebugValue:gr,useDeferredValue:function(e,t){var a=ke();return dh(a,ue.memoizedState,e,t)},useTransition:function(){var e=zs($t)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Kn(e),t]},useSyncExternalStore:Xf,useId:xh,useHostTransitionStatus:yr,useFormState:Mu,useActionState:Mu,useOptimistic:function(e,t){var a=ke();return Wf(a,ue,e,t)},useMemoCache:hr,useCacheRefresh:gh};vr.useEffectEvent=nh;var jh={readContext:Ie,use:Di,useCallback:rh,useContext:Ie,useEffect:xr,useImperativeHandle:ch,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:uh,useReducer:go,useRef:lh,useState:function(){return go($t)},useDebugValue:gr,useDeferredValue:function(e,t){var a=ke();return ue===null?pr(a,e,t):dh(a,ue.memoizedState,e,t)},useTransition:function(){var e=go($t)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Kn(e),t]},useSyncExternalStore:Xf,useId:xh,useHostTransitionStatus:yr,useFormState:Eu,useActionState:Eu,useOptimistic:function(e,t){var a=ke();return ue!==null?Wf(a,ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hr,useCacheRefresh:gh};jh.useEffectEvent=nh;function po(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:ye({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=ct(),s=ma(l);s.payload=t,a!=null&&(s.callback=a),t=xa(e,s,l),t!==null&&(We(t,e,l),gn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=ct(),s=ma(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=xa(e,s,l),t!==null&&(We(t,e,l),gn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ct(),l=ma(a);l.tag=2,t!=null&&(l.callback=t),t=xa(e,l,a),t!==null&&(We(t,e,a),gn(t,e,a))}};function Ou(e,t,a,l,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!Tn(a,l)||!Tn(s,i):!0}function zu(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&mc.enqueueReplaceState(t,t.state,null)}function Ga(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=ye({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Nh(e){Js(e)}function wh(e){console.error(e)}function Sh(e){Js(e)}function li(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Bu(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function xc(e,t,a){return a=ma(a),a.tag=3,a.payload={element:null},a.callback=function(){li(e,t)},a}function kh(e){return e=ma(e),e.tag=3,e}function Ch(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=l.value;e.payload=function(){return s(i)},e.callback=function(){Bu(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Bu(t,a,l),typeof s!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var c=l.stack;this.componentDidCatch(l.value,{componentStack:c!==null?c:""})})}function rg(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Vl(t,a,s,!0),a=ut.current,a!==null){switch(a.tag){case 31:case 13:return yt===null?ci():a.alternate===null&&Ne===0&&(Ne=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===Ws?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),To(e,l,s)),!1;case 22:return a.flags|=65536,l===Ws?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),To(e,l,s)),!1}throw Error(k(435,a.tag))}return To(e,l,s),ci(),!1}if(P)return t=ut.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==ac&&(e=Error(k(422),{cause:l}),En(gt(e,a)))):(l!==ac&&(t=Error(k(423),{cause:l}),En(gt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=gt(l,a),s=xc(e.stateNode,l,s),xo(e,s),Ne!==4&&(Ne=2)),!1;var i=Error(k(520),{cause:l});if(i=gt(i,a),Nn===null?Nn=[i]:Nn.push(i),Ne!==4&&(Ne=2),t===null)return!0;l=gt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=xc(a.stateNode,l,e),xo(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ga===null||!ga.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=kh(s),Ch(s,e,a,l),xo(a,s),!1}a=a.return}while(a!==null);return!1}var jr=Error(k(461)),Me=!1;function Le(e,t,a,l){t.child=e===null?qf(t,null,a,l):Ya(t,e.child,a,l)}function Uu(e,t,a,l,s){a=a.render;var i=t.ref;if("ref"in l){var o={};for(var c in l)c!=="ref"&&(o[c]=l[c])}else o=l;return Ia(t),l=rr(e,t,a,o,i,s),c=ur(),e!==null&&!Me?(dr(e,t,s),Kt(e,t,s)):(P&&c&&tr(t),t.flags|=1,Le(e,t,l,s),t.child)}function _u(e,t,a,l,s){if(e===null){var i=a.type;return typeof i=="function"&&!er(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Ah(e,t,i,l,s)):(e=Ds(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Nr(e,s)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:Tn,a(o,l)&&e.ref===t.ref)return Kt(e,t,s)}return t.flags|=1,e=Gt(i,l),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,a,l,s){if(e!==null){var i=e.memoizedProps;if(Tn(i,l)&&e.ref===t.ref)if(Me=!1,t.pendingProps=l=i,Nr(e,s))e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Kt(e,t,s)}return gc(e,t,a,l,s)}function Th(e,t,a,l){var s=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~i}else l=0,t.child=null;return Ru(e,t,i,a,l)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Os(t,i!==null?i.cachePool:null),i!==null?ku(t,i):rc(),Vf(t);else return l=t.lanes=536870912,Ru(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Os(t,i.cachePool),ku(t,i),sa(),t.memoizedState=null):(e!==null&&Os(t,null),rc(),sa());return Le(e,t,s,a),t.child}function rn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ru(e,t,a,l,s){var i=nr();return i=i===null?null:{parent:Te._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Os(t,null),rc(),Vf(t),e!==null&&Vl(e,t,l,!0),t.childLanes=s,null}function Us(e,t){return t=ni({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Lu(e,t,a){return Ya(t,e.child,null,a),e=Us(t,t.pendingProps),e.flags|=2,at(t),t.memoizedState=null,e}function ug(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(P){if(l.mode==="hidden")return e=Us(t,l),t.lanes=536870912,rn(null,e);if(uc(t),(e=ge)?(e=vm(e,pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Na!==null?{id:At,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},a=zf(e),a.return=t,t.child=a,qe=t,ge=null)):e=null,e===null)throw wa(t);return t.lanes=536870912,null}return Us(t,l)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(uc(t),s)if(t.flags&256)t.flags&=-257,t=Lu(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(k(558));else if(Me||Vl(e,t,a,!1),s=(a&e.childLanes)!==0,Me||s){if(l=de,l!==null&&(o=nf(l,a),o!==0&&o!==i.retryLane))throw i.retryLane=o,Ja(e,o),We(l,e,o),jr;ci(),t=Lu(e,t,a)}else e=i.treeContext,ge=bt(o.nextSibling),qe=t,P=!0,ha=null,pt=!1,e!==null&&Uf(t,e),t=Us(t,l),t.flags|=4096;return t}return e=Gt(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _s(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(k(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function gc(e,t,a,l,s){return Ia(t),a=rr(e,t,a,l,void 0,s),l=ur(),e!==null&&!Me?(dr(e,t,s),Kt(e,t,s)):(P&&l&&tr(t),t.flags|=1,Le(e,t,a,s),t.child)}function Hu(e,t,a,l,s,i){return Ia(t),t.updateQueue=null,a=Qf(t,l,a,s),Gf(e),l=ur(),e!==null&&!Me?(dr(e,t,i),Kt(e,t,i)):(P&&l&&tr(t),t.flags|=1,Le(e,t,a,i),t.child)}function qu(e,t,a,l,s){if(Ia(t),t.stateNode===null){var i=fl,o=a.contextType;typeof o=="object"&&o!==null&&(i=Ie(o)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=mc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},ir(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?Ie(o):fl,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(po(t,a,o,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&mc.enqueueReplaceState(i,i.state,null),yn(t,l,i,s),pn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,r=Ga(a,c);i.props=r;var u=i.context,f=a.contextType;o=fl,typeof f=="object"&&f!==null&&(o=Ie(f));var x=a.getDerivedStateFromProps;f=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||u!==o)&&zu(t,i,l,o),aa=!1;var d=t.memoizedState;i.state=d,yn(t,l,i,s),pn(),u=t.memoizedState,c||d!==u||aa?(typeof x=="function"&&(po(t,a,x,l),u=t.memoizedState),(r=aa||Ou(t,a,r,l,d,u,o))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),i.props=l,i.state=u,i.context=o,l=r):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,oc(e,t),o=t.memoizedProps,f=Ga(a,o),i.props=f,x=t.pendingProps,d=i.context,u=a.contextType,r=fl,typeof u=="object"&&u!==null&&(r=Ie(u)),c=a.getDerivedStateFromProps,(u=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||d!==r)&&zu(t,i,l,r),aa=!1,d=t.memoizedState,i.state=d,yn(t,l,i,s),pn();var m=t.memoizedState;o!==x||d!==m||aa||e!==null&&e.dependencies!==null&&Fs(e.dependencies)?(typeof c=="function"&&(po(t,a,c,l),m=t.memoizedState),(f=aa||Ou(t,a,f,l,d,m,r)||e!==null&&e.dependencies!==null&&Fs(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,m,r),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,m,r)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=m),i.props=l,i.state=m,i.context=r,l=f):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,_s(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Ya(t,e.child,null,s),t.child=Ya(t,null,a,s)):Le(e,t,a,s),t.memoizedState=i.state,e=t.child):e=Kt(e,t,s),e}function Iu(e,t,a,l){return qa(),t.flags|=256,Le(e,t,a,l),t.child}var yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bo(e){return{baseLanes:e,cachePool:Rf()}}function vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=nt),e}function Mh(e,t,a){var l=t.pendingProps,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),o&&(s=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(P){if(s?na(t):sa(),(e=ge)?(e=vm(e,pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Na!==null?{id:At,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},a=zf(e),a.return=t,t.child=a,qe=t,ge=null)):e=null,e===null)throw wa(t);return Ec(e)?t.lanes=32:t.lanes=536870912,null}var c=l.children;return l=l.fallback,s?(sa(),s=t.mode,c=ni({mode:"hidden",children:c},s),l=Ua(l,s,a,null),c.return=t,l.return=t,c.sibling=l,t.child=c,l=t.child,l.memoizedState=bo(a),l.childLanes=vo(e,o,a),t.memoizedState=yo,rn(null,l)):(na(t),pc(t,c))}var r=e.memoizedState;if(r!==null&&(c=r.dehydrated,c!==null)){if(i)t.flags&256?(na(t),t.flags&=-257,t=jo(e,t,a)):t.memoizedState!==null?(sa(),t.child=e.child,t.flags|=128,t=null):(sa(),c=l.fallback,s=t.mode,l=ni({mode:"visible",children:l.children},s),c=Ua(c,s,a,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,Ya(t,e.child,null,a),l=t.child,l.memoizedState=bo(a),l.childLanes=vo(e,o,a),t.memoizedState=yo,t=rn(null,l));else if(na(t),Ec(c)){if(o=c.nextSibling&&c.nextSibling.dataset,o)var u=o.dgst;o=u,l=Error(k(419)),l.stack="",l.digest=o,En({value:l,source:null,stack:null}),t=jo(e,t,a)}else if(Me||Vl(e,t,a,!1),o=(a&e.childLanes)!==0,Me||o){if(o=de,o!==null&&(l=nf(o,a),l!==0&&l!==r.retryLane))throw r.retryLane=l,Ja(e,l),We(o,e,l),jr;Mc(c)||ci(),t=jo(e,t,a)}else Mc(c)?(t.flags|=192,t.child=e.child,t=null):(e=r.treeContext,ge=bt(c.nextSibling),qe=t,P=!0,ha=null,pt=!1,e!==null&&Uf(t,e),t=pc(t,l.children),t.flags|=4096);return t}return s?(sa(),c=l.fallback,s=t.mode,r=e.child,u=r.sibling,l=Gt(r,{mode:"hidden",children:l.children}),l.subtreeFlags=r.subtreeFlags&65011712,u!==null?c=Gt(u,c):(c=Ua(c,s,a,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,rn(null,l),l=t.child,c=e.child.memoizedState,c===null?c=bo(a):(s=c.cachePool,s!==null?(r=Te._currentValue,s=s.parent!==r?{parent:r,pool:r}:s):s=Rf(),c={baseLanes:c.baseLanes|a,cachePool:s}),l.memoizedState=c,l.childLanes=vo(e,o,a),t.memoizedState=yo,rn(e.child,l)):(na(t),a=e.child,e=a.sibling,a=Gt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function pc(e,t){return t=ni({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ni(e,t){return e=lt(22,e,null,t),e.lanes=0,e}function jo(e,t,a){return Ya(t,e.child,null,a),e=pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yu(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),nc(e.return,t,a)}function No(e,t,a,l,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=s,o.treeForkCount=i)}function Eh(e,t,a){var l=t.pendingProps,s=l.revealOrder,i=l.tail;l=l.children;var o=Se.current,c=(o&2)!==0;if(c?(o=o&1|2,t.flags|=128):o&=1,me(Se,o),Le(e,t,l,a),l=P?Mn:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yu(e,a,t);else if(e.tag===19)Yu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&ei(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),No(t,!1,s,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ei(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}No(t,!0,a,null,i,l);break;case"together":No(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Kt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(a&t.childLanes))if(e!==null){if(Vl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,a=Gt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Gt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Nr(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Fs(e)))}function dg(e,t,a){switch(t.tag){case 3:Gs(t,t.stateNode.containerInfo),la(t,Te,e.memoizedState.cache),qa();break;case 27:case 5:Qo(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:la(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(na(t),t.flags|=128,null):a&t.child.childLanes?Mh(e,t,a):(na(t),e=Kt(e,t,a),e!==null?e.sibling:null);na(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Vl(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return Eh(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Se,Se.current),l)break;return null;case 22:return t.lanes=0,Th(e,t,a,t.pendingProps);case 24:la(t,Te,e.memoizedState.cache)}return Kt(e,t,a)}function Dh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Me=!0;else{if(!Nr(e,a)&&!(t.flags&128))return Me=!1,dg(e,t,a);Me=!!(e.flags&131072)}else Me=!1,P&&t.flags&1048576&&Bf(t,Mn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Oa(t.elementType),t.type=e,typeof e=="function")er(e)?(l=Ga(e,l),t.tag=1,t=qu(null,t,e,l,a)):(t.tag=0,t=gc(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===qc){t.tag=11,t=Uu(null,t,e,l,a);break e}else if(s===Ic){t.tag=14,t=_u(null,t,e,l,a);break e}}throw t=Vo(e)||e,Error(k(306,t,""))}}return t;case 0:return gc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=Ga(l,t.pendingProps),qu(e,t,l,s,a);case 3:e:{if(Gs(t,t.stateNode.containerInfo),e===null)throw Error(k(387));l=t.pendingProps;var i=t.memoizedState;s=i.element,oc(e,t),yn(t,l,null,a);var o=t.memoizedState;if(l=o.cache,la(t,Te,l),l!==i.cache&&sc(t,[Te],a,!0),pn(),l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Iu(e,t,l,a);break e}else if(l!==s){s=gt(Error(k(424)),t),En(s),t=Iu(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=bt(e.firstChild),qe=t,P=!0,ha=null,pt=!0,a=qf(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qa(),l===s){t=Kt(e,t,a);break e}Le(e,t,l,a)}t=t.child}return t;case 26:return _s(e,t),e===null?(a=cd(t.type,null,t.pendingProps,null))?t.memoizedState=a:P||(a=t.type,e=t.pendingProps,l=fi(fa.current).createElement(a),l[He]=t,l[Pe]=e,Ye(l,a,e),Ue(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qo(t),e===null&&P&&(l=t.stateNode=jm(t.type,t.pendingProps,fa.current),qe=t,pt=!0,s=ge,Ta(t.type)?(Dc=s,ge=bt(l.firstChild)):ge=s),Le(e,t,t.pendingProps.children,a),_s(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&P&&((s=l=ge)&&(l=Ig(l,t.type,t.pendingProps,pt),l!==null?(t.stateNode=l,qe=t,ge=bt(l.firstChild),pt=!1,s=!0):s=!1),s||wa(t)),Qo(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Ac(s,i)?l=null:o!==null&&Ac(s,o)&&(t.flags|=32),t.memoizedState!==null&&(s=rr(e,t,ag,null,null,a),_n._currentValue=s),_s(e,t),Le(e,t,l,a),t.child;case 6:return e===null&&P&&((e=a=ge)&&(a=Yg(a,t.pendingProps,pt),a!==null?(t.stateNode=a,qe=t,ge=null,e=!0):e=!1),e||wa(t)),null;case 13:return Mh(e,t,a);case 4:return Gs(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ya(t,null,l,a):Le(e,t,l,a),t.child;case 11:return Uu(e,t,t.type,t.pendingProps,a);case 7:return Le(e,t,t.pendingProps,a),t.child;case 8:return Le(e,t,t.pendingProps.children,a),t.child;case 12:return Le(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,la(t,t.type,l.value),Le(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,Ia(t),s=Ie(s),l=l(s),t.flags|=1,Le(e,t,l,a),t.child;case 14:return _u(e,t,t.type,t.pendingProps,a);case 15:return Ah(e,t,t.type,t.pendingProps,a);case 19:return Eh(e,t,a);case 31:return ug(e,t,a);case 22:return Th(e,t,a,t.pendingProps);case 24:return Ia(t),l=Ie(Te),e===null?(s=nr(),s===null&&(s=de,i=lr(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:l,cache:s},ir(t),la(t,Te,s)):(e.lanes&a&&(oc(e,t),yn(t,null,null,a),pn()),s=e.memoizedState,i=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),la(t,Te,l)):(l=i.cache,la(t,Te,l),l!==s.cache&&sc(t,[Te],a,!0))),Le(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function Ut(e){e.flags|=4}function wo(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(tm())e.flags|=8192;else throw Ra=Ws,sr}else e.flags&=-16777217}function Vu(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Sm(t))if(tm())e.flags|=8192;else throw Ra=Ws,sr}function bs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?tf():536870912,e.lanes|=t,Dl|=t)}function tn(e,t){if(!P)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function fg(e,t,a){var l=t.pendingProps;switch(ar(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Qt(Te),kl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?Ut(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mo())),xe(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(Ut(t),i!==null?(xe(t),Vu(t,i)):(xe(t),wo(t,s,null,l,a))):i?i!==e.memoizedState?(Ut(t),xe(t),Vu(t,i)):(xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ut(t),xe(t),wo(t,s,e,l,a)),null;case 27:if(Qs(t),a=fa.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ut(t);else{if(!l){if(t.stateNode===null)throw Error(k(166));return xe(t),null}e=Et.current,Wa(t)?yu(t):(e=jm(s,l,a),t.stateNode=e,Ut(t))}return xe(t),null;case 5:if(Qs(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ut(t);else{if(!l){if(t.stateNode===null)throw Error(k(166));return xe(t),null}if(i=Et.current,Wa(t))yu(t);else{var o=fi(fa.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?o.createElement(s,{is:l.is}):o.createElement(s)}}i[He]=t,i[Pe]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ye(i,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ut(t)}}return xe(t),wo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ut(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(k(166));if(e=fa.current,Wa(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=qe,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[He]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||pm(e.nodeValue,a)),e||wa(t,!0)}else e=fi(e).createTextNode(l),e[He]=t,t.stateNode=e}return xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Wa(t),a!==null){if(e===null){if(!l)throw Error(k(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(557));e[He]=t}else qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),e=!1}else a=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(at(t),t):(at(t),null);if(t.flags&128)throw Error(k(558))}return xe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Wa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[He]=t}else qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),s=!1}else s=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(at(t),t):(at(t),null)}return at(t),t.flags&128?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),bs(t,t.updateQueue),xe(t),null);case 4:return kl(),e===null&&Mr(t.stateNode.containerInfo),xe(t),null;case 10:return Qt(t.type),xe(t),null;case 19:if(_e(Se),l=t.memoizedState,l===null)return xe(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)tn(l,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ei(e),i!==null){for(t.flags|=128,tn(l,!1),e=i.updateQueue,t.updateQueue=e,bs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Of(a,e),a=a.sibling;return me(Se,Se.current&1|2),P&&Ht(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&st()>ii&&(t.flags|=128,s=!0,tn(l,!1),t.lanes=4194304)}else{if(!s)if(e=ei(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,bs(t,e),tn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!P)return xe(t),null}else 2*st()-l.renderingStartTime>ii&&a!==536870912&&(t.flags|=128,s=!0,tn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=st(),e.sibling=null,a=Se.current,me(Se,s?a&1|2:a&1),P&&Ht(t,l.treeForkCount),e):(xe(t),null);case 22:case 23:return at(t),or(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),a=t.updateQueue,a!==null&&bs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&_e(_a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qt(Te),xe(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function hg(e,t){switch(ar(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qt(Te),kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qs(t),null;case 31:if(t.memoizedState!==null){if(at(t),t.alternate===null)throw Error(k(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(at(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Se),null;case 4:return kl(),null;case 10:return Qt(t.type),null;case 22:case 23:return at(t),or(),e!==null&&_e(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qt(Te),null;case 25:return null;default:return null}}function Oh(e,t){switch(ar(t),t.tag){case 3:Qt(Te),kl();break;case 26:case 27:case 5:Qs(t);break;case 4:kl();break;case 31:t.memoizedState!==null&&at(t);break;case 13:at(t);break;case 19:_e(Se);break;case 10:Qt(t.type);break;case 22:case 23:at(t),or(),e!==null&&_e(_a);break;case 24:Qt(Te)}}function Fn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var i=a.create,o=a.inst;l=i(),o.destroy=l}a=a.next}while(a!==s)}}catch(c){ce(t,t.return,c)}}function Sa(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var i=s.next;l=i;do{if((l.tag&e)===e){var o=l.inst,c=o.destroy;if(c!==void 0){o.destroy=void 0,s=t;var r=a,u=c;try{u()}catch(f){ce(s,r,f)}}}l=l.next}while(l!==i)}}catch(f){ce(t,t.return,f)}}function zh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Yf(t,a)}catch(l){ce(e,e.return,l)}}}function Bh(e,t,a){a.props=Ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ce(e,t,l)}}function vn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){ce(e,t,s)}}function Mt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){ce(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ce(e,t,s)}else a.current=null}function Uh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){ce(e,e.return,s)}}function So(e,t,a){try{var l=e.stateNode;Ug(l,e.type,a,t),l[Pe]=t}catch(s){ce(e,e.return,s)}}function _h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ta(e.type)||e.tag===4}function ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Yt));else if(l!==4&&(l===27&&Ta(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(yc(e,t,a),e=e.sibling;e!==null;)yc(e,t,a),e=e.sibling}function si(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ta(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(si(e,t,a),e=e.sibling;e!==null;)si(e,t,a),e=e.sibling}function Rh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ye(t,l,a),t[He]=e,t[Pe]=a}catch(i){ce(e,e.return,i)}}var qt=!1,Ae=!1,Co=!1,Gu=typeof WeakSet=="function"?WeakSet:Set,Be=null;function mg(e,t){if(e=e.containerInfo,kc=gi,e=Sf(e),Fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var o=0,c=-1,r=-1,u=0,f=0,x=e,d=null;t:for(;;){for(var m;x!==a||s!==0&&x.nodeType!==3||(c=o+s),x!==i||l!==0&&x.nodeType!==3||(r=o+l),x.nodeType===3&&(o+=x.nodeValue.length),(m=x.firstChild)!==null;)d=x,x=m;for(;;){if(x===e)break t;if(d===a&&++u===s&&(c=o),d===i&&++f===l&&(r=o),(m=x.nextSibling)!==null)break;x=d,d=x.parentNode}x=m}a=c===-1||r===-1?null:{start:c,end:r}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cc={focusedElem:e,selectionRange:a},gi=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){switch(t=Be,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var v=Ga(a.type,s);e=l.getSnapshotBeforeUpdate(v,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(j){ce(a,a.return,j)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Tc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}}function Lh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rt(e,a),l&4&&Fn(5,a);break;case 1:if(Rt(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){ce(a,a.return,o)}else{var s=Ga(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ce(a,a.return,o)}}l&64&&zh(a),l&512&&vn(a,a.return);break;case 3:if(Rt(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Yf(e,t)}catch(o){ce(a,a.return,o)}}break;case 27:t===null&&l&4&&Rh(a);case 26:case 5:Rt(e,a),t===null&&l&4&&Uh(a),l&512&&vn(a,a.return);break;case 12:Rt(e,a);break;case 31:Rt(e,a),l&4&&Ih(e,a);break;case 13:Rt(e,a),l&4&&Yh(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wg.bind(null,a),Vg(e,a))));break;case 22:if(l=a.memoizedState!==null||qt,!l){t=t!==null&&t.memoizedState!==null||Ae,s=qt;var i=Ae;qt=l,(Ae=t)&&!i?Lt(e,a,(a.subtreeFlags&8772)!==0):Rt(e,a),qt=s,Ae=i}break;case 30:break;default:Rt(e,a)}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,Ke=!1;function _t(e,t,a){for(a=a.child;a!==null;)qh(e,t,a),a=a.sibling}function qh(e,t,a){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ae||Mt(a,t),_t(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||Mt(a,t);var l=ve,s=Ke;Ta(a.type)&&(ve=a.stateNode,Ke=!1),_t(e,t,a),Sn(a.stateNode),ve=l,Ke=s;break;case 5:Ae||Mt(a,t);case 6:if(l=ve,s=Ke,ve=null,_t(e,t,a),ve=l,Ke=s,ve!==null)if(Ke)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(i){ce(a,t,i)}else try{ve.removeChild(a.stateNode)}catch(i){ce(a,t,i)}break;case 18:ve!==null&&(Ke?(e=ve,ld(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ul(e)):ld(ve,a.stateNode));break;case 4:l=ve,s=Ke,ve=a.stateNode.containerInfo,Ke=!0,_t(e,t,a),ve=l,Ke=s;break;case 0:case 11:case 14:case 15:Sa(2,a,t),Ae||Sa(4,a,t),_t(e,t,a);break;case 1:Ae||(Mt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Bh(a,t,l)),_t(e,t,a);break;case 21:_t(e,t,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,_t(e,t,a),Ae=l;break;default:_t(e,t,a)}}function Ih(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ul(e)}catch(a){ce(t,t.return,a)}}}function Yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ul(e)}catch(a){ce(t,t.return,a)}}function xg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gu),t;default:throw Error(k(435,e.tag))}}function vs(e,t){var a=xg(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=Sg.bind(null,e,l);l.then(s,s)}})}function Je(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],i=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 27:if(Ta(c.type)){ve=c.stateNode,Ke=!1;break e}break;case 5:ve=c.stateNode,Ke=!1;break e;case 3:case 4:ve=c.stateNode.containerInfo,Ke=!0;break e}c=c.return}if(ve===null)throw Error(k(160));qh(i,o,s),ve=null,Ke=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Vh(t,e),t=t.sibling}var St=null;function Vh(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Je(t,e),$e(e),l&4&&(Sa(3,e,e.return),Fn(3,e),Sa(5,e,e.return));break;case 1:Je(t,e),$e(e),l&512&&(Ae||a===null||Mt(a,a.return)),l&64&&qt&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=St;if(Je(t,e),$e(e),l&512&&(Ae||a===null||Mt(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Zn]||i[He]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(l),s.head.insertBefore(i,s.querySelector("head > title"))),Ye(i,l,a),i[He]=e,Ue(i),l=i;break e;case"link":var o=ud("link","href",s).get(l+(a.href||""));if(o){for(var c=0;c<o.length;c++)if(i=o[c],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(c,1);break t}}i=s.createElement(l),Ye(i,l,a),s.head.appendChild(i);break;case"meta":if(o=ud("meta","content",s).get(l+(a.content||""))){for(c=0;c<o.length;c++)if(i=o[c],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(c,1);break t}}i=s.createElement(l),Ye(i,l,a),s.head.appendChild(i);break;default:throw Error(k(468,l))}i[He]=e,Ue(i),l=i}e.stateNode=l}else dd(s,e.type,e.stateNode);else e.stateNode=rd(s,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?dd(s,e.type,e.stateNode):rd(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&So(e,e.memoizedProps,a.memoizedProps)}break;case 27:Je(t,e),$e(e),l&512&&(Ae||a===null||Mt(a,a.return)),a!==null&&l&4&&So(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Je(t,e),$e(e),l&512&&(Ae||a===null||Mt(a,a.return)),e.flags&32){s=e.stateNode;try{Al(s,"")}catch(v){ce(e,e.return,v)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,So(e,s,a!==null?a.memoizedProps:s)),l&1024&&(Co=!0);break;case 6:if(Je(t,e),$e(e),l&4){if(e.stateNode===null)throw Error(k(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(v){ce(e,e.return,v)}}break;case 3:if(Hs=null,s=St,St=hi(t.containerInfo),Je(t,e),St=s,$e(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(t.containerInfo)}catch(v){ce(e,e.return,v)}Co&&(Co=!1,Gh(e));break;case 4:l=St,St=hi(e.stateNode.containerInfo),Je(t,e),$e(e),St=l;break;case 12:Je(t,e),$e(e);break;case 31:Je(t,e),$e(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vs(e,l)));break;case 13:Je(t,e),$e(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bi=st()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vs(e,l)));break;case 22:s=e.memoizedState!==null;var r=a!==null&&a.memoizedState!==null,u=qt,f=Ae;if(qt=u||s,Ae=f||r,Je(t,e),Ae=f,qt=u,$e(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||r||qt||Ae||za(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){r=a=t;try{if(i=r.stateNode,s)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{c=r.stateNode;var x=r.memoizedProps.style,d=x!=null&&x.hasOwnProperty("display")?x.display:null;c.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(v){ce(r,r.return,v)}}}else if(t.tag===6){if(a===null){r=t;try{r.stateNode.nodeValue=s?"":r.memoizedProps}catch(v){ce(r,r.return,v)}}}else if(t.tag===18){if(a===null){r=t;try{var m=r.stateNode;s?nd(m,!0):nd(r.stateNode,!1)}catch(v){ce(r,r.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vs(e,a))));break;case 19:Je(t,e),$e(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vs(e,l)));break;case 30:break;case 21:break;default:Je(t,e),$e(e)}}function $e(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(_h(l)){a=l;break}l=l.return}if(a==null)throw Error(k(160));switch(a.tag){case 27:var s=a.stateNode,i=ko(e);si(e,i,s);break;case 5:var o=a.stateNode;a.flags&32&&(Al(o,""),a.flags&=-33);var c=ko(e);si(e,c,o);break;case 3:case 4:var r=a.stateNode.containerInfo,u=ko(e);yc(e,u,r);break;default:throw Error(k(161))}}catch(f){ce(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lh(e,t.alternate,t),t=t.sibling}function za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sa(4,t,t.return),za(t);break;case 1:Mt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Bh(t,t.return,a),za(t);break;case 27:Sn(t.stateNode);case 26:case 5:Mt(t,t.return),za(t);break;case 22:t.memoizedState===null&&za(t);break;case 30:za(t);break;default:za(t)}e=e.sibling}}function Lt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Lt(s,i,a),Fn(4,i);break;case 1:if(Lt(s,i,a),l=i,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){ce(l,l.return,u)}if(l=i,s=l.updateQueue,s!==null){var c=l.stateNode;try{var r=s.shared.hiddenCallbacks;if(r!==null)for(s.shared.hiddenCallbacks=null,s=0;s<r.length;s++)If(r[s],c)}catch(u){ce(l,l.return,u)}}a&&o&64&&zh(i),vn(i,i.return);break;case 27:Rh(i);case 26:case 5:Lt(s,i,a),a&&l===null&&o&4&&Uh(i),vn(i,i.return);break;case 12:Lt(s,i,a);break;case 31:Lt(s,i,a),a&&o&4&&Ih(s,i);break;case 13:Lt(s,i,a),a&&o&4&&Yh(s,i);break;case 22:i.memoizedState===null&&Lt(s,i,a),vn(i,i.return);break;case 30:break;default:Lt(s,i,a)}t=t.sibling}}function wr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$n(a))}function Sr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$n(e))}function wt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,a,l),t=t.sibling}function Qh(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:wt(e,t,a,l),s&2048&&Fn(9,t);break;case 1:wt(e,t,a,l);break;case 3:wt(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$n(e)));break;case 12:if(s&2048){wt(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,c=i.onPostCommit;typeof c=="function"&&c(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(r){ce(t,t.return,r)}}else wt(e,t,a,l);break;case 31:wt(e,t,a,l);break;case 13:wt(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?wt(e,t,a,l):jn(e,t):i._visibility&2?wt(e,t,a,l):(i._visibility|=2,al(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&wr(o,t);break;case 24:wt(e,t,a,l),s&2048&&Sr(t.alternate,t);break;default:wt(e,t,a,l)}}function al(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,c=a,r=l,u=o.flags;switch(o.tag){case 0:case 11:case 15:al(i,o,c,r,s),Fn(8,o);break;case 23:break;case 22:var f=o.stateNode;o.memoizedState!==null?f._visibility&2?al(i,o,c,r,s):jn(i,o):(f._visibility|=2,al(i,o,c,r,s)),s&&u&2048&&wr(o.alternate,o);break;case 24:al(i,o,c,r,s),s&&u&2048&&Sr(o.alternate,o);break;default:al(i,o,c,r,s)}t=t.sibling}}function jn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:jn(a,l),s&2048&&wr(l.alternate,l);break;case 24:jn(a,l),s&2048&&Sr(l.alternate,l);break;default:jn(a,l)}t=t.sibling}}var un=8192;function Pa(e,t,a){if(e.subtreeFlags&un)for(e=e.child;e!==null;)Xh(e,t,a),e=e.sibling}function Xh(e,t,a){switch(e.tag){case 26:Pa(e,t,a),e.flags&un&&e.memoizedState!==null&&tp(a,St,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,t,a);break;case 3:case 4:var l=St;St=hi(e.stateNode.containerInfo),Pa(e,t,a),St=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=un,un=16777216,Pa(e,t,a),un=l):Pa(e,t,a));break;default:Pa(e,t,a)}}function Zh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function an(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Be=l,$h(l,e)}Zh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jh(e),e=e.sibling}function Jh(e){switch(e.tag){case 0:case 11:case 15:an(e),e.flags&2048&&Sa(9,e,e.return);break;case 3:an(e);break;case 12:an(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rs(e)):an(e);break;default:an(e)}}function Rs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Be=l,$h(l,e)}Zh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sa(8,t,t.return),Rs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Rs(t));break;default:Rs(t)}e=e.sibling}}function $h(e,t){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Sa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$n(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else e:for(a=e;Be!==null;){l=Be;var s=l.sibling,i=l.return;if(Hh(l),l===a){Be=null;break e}if(s!==null){s.return=i,Be=s;break e}Be=i}}}var gg={getCacheForType:function(e){var t=Ie(Te),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ie(Te).controller.signal}},pg=typeof WeakMap=="function"?WeakMap:Map,ae=0,de=null,F=null,W=0,oe=0,tt=null,ra=!1,Ql=!1,kr=!1,Ft=0,Ne=0,ka=0,La=0,Cr=0,nt=0,Dl=0,Nn=null,Fe=null,bc=!1,Bi=0,Kh=0,ii=1/0,oi=null,ga=null,Ee=0,pa=null,Ol=null,Xt=0,vc=0,jc=null,Fh=null,wn=0,Nc=null;function ct(){return ae&2&&W!==0?W&-W:G.T!==null?Tr():sf()}function Wh(){if(nt===0)if(!(W&536870912)||P){var e=fs;fs<<=1,!(fs&3932160)&&(fs=262144),nt=e}else nt=536870912;return e=ut.current,e!==null&&(e.flags|=32),nt}function We(e,t,a){(e===de&&(oe===2||oe===9)||e.cancelPendingCommit!==null)&&(zl(e,0),ua(e,W,nt,!1)),Xn(e,a),(!(ae&2)||e!==de)&&(e===de&&(!(ae&2)&&(La|=a),Ne===4&&ua(e,W,nt,!1)),zt(e))}function Ph(e,t,a){if(ae&6)throw Error(k(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Qn(e,t),s=l?vg(e,t):Ao(e,t,!0),i=l;do{if(s===0){Ql&&!l&&ua(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!yg(a)){s=Ao(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var c=e;s=Nn;var r=c.current.memoizedState.isDehydrated;if(r&&(zl(c,o).flags|=256),o=Ao(c,o,!1),o!==2){if(kr&&!r){c.errorRecoveryDisabledLanes|=i,La|=i,s=4;break e}i=Fe,Fe=s,i!==null&&(Fe===null?Fe=i:Fe.push.apply(Fe,i))}s=o}if(i=!1,s!==2)continue}}if(s===1){zl(e,0),ua(e,t,0,!0);break}e:{switch(l=e,i=s,i){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:ua(l,t,nt,!ra);break e;case 2:Fe=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(s=Bi+300-st(),10<s)){if(ua(l,t,nt,!ra),wi(l,0,!0)!==0)break e;Xt=t,l.timeoutHandle=bm(Qu.bind(null,l,a,Fe,oi,bc,t,nt,La,Dl,ra,i,"Throttled",-0,0),s);break e}Qu(l,a,Fe,oi,bc,t,nt,La,Dl,ra,i,null,-0,0)}}break}while(1);zt(e)}function Qu(e,t,a,l,s,i,o,c,r,u,f,x,d,m){if(e.timeoutHandle=-1,x=t.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},Xh(t,i,x);var v=(i&62914560)===i?Bi-st():(i&4194048)===i?Kh-st():0;if(v=ap(x,v),v!==null){Xt=i,e.cancelPendingCommit=v(Zu.bind(null,e,t,i,a,l,s,o,c,r,f,x,null,d,m)),ua(e,i,o,!u);return}}Zu(e,t,i,a,l,s,o,c,r)}function yg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ua(e,t,a,l){t&=~Cr,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var i=31-ot(s),o=1<<i;l[i]=-1,s&=~o}a!==0&&af(e,a,t)}function Ui(){return ae&6?!0:(Wn(0,!1),!1)}function Ar(){if(F!==null){if(oe===0)var e=F.return;else e=F,Vt=$a=null,fr(e),vl=null,Dn=0,e=F;for(;e!==null;)Oh(e.alternate,e),e=e.return;F=null}}function zl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Lg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xt=0,Ar(),de=e,F=a=Gt(e.current,null),W=t,oe=0,tt=null,ra=!1,Ql=Qn(e,t),kr=!1,Dl=nt=Cr=La=ka=Ne=0,Fe=Nn=null,bc=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-ot(l),i=1<<s;t|=e[s],l&=~i}return Ft=t,Ai(),a}function em(e,t){Z=null,G.H=zn,t===Gl||t===Mi?(t=wu(),oe=3):t===sr?(t=wu(),oe=4):oe=t===jr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tt=t,F===null&&(Ne=1,li(e,gt(t,e.current)))}function tm(){var e=ut.current;return e===null?!0:(W&4194048)===W?yt===null:(W&62914560)===W||W&536870912?e===yt:!1}function am(){var e=G.H;return G.H=zn,e===null?zn:e}function lm(){var e=G.A;return G.A=gg,e}function ci(){Ne=4,ra||(W&4194048)!==W&&ut.current!==null||(Ql=!0),!(ka&134217727)&&!(La&134217727)||de===null||ua(de,W,nt,!1)}function Ao(e,t,a){var l=ae;ae|=2;var s=am(),i=lm();(de!==e||W!==t)&&(oi=null,zl(e,t)),t=!1;var o=Ne;e:do try{if(oe!==0&&F!==null){var c=F,r=tt;switch(oe){case 8:Ar(),o=6;break e;case 3:case 2:case 9:case 6:ut.current===null&&(t=!0);var u=oe;if(oe=0,tt=null,xl(e,c,r,u),a&&Ql){o=0;break e}break;default:u=oe,oe=0,tt=null,xl(e,c,r,u)}}bg(),o=Ne;break}catch(f){em(e,f)}while(1);return t&&e.shellSuspendCounter++,Vt=$a=null,ae=l,G.H=s,G.A=i,F===null&&(de=null,W=0,Ai()),o}function bg(){for(;F!==null;)nm(F)}function vg(e,t){var a=ae;ae|=2;var l=am(),s=lm();de!==e||W!==t?(oi=null,ii=st()+500,zl(e,t)):Ql=Qn(e,t);e:do try{if(oe!==0&&F!==null){t=F;var i=tt;t:switch(oe){case 1:oe=0,tt=null,xl(e,t,i,1);break;case 2:case 9:if(Nu(i)){oe=0,tt=null,Xu(t);break}t=function(){oe!==2&&oe!==9||de!==e||(oe=7),zt(e)},i.then(t,t);break e;case 3:oe=7;break e;case 4:oe=5;break e;case 7:Nu(i)?(oe=0,tt=null,Xu(t)):(oe=0,tt=null,xl(e,t,i,7));break;case 5:var o=null;switch(F.tag){case 26:o=F.memoizedState;case 5:case 27:var c=F;if(o?Sm(o):c.stateNode.complete){oe=0,tt=null;var r=c.sibling;if(r!==null)F=r;else{var u=c.return;u!==null?(F=u,_i(u)):F=null}break t}}oe=0,tt=null,xl(e,t,i,5);break;case 6:oe=0,tt=null,xl(e,t,i,6);break;case 8:Ar(),Ne=6;break e;default:throw Error(k(462))}}jg();break}catch(f){em(e,f)}while(1);return Vt=$a=null,G.H=l,G.A=s,ae=a,F!==null?0:(de=null,W=0,Ai(),Ne)}function jg(){for(;F!==null&&!G0();)nm(F)}function nm(e){var t=Dh(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?_i(e):F=t}function Xu(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Hu(a,t,t.pendingProps,t.type,void 0,W);break;case 11:t=Hu(a,t,t.pendingProps,t.type.render,t.ref,W);break;case 5:fr(t);default:Oh(a,t),t=F=Of(t,Ft),t=Dh(a,t,Ft)}e.memoizedProps=e.pendingProps,t===null?_i(e):F=t}function xl(e,t,a,l){Vt=$a=null,fr(t),vl=null,Dn=0;var s=t.return;try{if(rg(e,s,t,a,W)){Ne=1,li(e,gt(a,e.current)),F=null;return}}catch(i){if(s!==null)throw F=s,i;Ne=1,li(e,gt(a,e.current)),F=null;return}t.flags&32768?(P||l===1?e=!0:Ql||W&536870912?e=!1:(ra=e=!0,(l===2||l===9||l===3||l===6)&&(l=ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),sm(t,e)):_i(t)}function _i(e){var t=e;do{if(t.flags&32768){sm(t,ra);return}e=t.return;var a=fg(t.alternate,t,Ft);if(a!==null){F=a;return}if(t=t.sibling,t!==null){F=t;return}F=t=e}while(t!==null);Ne===0&&(Ne=5)}function sm(e,t){do{var a=hg(e.alternate,e);if(a!==null){a.flags&=32767,F=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){F=e;return}F=e=a}while(e!==null);Ne=6,F=null}function Zu(e,t,a,l,s,i,o,c,r){e.cancelPendingCommit=null;do Ri();while(Ee!==0);if(ae&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(i=t.lanes|t.childLanes,i|=Wc,ex(e,a,i,o,c,r),e===de&&(F=de=null,W=0),Ol=t,pa=e,Xt=a,vc=i,jc=s,Fh=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,kg(Xs,function(){return um(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=G.T,G.T=null,s=le.p,le.p=2,o=ae,ae|=4;try{mg(e,t,a)}finally{ae=o,le.p=s,G.T=l}}Ee=1,im(),om(),cm()}}function im(){if(Ee===1){Ee=0;var e=pa,t=Ol,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=G.T,G.T=null;var l=le.p;le.p=2;var s=ae;ae|=4;try{Vh(t,e);var i=Cc,o=Sf(e.containerInfo),c=i.focusedElem,r=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&wf(c.ownerDocument.documentElement,c)){if(r!==null&&Fc(c)){var u=r.start,f=r.end;if(f===void 0&&(f=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(f,c.value.length);else{var x=c.ownerDocument||document,d=x&&x.defaultView||window;if(d.getSelection){var m=d.getSelection(),v=c.textContent.length,j=Math.min(r.start,v),T=r.end===void 0?j:Math.min(r.end,v);!m.extend&&j>T&&(o=T,T=j,j=o);var g=xu(c,j),h=xu(c,T);if(g&&h&&(m.rangeCount!==1||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==h.node||m.focusOffset!==h.offset)){var p=x.createRange();p.setStart(g.node,g.offset),m.removeAllRanges(),j>T?(m.addRange(p),m.extend(h.node,h.offset)):(p.setEnd(h.node,h.offset),m.addRange(p))}}}}for(x=[],m=c;m=m.parentNode;)m.nodeType===1&&x.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<x.length;c++){var b=x[c];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}gi=!!kc,Cc=kc=null}finally{ae=s,le.p=l,G.T=a}}e.current=t,Ee=2}}function om(){if(Ee===2){Ee=0;var e=pa,t=Ol,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=G.T,G.T=null;var l=le.p;le.p=2;var s=ae;ae|=4;try{Lh(e,t.alternate,t)}finally{ae=s,le.p=l,G.T=a}}Ee=3}}function cm(){if(Ee===4||Ee===3){Ee=0,Q0();var e=pa,t=Ol,a=Xt,l=Fh;t.subtreeFlags&10256||t.flags&10256?Ee=5:(Ee=0,Ol=pa=null,rm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ga=null),Gc(a),t=t.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Gn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=G.T,s=le.p,le.p=2,G.T=null;try{for(var i=e.onRecoverableError,o=0;o<l.length;o++){var c=l[o];i(c.value,{componentStack:c.stack})}}finally{G.T=t,le.p=s}}Xt&3&&Ri(),zt(e),s=e.pendingLanes,a&261930&&s&42?e===Nc?wn++:(wn=0,Nc=e):wn=0,Wn(0,!1)}}function rm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$n(t)))}function Ri(){return im(),om(),cm(),um()}function um(){if(Ee!==5)return!1;var e=pa,t=vc;vc=0;var a=Gc(Xt),l=G.T,s=le.p;try{le.p=32>a?32:a,G.T=null,a=jc,jc=null;var i=pa,o=Xt;if(Ee=0,Ol=pa=null,Xt=0,ae&6)throw Error(k(331));var c=ae;if(ae|=4,Jh(i.current),Qh(i,i.current,o,a),ae=c,Wn(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Gn,i)}catch{}return!0}finally{le.p=s,G.T=l,rm(e,t)}}function Ju(e,t,a){t=gt(a,t),t=xc(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(Xn(e,2),zt(e))}function ce(e,t,a){if(e.tag===3)Ju(e,e,a);else for(;t!==null;){if(t.tag===3){Ju(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){e=gt(a,e),a=kh(2),l=xa(t,a,2),l!==null&&(Ch(a,l,t,e),Xn(l,2),zt(l));break}}t=t.return}}function To(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new pg;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(kr=!0,s.add(a),e=Ng.bind(null,e,t,a),t.then(e,e))}function Ng(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(W&a)===a&&(Ne===4||Ne===3&&(W&62914560)===W&&300>st()-Bi?!(ae&2)&&zl(e,0):Cr|=a,Dl===W&&(Dl=0)),zt(e)}function dm(e,t){t===0&&(t=tf()),e=Ja(e,t),e!==null&&(Xn(e,t),zt(e))}function wg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),dm(e,a)}function Sg(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(k(314))}l!==null&&l.delete(t),dm(e,a)}function kg(e,t){return Yc(e,t)}var ri=null,ll=null,wc=!1,ui=!1,Mo=!1,da=0;function zt(e){e!==ll&&e.next===null&&(ll===null?ri=ll=e:ll=ll.next=e),ui=!0,wc||(wc=!0,Ag())}function Wn(e,t){if(!Mo&&ui){Mo=!0;do for(var a=!1,l=ri;l!==null;){if(!t)if(e!==0){var s=l.pendingLanes;if(s===0)var i=0;else{var o=l.suspendedLanes,c=l.pingedLanes;i=(1<<31-ot(42|e)+1)-1,i&=s&~(o&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,$u(l,i))}else i=W,i=wi(l,l===de?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(i&3)||Qn(l,i)||(a=!0,$u(l,i));l=l.next}while(a);Mo=!1}}function Cg(){fm()}function fm(){ui=wc=!1;var e=0;da!==0&&Rg()&&(e=da);for(var t=st(),a=null,l=ri;l!==null;){var s=l.next,i=hm(l,t);i===0?(l.next=null,a===null?ri=s:a.next=s,s===null&&(ll=a)):(a=l,(e!==0||i&3)&&(ui=!0)),l=s}Ee!==0&&Ee!==5||Wn(e,!1),da!==0&&(da=0)}function hm(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-ot(i),c=1<<o,r=s[o];r===-1?(!(c&a)||c&l)&&(s[o]=P0(c,t)):r<=t&&(e.expiredLanes|=c),i&=~c}if(t=de,a=W,a=wi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(oe===2||oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ao(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Qn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ao(l),Gc(a)){case 2:case 8:a=Pd;break;case 32:a=Xs;break;case 268435456:a=ef;break;default:a=Xs}return l=mm.bind(null,e),a=Yc(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ao(l),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,t){if(Ee!==0&&Ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ri()&&e.callbackNode!==a)return null;var l=W;return l=wi(e,e===de?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ph(e,l,t),hm(e,st()),e.callbackNode!=null&&e.callbackNode===a?mm.bind(null,e):null)}function $u(e,t){if(Ri())return null;Ph(e,t,!0)}function Ag(){Hg(function(){ae&6?Yc(Wd,Cg):fm()})}function Tr(){if(da===0){var e=Tl;e===0&&(e=ds,ds<<=1,!(ds&261888)&&(ds=256)),da=e}return da}function Ku(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ts(""+e)}function Fu(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Tg(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var i=Ku((s[Pe]||null).action),o=l.submitter;o&&(t=(t=o[Pe]||null)?Ku(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var c=new Si("action","action",null,l,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var r=o?Fu(s,o):new FormData(s);hc(a,{pending:!0,data:r,method:s.method,action:i},null,r)}}else typeof i=="function"&&(c.preventDefault(),r=o?Fu(s,o):new FormData(s),hc(a,{pending:!0,data:r,method:s.method,action:i},i,r))},currentTarget:s}]})}}for(var Eo=0;Eo<tc.length;Eo++){var Do=tc[Eo],Mg=Do.toLowerCase(),Eg=Do[0].toUpperCase()+Do.slice(1);kt(Mg,"on"+Eg)}kt(Cf,"onAnimationEnd");kt(Af,"onAnimationIteration");kt(Tf,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(Xx,"onTransitionRun");kt(Zx,"onTransitionStart");kt(Jx,"onTransitionCancel");kt(Mf,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bn));function xm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var c=l[o],r=c.instance,u=c.currentTarget;if(c=c.listener,r!==i&&s.isPropagationStopped())break e;i=c,s.currentTarget=u;try{i(s)}catch(f){Js(f)}s.currentTarget=null,i=r}else for(o=0;o<l.length;o++){if(c=l[o],r=c.instance,u=c.currentTarget,c=c.listener,r!==i&&s.isPropagationStopped())break e;i=c,s.currentTarget=u;try{i(s)}catch(f){Js(f)}s.currentTarget=null,i=r}}}}function K(e,t){var a=t[Zo];a===void 0&&(a=t[Zo]=new Set);var l=e+"__bubble";a.has(l)||(gm(t,e,2,!1),a.add(l))}function Oo(e,t,a){var l=0;t&&(l|=4),gm(a,e,l,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[js]){e[js]=!0,of.forEach(function(a){a!=="selectionchange"&&(Dg.has(a)||Oo(a,!1,e),Oo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,Oo("selectionchange",!1,t))}}function gm(e,t,a,l){switch(Mm(t)){case 2:var s=sp;break;case 8:s=ip;break;default:s=zr}a=s.bind(null,t,a,e),s=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function zo(e,t,a,l,s){var i=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var c=l.stateNode.containerInfo;if(c===s)break;if(o===4)for(o=l.return;o!==null;){var r=o.tag;if((r===3||r===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;c!==null;){if(o=il(c),o===null)return;if(r=o.tag,r===5||r===6||r===26||r===27){l=i=o;continue e}c=c.parentNode}}l=l.return}xf(function(){var u=i,f=Zc(a),x=[];e:{var d=Ef.get(e);if(d!==void 0){var m=Si,v=e;switch(e){case"keypress":if(Es(a)===0)break e;case"keydown":case"keyup":m=Sx;break;case"focusin":v="focus",m=oo;break;case"focusout":v="blur",m=oo;break;case"beforeblur":case"afterblur":m=oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ax;break;case Cf:case Af:case Tf:m=xx;break;case Mf:m=Mx;break;case"scroll":case"scrollend":m=ux;break;case"wheel":m=Dx;break;case"copy":case"cut":case"paste":m=px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ou;break;case"toggle":case"beforetoggle":m=zx}var j=(t&4)!==0,T=!j&&(e==="scroll"||e==="scrollend"),g=j?d!==null?d+"Capture":null:d;j=[];for(var h=u,p;h!==null;){var b=h;if(p=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||p===null||g===null||(b=Cn(h,g),b!=null&&j.push(Un(h,b,p))),T)break;h=h.return}0<j.length&&(d=new m(d,v,null,a,f),x.push({event:d,listeners:j}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&a!==Fo&&(v=a.relatedTarget||a.fromElement)&&(il(v)||v[Il]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=a.relatedTarget||a.toElement,m=u,v=v?il(v):null,v!==null&&(T=Vn(v),j=v.tag,v!==T||j!==5&&j!==27&&j!==6)&&(v=null)):(m=null,v=u),m!==v)){if(j=su,b="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(j=ou,b="onPointerLeave",g="onPointerEnter",h="pointer"),T=m==null?d:cn(m),p=v==null?d:cn(v),d=new j(b,h+"leave",m,a,f),d.target=T,d.relatedTarget=p,b=null,il(f)===u&&(j=new j(g,h+"enter",v,a,f),j.target=p,j.relatedTarget=T,b=j),T=b,m&&v)t:{for(j=Og,g=m,h=v,p=0,b=g;b;b=j(b))p++;b=0;for(var N=h;N;N=j(N))b++;for(;0<p-b;)g=j(g),p--;for(;0<b-p;)h=j(h),b--;for(;p--;){if(g===h||h!==null&&g===h.alternate){j=g;break t}g=j(g),h=j(h)}j=null}else j=null;m!==null&&Wu(x,d,m,j,!1),v!==null&&T!==null&&Wu(x,T,v,j,!0)}}e:{if(d=u?cn(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var w=du;else if(uu(d))if(jf)w=Vx;else{w=Ix;var S=qx}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&Xc(u.elementType)&&(w=du):w=Yx;if(w&&(w=w(e,u))){vf(x,w,a,f);break e}S&&S(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&Ko(d,"number",d.value)}switch(S=u?cn(u):window,e){case"focusin":(uu(S)||S.contentEditable==="true")&&(rl=S,Po=u,mn=null);break;case"focusout":mn=Po=rl=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,gu(x,a,f);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":gu(x,a,f)}var D;if(Kc)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else cl?yf(e,a)&&(E="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(E="onCompositionStart");E&&(pf&&a.locale!=="ko"&&(cl||E!=="onCompositionStart"?E==="onCompositionEnd"&&cl&&(D=gf()):(ca=f,Jc="value"in ca?ca.value:ca.textContent,cl=!0)),S=di(u,E),0<S.length&&(E=new iu(E,e,null,a,f),x.push({event:E,listeners:S}),D?E.data=D:(D=bf(a),D!==null&&(E.data=D)))),(D=Ux?_x(e,a):Rx(e,a))&&(E=di(u,"onBeforeInput"),0<E.length&&(S=new iu("onBeforeInput","beforeinput",null,a,f),x.push({event:S,listeners:E}),S.data=D)),Tg(x,e,u,a,f)}xm(x,t)})}function Un(e,t,a){return{instance:e,listener:t,currentTarget:a}}function di(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Cn(e,a),s!=null&&l.unshift(Un(e,s,i)),s=Cn(e,t),s!=null&&l.push(Un(e,s,i))),e.tag===3)return l;e=e.return}return[]}function Og(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wu(e,t,a,l,s){for(var i=t._reactName,o=[];a!==null&&a!==l;){var c=a,r=c.alternate,u=c.stateNode;if(c=c.tag,r!==null&&r===l)break;c!==5&&c!==26&&c!==27||u===null||(r=u,s?(u=Cn(a,i),u!=null&&o.unshift(Un(a,u,r))):s||(u=Cn(a,i),u!=null&&o.push(Un(a,u,r)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var zg=/\r\n?/g,Bg=/\u0000|\uFFFD/g;function Pu(e){return(typeof e=="string"?e:""+e).replace(zg,`
`).replace(Bg,"")}function pm(e,t){return t=Pu(t),Pu(e)===t}function re(e,t,a,l,s,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Al(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Al(e,""+l);break;case"className":ms(e,"class",l);break;case"tabIndex":ms(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(e,a,l);break;case"style":mf(e,l,i);break;case"data":if(t!=="object"){ms(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ts(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&re(e,t,"name",s.name,s,null),re(e,t,"formEncType",s.formEncType,s,null),re(e,t,"formMethod",s.formMethod,s,null),re(e,t,"formTarget",s.formTarget,s,null)):(re(e,t,"encType",s.encType,s,null),re(e,t,"method",s.method,s,null),re(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ts(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yt);break;case"onScroll":l!=null&&K("scroll",e);break;case"onScrollEnd":l!=null&&K("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(k(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(k(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ts(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":K("beforetoggle",e),K("toggle",e),As(e,"popover",l);break;case"xlinkActuate":Bt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":As(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cx.get(a)||a,As(e,a,l))}}function Sc(e,t,a,l,s,i){switch(a){case"style":mf(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(k(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(k(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Al(e,l):(typeof l=="number"||typeof l=="bigint")&&Al(e,""+l);break;case"onScroll":l!=null&&K("scroll",e);break;case"onScrollEnd":l!=null&&K("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[Pe]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):As(e,a,l)}}}function Ye(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":K("error",e),K("load",e);var l=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:re(e,t,i,o,a,null)}}s&&re(e,t,"srcSet",a.srcSet,a,null),l&&re(e,t,"src",a.src,a,null);return;case"input":K("invalid",e);var c=i=o=s=null,r=null,u=null;for(l in a)if(a.hasOwnProperty(l)){var f=a[l];if(f!=null)switch(l){case"name":s=f;break;case"type":o=f;break;case"checked":r=f;break;case"defaultChecked":u=f;break;case"value":i=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(k(137,t));break;default:re(e,t,l,f,a,null)}}df(e,i,c,r,u,o,s,!1);return;case"select":K("invalid",e),l=o=i=null;for(s in a)if(a.hasOwnProperty(s)&&(c=a[s],c!=null))switch(s){case"value":i=c;break;case"defaultValue":o=c;break;case"multiple":l=c;default:re(e,t,s,c,a,null)}t=i,a=o,e.multiple=!!l,t!=null?pl(e,!!l,t,!1):a!=null&&pl(e,!!l,a,!0);return;case"textarea":K("invalid",e),i=s=l=null;for(o in a)if(a.hasOwnProperty(o)&&(c=a[o],c!=null))switch(o){case"value":l=c;break;case"defaultValue":s=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(k(91));break;default:re(e,t,o,c,a,null)}hf(e,l,s,i);return;case"option":for(r in a)if(a.hasOwnProperty(r)&&(l=a[r],l!=null))switch(r){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,t,r,l,a,null)}return;case"dialog":K("beforetoggle",e),K("toggle",e),K("cancel",e),K("close",e);break;case"iframe":case"object":K("load",e);break;case"video":case"audio":for(l=0;l<Bn.length;l++)K(Bn[l],e);break;case"image":K("error",e),K("load",e);break;case"details":K("toggle",e);break;case"embed":case"source":case"link":K("error",e),K("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(l=a[u],l!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:re(e,t,u,l,a,null)}return;default:if(Xc(t)){for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!==void 0&&Sc(e,t,f,l,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(l=a[c],l!=null&&re(e,t,c,l,a,null))}function Ug(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,c=null,r=null,u=null,f=null;for(m in a){var x=a[m];if(a.hasOwnProperty(m)&&x!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":r=x;default:l.hasOwnProperty(m)||re(e,t,m,null,l,x)}}for(var d in l){var m=l[d];if(x=a[d],l.hasOwnProperty(d)&&(m!=null||x!=null))switch(d){case"type":i=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:m!==x&&re(e,t,d,m,l,x)}}$o(e,o,c,r,u,f,i,s);return;case"select":m=o=c=d=null;for(i in a)if(r=a[i],a.hasOwnProperty(i)&&r!=null)switch(i){case"value":break;case"multiple":m=r;default:l.hasOwnProperty(i)||re(e,t,i,null,l,r)}for(s in l)if(i=l[s],r=a[s],l.hasOwnProperty(s)&&(i!=null||r!=null))switch(s){case"value":d=i;break;case"defaultValue":c=i;break;case"multiple":o=i;default:i!==r&&re(e,t,s,i,l,r)}t=c,a=o,l=m,d!=null?pl(e,!!a,d,!1):!!l!=!!a&&(t!=null?pl(e,!!a,t,!0):pl(e,!!a,a?[]:"",!1));return;case"textarea":m=d=null;for(c in a)if(s=a[c],a.hasOwnProperty(c)&&s!=null&&!l.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:re(e,t,c,null,l,s)}for(o in l)if(s=l[o],i=a[o],l.hasOwnProperty(o)&&(s!=null||i!=null))switch(o){case"value":d=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(k(91));break;default:s!==i&&re(e,t,o,s,l,i)}ff(e,d,m);return;case"option":for(var v in a)if(d=a[v],a.hasOwnProperty(v)&&d!=null&&!l.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:re(e,t,v,null,l,d)}for(r in l)if(d=l[r],m=a[r],l.hasOwnProperty(r)&&d!==m&&(d!=null||m!=null))switch(r){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:re(e,t,r,d,l,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in a)d=a[j],a.hasOwnProperty(j)&&d!=null&&!l.hasOwnProperty(j)&&re(e,t,j,null,l,d);for(u in l)if(d=l[u],m=a[u],l.hasOwnProperty(u)&&d!==m&&(d!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(k(137,t));break;default:re(e,t,u,d,l,m)}return;default:if(Xc(t)){for(var T in a)d=a[T],a.hasOwnProperty(T)&&d!==void 0&&!l.hasOwnProperty(T)&&Sc(e,t,T,void 0,l,d);for(f in l)d=l[f],m=a[f],!l.hasOwnProperty(f)||d===m||d===void 0&&m===void 0||Sc(e,t,f,d,l,m);return}}for(var g in a)d=a[g],a.hasOwnProperty(g)&&d!=null&&!l.hasOwnProperty(g)&&re(e,t,g,null,l,d);for(x in l)d=l[x],m=a[x],!l.hasOwnProperty(x)||d===m||d==null&&m==null||re(e,t,x,d,l,m)}function ed(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _g(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],i=s.transferSize,o=s.initiatorType,c=s.duration;if(i&&c&&ed(o)){for(o=0,c=s.responseEnd,l+=1;l<a.length;l++){var r=a[l],u=r.startTime;if(u>c)break;var f=r.transferSize,x=r.initiatorType;f&&ed(x)&&(r=r.responseEnd,o+=f*(r<c?1:(c-u)/(r-u)))}if(--l,t+=8*(i+o)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kc=null,Cc=null;function fi(e){return e.nodeType===9?e:e.ownerDocument}function td(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ym(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=null;function Rg(){var e=window.event;return e&&e.type==="popstate"?e===Bo?!1:(Bo=e,!0):(Bo=null,!1)}var bm=typeof setTimeout=="function"?setTimeout:void 0,Lg=typeof clearTimeout=="function"?clearTimeout:void 0,ad=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof ad<"u"?function(e){return ad.resolve(null).then(e).catch(qg)}:bm;function qg(e){setTimeout(function(){throw e})}function Ta(e){return e==="head"}function ld(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),Ul(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Sn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Sn(a);for(var i=a.firstChild;i;){var o=i.nextSibling,c=i.nodeName;i[Zn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}else a==="body"&&Sn(e.ownerDocument.body);a=s}while(a);Ul(t)}function nd(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tc(a),Qc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ig(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=bt(e.nextSibling),e===null)break}return null}function Yg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=bt(e.nextSibling),e===null))return null;return e}function vm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=bt(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$?"||e.data==="$~"}function Ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Dc=null;function sd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return bt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function jm(e,t,a){switch(t=fi(a),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function Sn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qc(e)}var vt=new Map,od=new Set;function hi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wt=le.d;le.d={f:Gg,r:Qg,D:Xg,C:Zg,L:Jg,m:$g,X:Fg,S:Kg,M:Wg};function Gg(){var e=Wt.f(),t=Ui();return e||t}function Qg(e){var t=Yl(e);t!==null&&t.tag===5&&t.type==="form"?mh(t):Wt.r(e)}var Xl=typeof document>"u"?null:document;function Nm(e,t,a){var l=Xl;if(l&&typeof t=="string"&&t){var s=xt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),od.has(s)||(od.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),Ye(t,"link",e),Ue(t),l.head.appendChild(t)))}}function Xg(e){Wt.D(e),Nm("dns-prefetch",e,null)}function Zg(e,t){Wt.C(e,t),Nm("preconnect",e,t)}function Jg(e,t,a){Wt.L(e,t,a);var l=Xl;if(l&&e&&t){var s='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+xt(a.imageSizes)+'"]')):s+='[href="'+xt(e)+'"]';var i=s;switch(t){case"style":i=Bl(e);break;case"script":i=Zl(e)}vt.has(i)||(e=ye({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),vt.set(i,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(Pn(i))||t==="script"&&l.querySelector(es(i))||(t=l.createElement("link"),Ye(t,"link",e),Ue(t),l.head.appendChild(t)))}}function $g(e,t){Wt.m(e,t);var a=Xl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(e)+'"]',i=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Zl(e)}if(!vt.has(i)&&(e=ye({rel:"modulepreload",href:e},t),vt.set(i,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(es(i)))return}l=a.createElement("link"),Ye(l,"link",e),Ue(l),a.head.appendChild(l)}}}function Kg(e,t,a){Wt.S(e,t,a);var l=Xl;if(l&&e){var s=gl(l).hoistableStyles,i=Bl(e);t=t||"default";var o=s.get(i);if(!o){var c={loading:0,preload:null};if(o=l.querySelector(Pn(i)))c.loading=5;else{e=ye({rel:"stylesheet",href:e,"data-precedence":t},a),(a=vt.get(i))&&Er(e,a);var r=o=l.createElement("link");Ue(r),Ye(r,"link",e),r._p=new Promise(function(u,f){r.onload=u,r.onerror=f}),r.addEventListener("load",function(){c.loading|=1}),r.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Ls(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:c},s.set(i,o)}}}function Fg(e,t){Wt.X(e,t);var a=Xl;if(a&&e){var l=gl(a).hoistableScripts,s=Zl(e),i=l.get(s);i||(i=a.querySelector(es(s)),i||(e=ye({src:e,async:!0},t),(t=vt.get(s))&&Dr(e,t),i=a.createElement("script"),Ue(i),Ye(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(s,i))}}function Wg(e,t){Wt.M(e,t);var a=Xl;if(a&&e){var l=gl(a).hoistableScripts,s=Zl(e),i=l.get(s);i||(i=a.querySelector(es(s)),i||(e=ye({src:e,async:!0,type:"module"},t),(t=vt.get(s))&&Dr(e,t),i=a.createElement("script"),Ue(i),Ye(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(s,i))}}function cd(e,t,a,l){var s=(s=fa.current)?hi(s):null;if(!s)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Bl(a.href),a=gl(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Bl(a.href);var i=gl(s).hoistableStyles,o=i.get(e);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=s.querySelector(Pn(e)))&&!i._p&&(o.instance=i,o.state.loading=5),vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vt.set(e,a),i||Pg(s,e,a,o.state))),t&&l===null)throw Error(k(528,""));return o}if(t&&l!==null)throw Error(k(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zl(a),a=gl(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function Bl(e){return'href="'+xt(e)+'"'}function Pn(e){return'link[rel="stylesheet"]['+e+"]"}function wm(e){return ye({},e,{"data-precedence":e.precedence,precedence:null})}function Pg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ye(t,"link",a),Ue(t),e.head.appendChild(t))}function Zl(e){return'[src="'+xt(e)+'"]'}function es(e){return"script[async]"+e}function rd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return t.instance=l,Ue(l),l;var s=ye({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),Ye(l,"style",s),Ls(l,a.precedence,e),t.instance=l;case"stylesheet":s=Bl(a.href);var i=e.querySelector(Pn(s));if(i)return t.state.loading|=4,t.instance=i,Ue(i),i;l=wm(a),(s=vt.get(s))&&Er(l,s),i=(e.ownerDocument||e).createElement("link"),Ue(i);var o=i;return o._p=new Promise(function(c,r){o.onload=c,o.onerror=r}),Ye(i,"link",l),t.state.loading|=4,Ls(i,a.precedence,e),t.instance=i;case"script":return i=Zl(a.src),(s=e.querySelector(es(i)))?(t.instance=s,Ue(s),s):(l=a,(s=vt.get(i))&&(l=ye({},a),Dr(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),Ue(s),Ye(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Ls(l,a.precedence,e));return t.instance}function Ls(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,i=s,o=0;o<l.length;o++){var c=l[o];if(c.dataset.precedence===t)i=c;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Er(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hs=null;function ud(e,t,a){if(Hs===null){var l=new Map,s=Hs=new Map;s.set(a,l)}else s=Hs,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[Zn]||i[He]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var c=l.get(o);c?c.push(i):l.set(o,[i])}}return l}function dd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ep(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function tp(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var s=Bl(l.href),i=t.querySelector(Pn(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=mi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Ue(i);return}i=t.ownerDocument||t,l=wm(l),(s=vt.get(s))&&Er(l,s),i=i.createElement("link"),Ue(i);var o=i;o._p=new Promise(function(c,r){o.onload=c,o.onerror=r}),Ye(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=mi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Uo=0;function ap(e,t){return e.stylesheets&&e.count===0&&qs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&qs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Uo===0&&(Uo=62500*_g());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Uo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function mi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xi=null;function qs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xi=new Map,t.forEach(lp,e),xi=null,mi.call(e))}function lp(e,t){if(!(t.state.loading&4)){var a=xi.get(e);if(a)var l=a.get(null);else{a=new Map,xi.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var o=s[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}s=t.instance,o=s.getAttribute("data-precedence"),i=a.get(o)||l,i===l&&a.set(null,s),a.set(o,s),this.count++,l=mi.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var _n={$$typeof:It,Provider:null,Consumer:null,_currentValue:Ba,_currentValue2:Ba,_threadCount:0};function np(e,t,a,l,s,i,o,c,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function km(e,t,a,l,s,i,o,c,r,u,f,x){return e=new np(e,t,a,o,r,u,f,x,c),t=1,i===!0&&(t|=24),i=lt(3,null,null,t),e.current=i,i.stateNode=e,t=lr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},ir(i),e}function Cm(e){return e?(e=fl,e):fl}function Am(e,t,a,l,s,i){s=Cm(s),l.context===null?l.context=s:l.pendingContext=s,l=ma(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=xa(e,l,t),a!==null&&(We(a,e,t),gn(a,e,t))}function fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Or(e,t){fd(e,t),(e=e.alternate)&&fd(e,t)}function Tm(e){if(e.tag===13||e.tag===31){var t=Ja(e,67108864);t!==null&&We(t,e,67108864),Or(e,67108864)}}function hd(e){if(e.tag===13||e.tag===31){var t=ct();t=Vc(t);var a=Ja(e,t);a!==null&&We(a,e,t),Or(e,t)}}var gi=!0;function sp(e,t,a,l){var s=G.T;G.T=null;var i=le.p;try{le.p=2,zr(e,t,a,l)}finally{le.p=i,G.T=s}}function ip(e,t,a,l){var s=G.T;G.T=null;var i=le.p;try{le.p=8,zr(e,t,a,l)}finally{le.p=i,G.T=s}}function zr(e,t,a,l){if(gi){var s=Oc(l);if(s===null)zo(e,t,l,pi,a),md(e,l);else if(cp(s,e,t,a,l))l.stopPropagation();else if(md(e,l),t&4&&-1<op.indexOf(e)){for(;s!==null;){var i=Yl(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Da(i.pendingLanes);if(o!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;o;){var r=1<<31-ot(o);c.entanglements[1]|=r,o&=~r}zt(i),!(ae&6)&&(ii=st()+500,Wn(0,!1))}}break;case 31:case 13:c=Ja(i,2),c!==null&&We(c,i,2),Ui(),Or(i,2)}if(i=Oc(l),i===null&&zo(e,t,l,pi,a),i===s)break;s=i}s!==null&&l.stopPropagation()}else zo(e,t,l,null,a)}}function Oc(e){return e=Zc(e),Br(e)}var pi=null;function Br(e){if(pi=null,e=il(e),e!==null){var t=Vn(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Zd(t),e!==null)return e;e=null}else if(a===31){if(e=Jd(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pi=e,null}function Mm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X0()){case Wd:return 2;case Pd:return 8;case Xs:case Z0:return 32;case ef:return 268435456;default:return 32}default:return 32}}var zc=!1,ya=null,ba=null,va=null,Rn=new Map,Ln=new Map,ia=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function md(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(t.pointerId)}}function ln(e,t,a,l,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Yl(t),t!==null&&Tm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cp(e,t,a,l,s){switch(t){case"focusin":return ya=ln(ya,e,t,a,l,s),!0;case"dragenter":return ba=ln(ba,e,t,a,l,s),!0;case"mouseover":return va=ln(va,e,t,a,l,s),!0;case"pointerover":var i=s.pointerId;return Rn.set(i,ln(Rn.get(i)||null,e,t,a,l,s)),!0;case"gotpointercapture":return i=s.pointerId,Ln.set(i,ln(Ln.get(i)||null,e,t,a,l,s)),!0}return!1}function Em(e){var t=il(e.target);if(t!==null){var a=Vn(t);if(a!==null){if(t=a.tag,t===13){if(t=Zd(a),t!==null){e.blockedOn=t,Wr(e.priority,function(){hd(a)});return}}else if(t===31){if(t=Jd(a),t!==null){e.blockedOn=t,Wr(e.priority,function(){hd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Oc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return t=Yl(a),t!==null&&Tm(t),e.blockedOn=a,!1;t.shift()}return!0}function xd(e,t,a){Is(e)&&a.delete(t)}function rp(){zc=!1,ya!==null&&Is(ya)&&(ya=null),ba!==null&&Is(ba)&&(ba=null),va!==null&&Is(va)&&(va=null),Rn.forEach(xd),Ln.forEach(xd)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,rp)))}var ws=null;function gd(e){ws!==e&&(ws=e,De.unstable_scheduleCallback(De.unstable_NormalPriority,function(){ws===e&&(ws=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(Br(l||a)===null)continue;break}var i=Yl(a);i!==null&&(e.splice(t,3),t-=3,hc(i,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function Ul(e){function t(r){return Ns(r,e)}ya!==null&&Ns(ya,e),ba!==null&&Ns(ba,e),va!==null&&Ns(va,e),Rn.forEach(t),Ln.forEach(t);for(var a=0;a<ia.length;a++){var l=ia[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ia.length&&(a=ia[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&ia.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],i=a[l+1],o=s[Pe]||null;if(typeof i=="function")o||gd(a);else if(o){var c=null;if(i&&i.hasAttribute("formAction")){if(s=i,o=i[Pe]||null)c=o.formAction;else if(Br(s)!==null)continue}else c=o.action;typeof c=="function"?a[l+1]=c:(a.splice(l,3),l-=3),gd(a)}}}function Dm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return s=o})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Ur(e){this._internalRoot=e}Li.prototype.render=Ur.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var a=t.current,l=ct();Am(a,l,e,t,null,null)};Li.prototype.unmount=Ur.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Am(e.current,2,null,e,null,null),Ui(),t[Il]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=sf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ia.length&&t!==0&&t<ia[a].priority;a++);ia.splice(a,0,e),a===0&&Em(e)}};var pd=Qd.version;if(pd!=="19.2.0")throw Error(k(527,pd,"19.2.0"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=H0(t),e=e!==null?$d(e):null,e=e===null?null:e.stateNode,e};var up={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{Gn=Ss.inject(up),it=Ss}catch{}}ji.createRoot=function(e,t){if(!Xd(e))throw Error(k(299));var a=!1,l="",s=Nh,i=wh,o=Sh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=km(e,1,!1,null,null,a,l,null,s,i,o,Dm),e[Il]=t.current,Mr(e),new Ur(t)};ji.hydrateRoot=function(e,t,a){if(!Xd(e))throw Error(k(299));var l=!1,s="",i=Nh,o=wh,c=Sh,r=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(r=a.formState)),t=km(e,1,!0,t,a??null,l,s,r,i,o,c,Dm),t.context=Cm(null),a=t.current,l=ct(),l=Vc(l),s=ma(l),s.callback=null,xa(a,s,l),a=l,t.current.lanes=a,Xn(t,a),zt(t),e[Il]=t.current,Mr(e),new Li(t)};ji.version="19.2.0";function Om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Om)}catch(e){console.error(e)}}Om(),Hd.exports=ji;var dp=Hd.exports;const fp=Md(dp),zm="https://synapse-backend-api.onrender.com";let yi=localStorage.getItem("authToken");async function R(e,t={}){const a=zm.replace(/\/$/,""),l=e.startsWith("/")?e:`/${e}`,s=`${a}${l}`,i=yi,o={...t.body instanceof FormData?{}:{"Content-Type":"application/json"},...i?{Authorization:`Bearer ${i}`}:{},...t.headers};try{console.log(`API Call: ${t.method||"GET"} ${s}`);const c=await fetch(s,{...t,headers:o});if(c.status===0)throw new Error("Network error: Cannot connect to server. Check if backend is running.");const r=c.headers.get("content-type");if(c.status===204||c.headers.get("content-length")==="0")return console.log(`API Success (${c.status} No Content): ${s}`),{};if(!c.ok){let u=`API error (${c.status}): ${c.statusText||"Request Failed"}`,f={status:c.status};if(r&&r.includes("application/json"))try{const d=await c.json();u=d.message||d.error||u,f={...f,...d}}catch{}else try{const d=await c.text();d&&(u+=` - ${d.substring(0,100)}`)}catch{}console.error(`API Failed (${c.status}): ${s}`,u,f||""),(c.status===401||c.status===403)&&(console.warn("Authentication error detected. Clearing token and local user."),yi=null,localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),window.location.reload());const x=new Error(u);throw x.details=f,x}if(r&&r.includes("application/json")){const u=await c.json();return console.log(`API Success (${c.status}): ${s}`),u}return console.warn(`API Warning: Non-JSON response from ${s}. Content-Type: ${r}`),{}}catch(c){throw console.error(`API Network/Fetch Exception: ${t.method||"GET"} ${l}`,c),c instanceof TypeError&&(c.message.includes("fetch")||c.message.includes("Network"))?new Error("Network error: Could not connect to the API server. Please check your internet connection and ensure the backend is running."):c}}const hp=async()=>{const t=`${zm.replace(/\/api$/,"").replace(/\/$/,"")}/health`;try{console.log(`Health Check: GET ${t}`);const a=await fetch(t,{method:"GET"}),l=a.ok;return console.log(`Health Check Result (${a.status}): ${l?"Healthy":"Unhealthy"}`),l}catch(a){return console.error("Backend health check failed (Network or CORS error):",a),!1}},C={setAuthToken:e=>{yi=e,e?localStorage.setItem("authToken",e):localStorage.removeItem("authToken"),console.log("Auth token updated in service:",e?"Set":"Cleared")},login:async e=>{const t=await R("/api/auth/login",{method:"POST",body:JSON.stringify(e)});return t.token&&C.setAuthToken(t.token),t},signUp:async e=>{const t=await R("/api/auth/register",{method:"POST",body:JSON.stringify(e)});return t.token&&C.setAuthToken(t.token),t},verifyToken:e=>{const t={};if(e)t.Authorization=`Bearer ${e}`;else if(!yi)return Promise.resolve({valid:!1});return R("/api/auth/verify",{method:"GET",headers:t})},getUserById:e=>!e||e==="undefined"?(console.warn(`getUserById called with invalid ID: ${e}, skipping fetch.`),Promise.resolve(null)):R(`/api/users/${e}`),updateUser:e=>R("/api/users/me",{method:"PUT",body:JSON.stringify(e)}),markOnboardingComplete:()=>R("/api/users/me/onboarding",{method:"PATCH"}),searchUsers:e=>R(`/api/users?${new URLSearchParams(e).toString()}`),sendConnectionRequest:e=>R(`/api/users/${e}/connect`,{method:"POST"}),getAllIdeas:e=>R(`/api/ideas?${new URLSearchParams(e).toString()}`),getIdeasByOwnerId:e=>R(`/api/ideas?ownerId=${e}`),getIdeasByCollaboratorId:e=>R(`/api/ideas?collaboratorId=${e}`),getIdeaById:e=>R(`/api/ideas/${e}`),addIdea:e=>R("/api/ideas",{method:"POST",body:JSON.stringify(e)}),updateIdea:(e,t)=>R(`/api/ideas/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateIdeaProgressStage:(e,t)=>R(`/api/ideas/${e}/stage`,{method:"PATCH",body:JSON.stringify({stage:t})}),castVote:(e,t)=>R(`/api/ideas/${e}/vote`,{method:"POST",body:JSON.stringify({type:t})}),getFeedItems:()=>R("/api/feed"),getCommentsByIdeaId:e=>R(`/api/ideas/${e}/comments`),getCommentsByNodeId:e=>R(`/api/nodes/${e}/comments`),postComment:(e,t)=>R(`/api/ideas/${e}/comments`,{method:"POST",body:JSON.stringify({text:t})}),getFeedbackByIdeaId:e=>R(`/api/ideas/${e}/feedback`),submitFeedback:e=>R(`/api/ideas/${e.ideaId}/feedback`,{method:"POST",body:JSON.stringify(e)}),getCollaborationRequestsByIdeaId:e=>R(`/api/ideas/${e}/collaboration-requests`),submitCollaborationRequest:e=>R("/api/collaborations",{method:"POST",body:JSON.stringify(e)}),updateCollaborationRequestStatus:(e,t)=>R(`/api/collaborations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),getCollaborationsByUserId:e=>R(`/api/collaborations/user/${e}`),updateIdeaBoard:(e,t)=>R(`/api/ideas/${e}/board`,{method:"PUT",body:JSON.stringify({nodes:t})}),saveBoardVersion:(e,t,a)=>R(`/api/ideas/${e}/board/versions`,{method:"POST",body:JSON.stringify({nodes:t,name:a})}),getBoardVersions:e=>R(`/api/ideas/${e}/board/versions`),revertToBoardVersion:(e,t)=>R(`/api/ideas/${e}/board/versions/${t}/revert`,{method:"POST"}),getBlockchainRecordsByIdeaId:e=>R(`/api/ideas/${e}/blockchain-records`),startConversation:e=>R("/api/chat/conversations",{method:"POST",body:JSON.stringify({participants:[e]})}),getConversationsByUserId:()=>R("/api/chat/conversations"),getConversationById:e=>R(`/api/chat/conversations/${e}`),getMessagesByConversationId:e=>R(`/api/chat/conversations/${e}/messages`),sendMessage:e=>R(`/api/chat/conversations/${e.conversationId}/messages`,{method:"POST",body:JSON.stringify({text:e.text,replyToMessageId:e.replyToMessageId,media:e.media})}),reactToMessage:(e,t)=>R(`/api/chat/messages/${e}/reactions`,{method:"POST",body:JSON.stringify({emoji:t})}),acceptMessageRequest:e=>R(`/api/chat/requests/${e}/accept`,{method:"POST"}),markMessagesRead:e=>R(`/api/chat/conversations/${e}/read`,{method:"POST"}),getNotificationsByUserId:()=>R("/api/users/me/notifications"),markAllNotificationsAsRead:()=>R("/api/users/me/notifications/read-all",{method:"POST"}),updateNotificationSettings:e=>R("/api/users/me/settings/notifications",{method:"PUT",body:JSON.stringify(e)}),getForumMessages:e=>R(`/api/ideas/${e}/forum/messages`),postForumMessage:(e,t)=>R(`/api/ideas/${e}/forum/messages`,{method:"POST",body:JSON.stringify({text:t})}),addForumMember:(e,t)=>R(`/api/ideas/${e}/forum/members`,{method:"POST",body:JSON.stringify({userId:t})}),removeForumMember:(e,t)=>R(`/api/ideas/${e}/forum/members/${t}`,{method:"DELETE"}),deleteForumMessage:e=>R(`/api/forum/messages/${e}`,{method:"DELETE"}),pinForumMessage:e=>R(`/api/forum/messages/${e}/pin`,{method:"POST"}),getUserAchievements:e=>R(`/api/users/${e}/achievements`),shareAchievementToFeed:e=>R("/api/feed/achievement",{method:"POST",body:JSON.stringify({achievementId:e})}),getAnalyticsForIdea:e=>R(`/api/ideas/${e}/analytics`),endorseSkill:(e,t)=>R(`/api/users/${e}/skills/endorse`,{method:"POST",body:JSON.stringify({skillName:t})}),submitReport:e=>R("/api/reports",{method:"POST",body:JSON.stringify(e)}),addMilestone:(e,t)=>R(`/api/ideas/${e}/milestones`,{method:"POST",body:JSON.stringify(t)}),editMilestone:(e,t,a)=>R(`/api/ideas/${e}/milestones/${t}`,{method:"PUT",body:JSON.stringify(a)}),deleteMilestone:(e,t)=>R(`/api/ideas/${e}/milestones/${t}`,{method:"DELETE"}),completeMilestone:(e,t)=>R(`/api/ideas/${e}/milestones/${t}/complete`,{method:"POST"}),updateKanbanBoard:(e,t)=>R(`/api/ideas/${e}/kanban`,{method:"PUT",body:JSON.stringify(t)}),getRecommendedCollaborators:e=>R(`/api/ideas/${e}/recommendations/collaborators`),analyzeIdea:e=>R("/api/ai/analyze-idea",{method:"POST",body:JSON.stringify(e)}),refineSummary:e=>R("/api/ai/refine-summary",{method:"POST",body:JSON.stringify(e)}),getIdeaSuggestions:()=>R("/api/ai/idea-suggestions"),checkBackendHealth:hp},mp=()=>{const[e,t]=y.useState("Checking..."),[a,l]=y.useState(!0),s=window.location.origin,i="https://synapse-backend-api.onrender.com".replace("/api",""),o=async()=>{l(!0),t("Testing...");try{const c=await C.checkBackendHealth();t(c?"Backend Connected & Healthy":"Backend Connection Failed")}catch(c){t("Backend Connection Error"),console.error("Connection test failed:",c)}finally{l(!1)}};return y.useEffect(()=>{o()},[]),n.jsxs("div",{className:"connection-test",children:[n.jsx("h2",{children:"Connection Test"}),n.jsxs("div",{className:"status-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Backend Status:"})," ",e]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Frontend URL:"})," ",s]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Target Backend URL:"})," ",i]})]}),n.jsx("button",{onClick:o,disabled:a,className:"test-button",children:a?"Testing...":"Test Connection Again"})]})},xp=({setCurrentUser:e,setPage:t,onGuestLogin:a})=>{const[l,s]=y.useState("login"),[i,o]=y.useState({name:"",username:"",email:"",password:""}),[c,r]=y.useState(""),[u,f]=y.useState(!1),x=m=>{const{name:v,value:j}=m.target;o(T=>({...T,[v]:j})),r("")},d=async m=>{m.preventDefault(),r(""),f(!0);try{if(l==="login"){const v=await C.login({email:i.email,password:i.password});if(v&&v.user&&v.token){localStorage.setItem("authToken",v.token);const j=await C.getUserById(v.user.userId||v.user.id);if(j)e(j),t(j.onboardingCompleted?"feed":"onboarding");else throw new Error("Login succeeded, but user data could not be found.")}else r("Login failed. Please check your credentials.")}else{const v=await C.signUp({displayName:i.name,username:i.username,email:i.email,password:i.password,userType:"thinker"});v&&v.user&&v.token?(localStorage.setItem("authToken",v.token),e(v.user),t("onboarding")):r((v==null?void 0:v.error)||"Sign up failed. Please try again.")}}catch(v){console.error(`${l} error:`,v),r(v.message||`An unexpected error occurred during ${l}.`)}finally{f(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-indigo-50 to-purple-100 dark:from-[#0F0F1A] dark:to-[#1A1A2E]",children:n.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/70 dark:bg-[#1A1A24]/70 backdrop-blur-xl border border-gray-200 dark:border-white/20 p-8 rounded-2xl shadow-2xl shadow-indigo-500/20 dark:shadow-indigo-900/50 animate-fadeInUp",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-center text-4xl font-bold text-gradient font-space-grotesk",children:"Synapse"}),n.jsx("p",{className:"mt-2 text-center text-gray-500 dark:text-gray-400",children:"Connect. Collaborate. Create."})]}),n.jsxs("div",{className:"bg-gray-100/50 dark:bg-[#101018]/50 p-1.5 rounded-lg flex space-x-2",children:[n.jsx("button",{onClick:()=>{s("login"),r("")},className:`w-full py-2 rounded-md text-sm font-semibold transition-colors ${l==="login"?"bg-white dark:bg-[#252532] text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sign In"}),n.jsx("button",{onClick:()=>{s("signup"),r("")},className:`w-full py-2 rounded-md text-sm font-semibold transition-colors ${l==="signup"?"bg-white dark:bg-[#252532] text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Sign Up"})]}),n.jsxs("form",{className:"space-y-6",onSubmit:d,children:[l==="signup"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("input",{name:"name",type:"text",required:!0,"aria-label":"Full Name",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Full Name",value:i.name,onChange:x})}),n.jsx("div",{children:n.jsx("input",{name:"username",type:"text",required:!0,"aria-label":"Username",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Username",value:i.username,onChange:x})})]}),n.jsx("div",{children:n.jsx("input",{name:"email",type:"email",autoComplete:"email",required:!0,"aria-label":"Email address",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Email address",value:i.email,onChange:x})}),n.jsx("div",{children:n.jsx("input",{name:"password",type:"password",autoComplete:l==="login"?"current-password":"new-password",required:!0,"aria-label":"Password",className:"appearance-none relative block w-full px-3 py-3 bg-gray-100 dark:bg-[#101018] border-2 border-transparent placeholder-gray-500 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm shadow-inner",placeholder:"Password",value:i.password,onChange:x})}),c&&n.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm text-center",children:c}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-[#1A1A24] transition-all duration-200 transform hover:-translate-y-0.5 active:scale-95 shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 disabled:opacity-50",children:u?"Processing...":l==="login"?"Sign in":"Create Account"})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300 dark:border-white/20"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white/70 dark:bg-[#1A1A24]/70 text-gray-500",children:"Or"})})]}),n.jsx("div",{children:n.jsx("button",{onClick:a,className:"w-full text-center py-3 px-4 border border-gray-300 dark:border-white/20 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-500/10 dark:hover:bg-white/5 hover:text-gray-900 dark:hover:text-white transition-colors",children:"Browse as a Guest"})})]})})},ts=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m2 2 20 20"}),n.jsx("path",{d:"M8.5 16.5a5 5 0 0 1 7 0"}),n.jsx("path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65"}),n.jsx("path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76"}),n.jsx("path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68"}),n.jsx("path",{d:"M5 13a10 10 0 0 1 5.24-2.76"}),n.jsx("path",{d:"M12 20h.01"})]}),Bm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),n.jsx("polyline",{points:"16 17 21 12 16 7"}),n.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Hi=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}),n.jsx("path",{d:"M9 18h6"}),n.jsx("path",{d:"M10 22h4"})]}),Ca=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Um=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})}),_l=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M5 12h14"}),n.jsx("path",{d:"M12 5v14"})]}),_m=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M5 12h14"})}),Rm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 7V3h4"}),n.jsx("path",{d:"M21 17v4h-4"}),n.jsx("path",{d:"M7 21 3 21 3 17"}),n.jsx("path",{d:"M17 3h4v4"})]}),qi=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),n.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Dt=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Lm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9L12 18l1.9-5.8 5.8-1.9-5.8-1.9L12 3z"}),n.jsx("path",{d:"M5 3v4"}),n.jsx("path",{d:"M19 17v4"}),n.jsx("path",{d:"M3 5h4"}),n.jsx("path",{d:"M17 19h4"})]}),Ct=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M18 6 6 18"}),n.jsx("path",{d:"m6 6 12 12"})]}),_r=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),n.jsx("path",{d:"M22 2 11 13"})]}),Ii=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),n.jsx("path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),Hm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 7v6h6"}),n.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}),qm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 7v6h-6"}),n.jsx("path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3-4.3"})]}),Yi=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("line",{x1:"19",x2:"19",y1:"8",y2:"14"}),n.jsx("line",{x1:"22",x2:"16",y1:"11",y2:"11"})]}),Im=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("line",{x1:"22",x2:"16",y1:"11",y2:"11"})]}),Rl=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),n.jsx("path",{d:"m9 12 2 2 4-4"})]}),Ve=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Rr=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 22v-9"}),n.jsx("path",{d:"M15.5 13H8.5c-1.38 0-2.5-1.12-2.5-2.5V3c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7.5c0 1.38-1.12 2.5-2.5 2.5z"})]}),Ym=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),Vm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"})]}),Gm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),n.jsx("rect",{width:"4",height:"12",x:"2",y:"9"}),n.jsx("circle",{cx:"4",cy:"4",r:"2"})]}),Qm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),n.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),Xm=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m6 9 6 6 6-6"})}),Zm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m5 12 7-7 7 7"}),n.jsx("path",{d:"M12 19V5"})]}),Jm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m5 12 7 7 7-7"}),n.jsx("path",{d:"M12 5v14"})]}),Vi=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Lr=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"16",height:"16",x:"4",y:"4",rx:"2"}),n.jsx("rect",{width:"6",height:"6",x:"9",y:"9",rx:"1"}),n.jsx("path",{d:"M15 2v2"}),n.jsx("path",{d:"M15 20v2"}),n.jsx("path",{d:"M9 2v2"}),n.jsx("path",{d:"M9 20v2"}),n.jsx("path",{d:"M2 15h2"}),n.jsx("path",{d:"M2 9h2"}),n.jsx("path",{d:"M20 15h2"}),n.jsx("path",{d:"M20 9h2"})]}),$m=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),n.jsx("path",{d:"M21 3v5h-5"}),n.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),n.jsx("path",{d:"M3 21v-5h5"})]}),gp=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"})}),Km=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),n.jsx("path",{d:"M3 3v5h5"}),n.jsx("path",{d:"M12 7v5l4 2"})]}),pp=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),n.jsx("polyline",{points:"7 10 12 15 17 10"}),n.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),yp=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}),n.jsx("path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}),n.jsx("path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}),n.jsx("path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"})]}),Fm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"18",height:"7",x:"3",y:"3",rx:"1"}),n.jsx("rect",{width:"9",height:"7",x:"3",y:"14",rx:"1"}),n.jsx("rect",{width:"5",height:"7",x:"16",y:"14",rx:"1"})]}),as=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),n.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]}),Hn=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),n.jsx("path",{d:"M12 9v4"}),n.jsx("path",{d:"M12 17h.01"})]}),Gi=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"1"}),n.jsx("circle",{cx:"12",cy:"5",r:"1"}),n.jsx("circle",{cx:"12",cy:"19",r:"1"})]}),bp=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),Jl=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),n.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),n.jsx("path",{d:"M4 22h16"}),n.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),n.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),n.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Hr=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),n.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),n.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),Wm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10 7Z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Pm=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),n.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),e0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),n.jsx("polyline",{points:"16 7 22 7 22 13"})]}),vp=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),n.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),jp=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Np=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"11",cy:"11",r:"8"}),n.jsx("path",{d:"m21 21-4.3-4.3"})]}),Bc=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),t0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),n.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Ll=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),qr=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.59a2 2 0 0 1-2.83-2.83l8.49-8.48"})}),a0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),n.jsx("line",{x1:"9",x2:"9.01",y1:"9",y2:"9"}),n.jsx("line",{x1:"15",x2:"15.01",y1:"9",y2:"9"})]}),l0=e=>n.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),n0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"4"}),n.jsx("path",{d:"M12 2v2"}),n.jsx("path",{d:"M12 20v2"}),n.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),n.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),n.jsx("path",{d:"M2 12h2"}),n.jsx("path",{d:"M20 12h2"}),n.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),n.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Qi=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.3.05-3.18-.65-.87-2.13-.8-3.18.05Z"}),n.jsx("path",{d:"m12 15-3-3a9 9 0 0 1 3-12 9 9 0 0 1 12 3l-3 3"}),n.jsx("path",{d:"M17.5 5.5 9 14"}),n.jsx("path",{d:"M9 12c-2 3-5 6-7 8"})]}),s0=e=>n.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),n.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),n.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),n.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Hl=Object.freeze(Object.defineProperty({__proto__:null,AlertTriangleIcon:Hn,ArrowDownIcon:Jm,ArrowUpIcon:Zm,BarChartIcon:Hr,BellIcon:qi,BookOpenIcon:vp,BookmarkIcon:Um,CalendarIcon:s0,CheckCircleIcon:Ll,ChevronDownIcon:Xm,CompassIcon:Vm,CpuIcon:Lr,DownloadIcon:pp,Edit3Icon:Bc,EyeIcon:Wm,FlagIcon:as,HeartIcon:jp,HistoryIcon:Km,HomeIcon:Ym,LayoutTemplateIcon:Fm,LightbulbIcon:Hi,LinkIcon:Qm,LinkedinIcon:Gm,LoaderIcon:Ve,LogOutIcon:Bm,MapPinIcon:Pm,MaximizeIcon:yp,MessageCircleIcon:gp,MessageSquareIcon:Dt,MinusIcon:_m,MoonIcon:l0,MoreVerticalIcon:Gi,PaperclipIcon:qr,PinIcon:Rr,PlusIcon:_l,RedoIcon:qm,RefreshCwIcon:$m,RocketIcon:Qi,SearchIcon:Np,SendIcon:_r,SettingsIcon:t0,ShieldCheckIcon:Rl,ShieldIcon:bp,SmileIcon:a0,SparklesIcon:Lm,StarIcon:Vi,SunIcon:n0,TrashIcon:Ii,TrendingUpIcon:e0,TrophyIcon:Jl,UndoIcon:Hm,UserMinusIcon:Im,UserPlusIcon:Yi,UsersIcon:Ca,WifiOffIcon:ts,XIcon:Ct,ZoomResetIcon:Rm},Symbol.toStringTag,{value:"Module"})),wp=({setPage:e})=>{const[t,a]=y.useState([]),[l,s]=y.useState(!1);y.useEffect(()=>{const o=async()=>{try{const r=await C.getNotificationsByUserId();a((r||[]).sort((u,f)=>new Date(f.createdAt||0).getTime()-new Date(u.createdAt||0).getTime()))}catch(r){console.error("Failed to fetch notifications:",r)}};o();const c=setInterval(o,6e4);return()=>clearInterval(c)},[]);const i=t.filter(o=>!o.read).length;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>s(!l),className:"relative p-1 rounded-full text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white focus:outline-none",children:[n.jsx(qi,{className:"h-6 w-6"}),i>0&&n.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white dark:ring-[#1A1A24]"})]}),l&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-xl shadow-lg bg-white/80 dark:bg-[#1A1A24]/80 backdrop-blur-lg border border-gray-200 dark:border-white/10 focus:outline-none z-50",children:n.jsxs("div",{className:"py-1",children:[n.jsx("div",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white font-semibold border-b border-gray-200 dark:border-white/10",children:"Notifications"}),n.jsx("div",{className:"max-h-60 overflow-y-auto scrollbar-thin",children:t.length>0?t.slice(0,5).map(o=>n.jsxs("div",{onClick:()=>{o.link?e(o.link.page,o.link.id):(console.warn("Notification link missing:",o),e("notifications")),s(!1)},className:"block px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/5 border-b border-gray-100 dark:border-white/5 cursor-pointer",children:[n.jsx("p",{className:`${o.read?"":"font-bold text-gray-900 dark:text-white"}`,children:o.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(o.createdAt).toLocaleString()})]},o.id)):n.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No new notifications"})}),n.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-white/10",children:n.jsx("button",{onClick:()=>{e("notifications"),s(!1)},className:"w-full text-center text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300",children:"View All Notifications"})})]})})]})},Sp=({currentUser:e,isGuest:t,setPage:a,setCurrentUser:l,onGuestAction:s,onNavigateToLogin:i,theme:o,toggleTheme:c})=>{const r=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),l(null),a("feed")},u=()=>{t?s():a("newIdea")};return n.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/60 dark:bg-[#0A0A0F]/60 backdrop-blur-xl border-b border-gray-200 dark:border-white/10 z-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center space-x-8",children:n.jsx("button",{onClick:()=>a("feed"),className:"text-2xl font-bold text-gradient font-space-grotesk transition-transform hover:scale-105",children:"Synapse"})}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[n.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90 transform transition-transform hover:-translate-y-0.5 active:scale-95",children:[n.jsx(_l,{className:"h-5 w-5"}),n.jsx("span",{className:"hidden sm:inline",children:"New Idea"})]}),n.jsx("button",{onClick:c,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors","aria-label":`Switch to ${o==="dark"?"light":"dark"} mode`,children:o==="dark"?n.jsx(n0,{className:"w-5 h-5"}):n.jsx(l0,{className:"w-5 h-5"})}),t||!e?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:i,className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white px-3 py-1.5 rounded-md transition-colors",children:"Log In"}),n.jsx("button",{onClick:i,className:"text-sm font-medium text-gray-800 dark:text-white bg-gray-500/10 dark:bg-white/10 hover:bg-gray-500/20 dark:hover:bg-white/20 px-3 py-1.5 rounded-md transition-colors",children:"Sign Up"})]}):n.jsxs(n.Fragment,{children:[n.jsx(wp,{setPage:a}),n.jsx("div",{className:"relative group",children:n.jsx("button",{onClick:()=>a("profile",e.userId),className:"flex items-center transition-transform hover:scale-105","aria-label":"View Profile",children:n.jsx("img",{className:"h-8 w-8 rounded-full ring-2 ring-transparent group-hover:ring-indigo-500 transition-all object-cover",src:e.avatarUrl||"/Synapse/default-avatar.png",alt:e.displayName||e.username})})}),n.jsx("button",{onClick:r,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors","aria-label":"Logout",children:n.jsx(Bm,{className:"w-5 h-5"})})]})]})]})})})},wl=[{id:"idea-stage",name:"Idea Stage"},{id:"team-building",name:"Team Building"},{id:"in-development",name:"In Development"},{id:"launched",name:"Launched"}],ja=["Technology","Healthcare","Finance","Education","Environment","Energy","E-commerce","Entertainment","Real Estate","Food & Beverage","Travel & Hospitality","Automotive","Logistics","Arts","Fashion"],i0=["North America","Europe","Asia","South America","Africa","Australia","United States","China","Germany","Japan","India","United Kingdom","France","Canada","Brazil","Australia","South Korea","Spain","Mexico","Indonesia","Netherlands","Saudi Arabia","Switzerland","Nigeria","Argentina","Sweden"],o0=["Software Development","Data Science","AI/ML","Cybersecurity","DevOps","Mobile Development (iOS/Android)","Blockchain","Cloud Computing (AWS/Azure/GCP)","Marketing","SEO/SEM","Content Creation","Social Media Management","Digital Advertising","Public Relations","Sales","Design","UI/UX Design","Graphic Design","Industrial Design","Animation","Business","Finance & Accounting","Product Management","Human Resources","Fundraising","Operations","Legal","Writing","Scientific Research","Engineering (Mechanical/Electrical)","Videography","Customer Support"],kp={spam:"Spam or Misleading",harassment:"Harassment or Hate Speech",inappropriate:"Inappropriate Content",ip_infringement:"Intellectual Property Infringement",other:"Other"},Ir={first_thought:{id:"first_thought",name:"First Thought",description:"Post your very first idea.",goal:1,icon:"LightbulbIcon"},serial_innovator:{id:"serial_innovator",name:"Serial Innovator",description:"Post 5 different ideas.",goal:5,icon:"LightbulbIcon"},team_player:{id:"team_player",name:"Team Player",description:"Join 3 different projects as a collaborator.",goal:3,icon:"UsersIcon"},super_collaborator:{id:"super_collaborator",name:"Super Collaborator",description:"Join 10 different projects.",goal:10,icon:"TrophyIcon"},valued_critic:{id:"valued_critic",name:"Valued Critic",description:"Provide constructive feedback on 5 ideas.",goal:5,icon:"StarIcon"},community_pillar:{id:"community_pillar",name:"Community Pillar",description:"Receive 25 upvotes across all your ideas.",goal:25,icon:"TrophyIcon"}},Cp=[{id:"startup",name:"Startup Venture",description:"Structure your business idea from problem to market vision. Ideal for entrepreneurs.",icon:"CpuIcon",questionnairePrompts:{problemStatement:"What customer pain point are you solving?",targetAudience:"Who is your ideal customer profile (ICP)?",resourcesNeeded:"What key resources (funding, tech, people) do you need for an MVP?",timeline:"What is your 3-6 month roadmap?",skillsLooking:"What are the critical roles for your founding team?",visionForSuccess:"What does market leadership look like in 5 years?"}},{id:"research",name:"Research Project",description:"Outline your academic or scientific study, from hypothesis to potential impact.",icon:"BookOpenIcon",questionnairePrompts:{problemStatement:"What is your core research question or hypothesis?",targetAudience:"Who will benefit from this research (academics, industry, public)?",resourcesNeeded:"What data, equipment, or funding is required?",timeline:"What are the key phases (lit review, experiment, publishing)?",skillsLooking:"What collaborators do you need (e.g., statisticians, subject experts)?",visionForSuccess:"What would a successful publication or finding enable?"}},{id:"creative",name:"Creative Project",description:"Flesh out your artistic idea, whether it's a film, book, or performance piece.",icon:"StarIcon",questionnairePrompts:{problemStatement:"What is the core theme or artistic statement?",targetAudience:"Who is the intended audience for this work?",resourcesNeeded:"What materials, space, or collaborators do you need?",timeline:"What are the major milestones (drafting, production, exhibition)?",skillsLooking:"What skills are you seeking (e.g., illustrator, editor, musician)?",visionForSuccess:"What emotional or intellectual impact will this have on the audience?"}},{id:"impact",name:"Social Impact Initiative",description:"Define your project to create positive social or environmental change.",icon:"HeartIcon",questionnairePrompts:{problemStatement:"What specific social or environmental problem are you addressing?",targetAudience:"Which community or group are you serving?",resourcesNeeded:"What do you need (volunteers, grants, partnerships) to get started?",timeline:"What is your plan for a pilot project?",skillsLooking:"What expertise is needed (e.g., community organizers, grant writers)?",visionForSuccess:"What is the long-term, measurable change you aim to create?"}}],Ap=({currentStageId:e})=>{const t=e||"idea-stage",a=Math.max(0,wl.findIndex(l=>l.id===t));return n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10",children:[n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-1.5 rounded-full",style:{width:`${(a+.5)/wl.length*100}%`}})}),n.jsx("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:wl.map((l,s)=>n.jsx("span",{className:`w-1/4 text-center ${s===a?"font-bold text-gray-800 dark:text-white":""}`,children:l.name},l.id))})]})},Tp=({idea:e,setPage:t})=>{const[a,l]=y.useState(null),[s,i]=y.useState(!0),[o,c]=y.useState(!0);y.useEffect(()=>{(async()=>{if(c(!0),i(!0),!e.ownerId){console.warn(`Idea ${e.ideaId} is missing ownerId.`),c(!1);return}if(!await C.checkBackendHealth()){i(!1),c(!1);return}try{const j=await C.getUserById(e.ownerId);l(j)}catch(j){console.error(`Failed to fetch owner ${e.ownerId} for idea ${e.ideaId}:`,j),l(null)}finally{c(!1)}})()},[e.ownerId,e.ideaId]);const r=m=>{if(!m)return"somewhere in time";try{const v=Math.floor((new Date().getTime()-new Date(m).getTime())/1e3);if(isNaN(v)||v<0)return"just now";let j=v/31536e3;return j>1?Math.floor(j)+" years ago":(j=v/2592e3,j>1?Math.floor(j)+" months ago":(j=v/86400,j>1?Math.floor(j)+" days ago":(j=v/3600,j>1?Math.floor(j)+" hours ago":(j=v/60,j>1?Math.floor(j)+" minutes ago":Math.max(0,Math.floor(v))+" seconds ago"))))}catch(v){return console.error("Error formatting date:",m,v),"unknown date"}},u=e.likesCount??0,f=e.commentsCount??0,x=e.tags||[],d=e.progressStage;return n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24]/70 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-white/10 hover:border-indigo-500/50 hover:shadow-indigo-500/20 dark:hover:shadow-indigo-900/40 hover:-translate-y-1 transform transition-all duration-300",children:[!s&&n.jsxs("div",{className:"mb-4 p-2 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(Hn,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Owner data unavailable"})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("button",{onClick:()=>a&&t("profile",a.userId),className:"flex-shrink-0",disabled:!s||o||!a,children:o?n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 dark:bg-gray-700 animate-pulse"}):n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-300 dark:bg-gray-700",src:(a==null?void 0:a.avatarUrl)||"/Synapse/default-avatar.png",alt:(a==null?void 0:a.displayName)||(a==null?void 0:a.username)||"User",onError:m=>{const v=m.target;v.src="/Synapse/default-avatar.png"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[" ",n.jsx("div",{className:"flex justify-between items-start",children:n.jsxs("div",{className:"min-w-0",children:[" ",n.jsx("button",{onClick:()=>t("ideaDetail",e.ideaId),className:"text-xl font-bold text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 text-left truncate block",disabled:!s,title:e.title,children:e.title}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:[" ",o?n.jsx("span",{className:"inline-block h-4 w-48 bg-gray-300 dark:bg-gray-700 rounded animate-pulse"}):n.jsxs(n.Fragment,{children:["Posted by"," ",n.jsx("button",{onClick:()=>a&&t("profile",a.userId),className:"font-medium hover:underline disabled:no-underline",disabled:!s||!a,children:(a==null?void 0:a.displayName)||(a==null?void 0:a.username)||"Unknown User"})," "," ",r(e.createdAt)]})]})]})}),n.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-300 text-sm line-clamp-2",children:e.summary}),x.length>0&&n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.slice(0,3).map(m=>n.jsx("span",{className:"bg-indigo-100 dark:bg-[#252532] text-xs font-semibold px-3 py-1 rounded-full text-indigo-700 dark:text-indigo-300",children:m},m)),x.length>3&&n.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-xs font-semibold px-3 py-1 rounded-full text-gray-600 dark:text-gray-400",children:["+",x.length-3," more"]})]}),n.jsx(Ap,{currentStageId:d}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10 flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center space-x-1.5",children:[n.jsx(Hi,{className:"w-5 h-5"}),n.jsxs("span",{children:[u," ",u===1?"Like":"Likes"]})]}),n.jsxs("span",{className:"flex items-center space-x-1.5",children:[n.jsx(Dt,{className:"w-5 h-5"}),n.jsxs("span",{children:[f," ",f===1?"Comment":"Comments"]})]})]}),n.jsx("button",{onClick:()=>t("ideaDetail",e.ideaId),className:"hover:text-indigo-600 dark:hover:text-indigo-400 font-semibold disabled:opacity-50",disabled:!s,children:"View Details "})]})]})]})]})},Ha=vi.memo(Tp),Mp=e=>!e||!(e in Hl)?Jl:Hl[e],Ep=({post:e,setPage:t})=>{const[a,l]=y.useState(null),[s,i]=y.useState(!0),o=e!=null&&e.achievementId?Ir[e.achievementId]:null;if(y.useEffect(()=>{(async()=>{i(!0);try{if(e!=null&&e.userId){const u=await C.getUserById(e.userId);l(u)}else console.warn("Achievement post is missing userId:",e)}catch(u){console.error(`Failed to fetch user ${e==null?void 0:e.userId} for achievement post:`,u)}finally{i(!1)}})()},[e==null?void 0:e.userId]),s||!a||!o)return n.jsx("div",{className:"bg-[#1A1A24] p-4 rounded-lg shadow animate-pulse h-32 border border-white/10"});const c=Mp(o.icon);return n.jsx("div",{className:"bg-[#1A1A24] p-4 rounded-lg shadow border border-white/10",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("img",{className:"h-12 w-12 rounded-full object-cover",src:a.avatarUrl||"/Synapse/default-avatar.png",alt:a.displayName||a.username}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-gray-400",children:[n.jsx("button",{onClick:()=>t("profile",a.userId),className:"font-medium hover:underline text-white",children:a.displayName||a.username})," unlocked the achievement:"]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-3 bg-[#252532] p-3 rounded-md",children:[n.jsx(c,{className:"w-6 h-6 text-yellow-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:o.name}),n.jsx("p",{className:"text-xs text-gray-400",children:o.description})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 text-right",children:e.createdAt?new Date(e.createdAt).toLocaleString():"Date unknown"})]})]})})},Yr=e=>{if(!e)return"unknown date";try{const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return console.warn("Invalid date passed to timeAgo:",e),"unknown date";const a=Math.floor((new Date().getTime()-t.getTime())/1e3);if(a<0&&Math.abs(a)<5)return"just now";if(a<0)return"in the future";if(a<60)return`${a} seconds ago`;let l=a/31536e3;return l>1?Math.floor(l)+(Math.floor(l)===1?" year ago":" years ago"):(l=a/2592e3,l>1?Math.floor(l)+(Math.floor(l)===1?" month ago":" months ago"):(l=a/86400,l>1?Math.floor(l)+(Math.floor(l)===1?" day ago":" days ago"):(l=a/3600,l>1?Math.floor(l)+(Math.floor(l)===1?" hour ago":" hours ago"):(l=a/60,l>1?Math.floor(l)+(Math.floor(l)===1?" minute ago":" minutes ago"):"just now"))))}catch(t){return console.error("Error formatting date in timeAgo:",e,t),"unknown date"}},Dp=({post:e,setPage:t})=>{const[a,l]=y.useState(null),[s,i]=y.useState(null),[o,c]=y.useState(!0);return y.useEffect(()=>{(async()=>{c(!0);try{if(!e.ideaId){console.warn("Milestone post missing ideaId:",e),c(!1);return}const u=await C.getIdeaById(e.ideaId);if(i(u),u!=null&&u.ownerId){const f=await C.getUserById(u.ownerId);l(f)}else if(e.userId){const f=await C.getUserById(e.userId);l(f)}else console.warn("Could not determine user for milestone post:",e)}catch(u){console.error("Failed to fetch milestone post data:",u)}finally{c(!1)}})()},[e.ideaId,e.userId]),o?n.jsx("div",{className:"bg-gradient-to-br from-[#1A1A24] to-[#1D2E3A] rounded-2xl p-6 shadow-lg border border-cyan-400/20 animate-pulse h-40"}):!a||!s?null:n.jsx("div",{className:"bg-gradient-to-br from-[#1A1A24] to-[#1D2E3A] rounded-2xl p-6 shadow-lg border border-cyan-400/20",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("button",{onClick:()=>t("profile",a.userId),className:"flex-shrink-0",children:n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-700",src:a.avatarUrl||"/Synapse/default-avatar.png",alt:a.displayName||a.username})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[" ",n.jsxs("p",{className:"text-sm text-gray-400 mb-2 truncate",children:[" ",n.jsx("button",{onClick:()=>t("profile",a.userId),className:"font-medium hover:underline text-white",children:a.displayName||a.username}),"'s project"," ",n.jsx("button",{onClick:()=>t("ideaDetail",s.ideaId),className:"font-medium hover:underline text-indigo-400",children:s.title})," ","just achieved a milestone  ",Yr(e.createdAt)]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg flex items-center space-x-4 border border-white/10",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-cyan-400/10 flex-shrink-0",children:n.jsx(Qi,{className:"w-8 h-8 text-cyan-400"})}),n.jsxs("div",{className:"min-w-0",children:[" ",n.jsx("p",{className:"text-sm text-gray-400",children:"Milestone Completed"}),n.jsx("h3",{className:"font-bold text-xl text-white truncate",title:e.milestoneTitle||e.title,children:e.milestoneTitle||e.title||"Untitled Milestone"}),n.jsx("button",{onClick:()=>t("ideaDetail",s.ideaId),className:"mt-2 text-cyan-400 text-sm font-semibold hover:underline",children:"View Project Progress "})]})]})]})]})})},yd=(e,t)=>{if(!t)return 0;const a=e.requiredSkills||[],l=e.tags||[],s=new Set((t.skills||[]).map(c=>c.skillName)),i=new Set(t.interests||[]);let o=0;return a.forEach(c=>{s.has(c)&&(o+=15)}),l.forEach(c=>{i.has(c)&&(o+=5)}),e.sector&&i.has(e.sector)&&(o+=10),o},bd=e=>{const t=e.createdAt?new Date(e.createdAt).getTime():Date.now(),a=(Date.now()-t)/(1e3*60*60),l=1.8;return((e.likesCount||0)+(e.commentsCount||0)*2)/Math.pow(Math.max(a,0)+2,l)},vd=e=>{var i;let t=0;const a=e.requiredSkills||[],l=e.collaborators||[];return t+=a.length*5,t+=(e.commentsCount||0)*2,l.length===0?t+=25:t+=10/l.length,(((i=e.questionnaire)==null?void 0:i.skillsLooking)||"").trim().length>5&&(t+=15),t},jd=(e,t)=>{if(!t||!t.skills||t.skills.length===0)return 0;const a=e.requiredSkills||[],l=new Set((t.skills||[]).map(i=>i.skillName));let s=0;return a.forEach(i=>{l.has(i)&&s++}),s},el=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0),[o,c]=y.useState(null),[r,u]=y.useState(""),[f,x]=y.useState(e?"relevant":"trending"),[d,m]=y.useState(()=>({sector:((e==null?void 0:e.interests)||[]).find(S=>ja.includes(S))||"",region:"",skills:[]}));y.useEffect(()=>{(async()=>{i(!0),c(null);try{const w=await C.getFeedItems();l(w||[])}catch(w){c(`Failed to load the feed: ${w.message||"Please try again later."}`),console.error(w)}finally{i(!1)}})()},[]);const v=y.useMemo(()=>{let N=[...a];return N=N.filter(w=>{if(w.type==="achievement"||w.type==="milestone")return!0;const S=w.data;if(!S)return!1;const D=S.title||"",E=S.summary||"",M=S.requiredSkills||[];let O=!0;if(r.trim()!==""){const I=r.toLowerCase();O=D.toLowerCase().includes(I)||E.toLowerCase().includes(I)}return O&&d.sector&&(O=S.sector===d.sector),O&&d.region&&(O=S.region===d.region),O&&d.skills.length>0&&(O=d.skills.some(I=>M.includes(I))),O}),N.sort((w,S)=>{const D=w.data.createdAt?new Date(w.data.createdAt).getTime():0,E=S.data.createdAt?new Date(S.data.createdAt).getTime():0;if(f==="newest")return E-D;let M=-1,O=-1;if(w.type==="idea"&&S.type==="idea")switch(f){case"likes":M=w.data.likesCount||0,O=S.data.likesCount||0;break;case"relevant":M=yd(w.data,e),O=yd(S.data,e);break;case"skillMatch":M=jd(w.data,e),O=jd(S.data,e);break;case"trending":M=bd(w.data),O=bd(S.data);break;case"collaboration":M=vd(w.data),O=vd(S.data);break}else w.type==="idea"?(M=1,O=-1):S.type==="idea"&&(M=-1,O=1);return O!==M?O-M:E-D}),N},[d,a,r,f,e]),j=N=>{const{name:w,value:S}=N.target;m(D=>({...D,[w]:S}))},T=N=>{u(N.target.value)},g=N=>{const{options:w}=N.target,S=[];for(let D=0,E=w.length;D<E;D++)w[D].selected&&S.push(w[D].value);m(D=>({...D,skills:S}))},h=N=>{x(N.target.value)},p=()=>{m({sector:"",region:"",skills:[]}),u("")},b="block w-full bg-white dark:bg-[#252532] border-2 border-gray-300 dark:border-[#374151] rounded-lg shadow-sm py-2 px-3 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500";return n.jsx("div",{className:"container mx-auto p-4 md:p-8 animate-fadeInUp",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Idea Feed"}),n.jsxs("div",{className:"bg-white dark:bg-[#1A1A24]/70 backdrop-blur-md p-4 rounded-2xl border border-gray-200 dark:border-white/10 mb-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{htmlFor:"search-ideas",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Search Ideas"}),n.jsx("input",{id:"search-ideas",type:"text",name:"search",placeholder:"Search by keywords in title or summary...",value:r,onChange:T,className:b})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sector-filter",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Sector"}),n.jsxs("select",{id:"sector-filter",name:"sector",value:d.sector,onChange:j,className:b,children:[n.jsx("option",{value:"",children:"All Sectors"}),ja.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"region-filter",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Region"}),n.jsxs("select",{id:"region-filter",name:"region",value:d.region,onChange:j,className:b,children:[n.jsx("option",{value:"",children:"All Regions"}),i0.map(N=>n.jsx("option",{value:N,children:N},N))]})]}),n.jsxs("div",{className:"md:col-span-1",children:[n.jsx("label",{htmlFor:"skills-filter",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Skills"}),n.jsx("select",{id:"skills-filter",name:"skills",multiple:!0,value:d.skills,onChange:g,className:`${b} h-24 scrollbar-thin`,children:o0.map(N=>n.jsx("option",{value:N,children:N},N))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sort-order",className:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Sort By"}),n.jsxs("select",{id:"sort-order",name:"sortOrder",value:f,onChange:h,className:b,children:[n.jsx("option",{value:"relevant",children:"Most Relevant"}),e&&n.jsx("option",{value:"skillMatch",children:"Skill Match"}),n.jsx("option",{value:"trending",children:"Trending"}),n.jsx("option",{value:"likes",children:"Most Liked"}),n.jsx("option",{value:"collaboration",children:"Collaboration Opportunity"}),n.jsx("option",{value:"newest",children:"Newest"})]})]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:p,className:"text-sm text-indigo-500 dark:text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-300",children:"Clear All Filters"})})]}),s&&n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}),o&&n.jsx("div",{className:"bg-red-900/20 border border-red-500/30 text-red-300 p-4 rounded-lg text-center",children:o}),!s&&!o&&n.jsx("div",{className:"space-y-6",children:v.length>0?v.map(N=>N.data?N.type==="idea"?n.jsx(Ha,{idea:N.data,setPage:t},N.data.ideaId):N.type==="achievement"?N.data.postId?n.jsx(Ep,{post:N.data,setPage:t},N.data.postId):null:N.type==="milestone"&&N.data.postId?n.jsx(Dp,{post:N.data,setPage:t},N.data.postId):null:null):n.jsx("div",{className:"bg-white dark:bg-[#1A1A24]/70 backdrop-blur-md p-8 rounded-2xl text-center text-gray-500 border border-gray-200 dark:border-white/10",children:"No items match your filter criteria."})})]})})},c0=({contentId:e,contentType:t,contentTitle:a,currentUser:l,onClose:s,onSubmit:i})=>{const[o,c]=y.useState("spam"),[r,u]=y.useState(""),[f,x]=y.useState(!1),d=async m=>{if(m.preventDefault(),!r.trim()){alert("Please provide some details for your report.");return}x(!0),await i(o,r),x(!1)};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[n.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx(as,{className:"w-6 h-6 text-red-400"}),n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Report Content"})]}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["You are reporting: ",n.jsx("span",{className:"font-semibold text-indigo-400",children:a})]}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-300 mb-1",children:"Reason for reporting"}),n.jsx("select",{id:"reason",value:o,onChange:m=>c(m.target.value),className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:Object.entries(kp).map(([m,v])=>n.jsx("option",{value:m,children:v},m))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"details",className:"block text-sm font-medium text-gray-300 mb-1",children:"Details"}),n.jsx("textarea",{id:"details",value:r,onChange:m=>u(m.target.value),rows:4,required:!0,placeholder:`Please provide specific details about why you are reporting this ${t}.`,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsx("button",{type:"submit",disabled:f,className:"bg-gradient-to-r from-red-500 to-orange-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:f?"Submitting...":"Submit Report"})})]})]})})},Op=({achievement:e})=>{const t=!!e.unlockedAt,a=Math.min(e.progress/e.goal*100,100),l=Hl[e.icon]||Jl;return n.jsxs("div",{className:`bg-[#1A1A24] p-6 rounded-2xl shadow-lg border ${t?"border-yellow-400/30":"border-white/10"} flex flex-col items-center text-center transition-all duration-300`,children:[n.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-4 ${t?"bg-yellow-400/10":"bg-[#252532]"}`,children:n.jsx(l,{className:`w-10 h-10 ${t?"text-yellow-400":"text-gray-400"}`})}),n.jsx("h3",{className:`font-bold text-lg ${t?"text-white":"text-gray-300"}`,children:e.name}),n.jsx("p",{className:"text-sm text-gray-400 mt-1 h-10",children:e.description}),n.jsx("div",{className:"w-full mt-4",children:t?n.jsxs("div",{className:"text-center font-semibold text-yellow-400 bg-yellow-400/10 py-1.5 rounded-lg",children:["Unlocked on ",new Date(e.unlockedAt).toLocaleDateString()]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[e.progress," / ",e.goal]})]}),n.jsx("div",{className:"w-full bg-[#252532] rounded-full h-2.5",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2.5 rounded-full",style:{width:`${a}%`}})})]})})]})},qn=({icon:e,title:t,message:a,ctaText:l,onCtaClick:s})=>n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md border border-dashed border-white/20 p-8 rounded-2xl text-center flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-indigo-500/10 border-2 border-indigo-500/30 mb-4",children:n.jsx(e,{className:"w-8 h-8 text-indigo-400"})}),n.jsx("h3",{className:"text-xl font-bold text-white",children:t}),n.jsx("p",{className:"text-gray-400 mt-2 max-w-xs",children:a}),l&&s&&n.jsx("button",{onClick:s,className:"mt-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold px-6 py-2.5 rounded-lg shadow-md hover:opacity-90 transition-opacity active:scale-95",children:l})]}),zp=({skill:e,currentUser:t,isEndorsable:a,onEndorse:l})=>{const[s,i]=y.useState([]),o=y.useMemo(()=>(e==null?void 0:e.endorsers)||[],[e==null?void 0:e.endorsers]);y.useEffect(()=>{(async()=>{if(o.length!==0)try{const u=await Promise.all(o.slice(0,3).map(f=>C.getUserById(f)));i(u.filter(f=>f!==null))}catch(u){console.error("Failed to fetch endorsers:",u)}})()},[o]);const c=!!t&&o.includes(t.userId);return n.jsxs("div",{className:"bg-[#252532] rounded-lg p-3 flex items-center space-x-3 transition-colors duration-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-white",children:(e==null?void 0:e.skillName)||"Unnamed Skill"}),o.length>0?n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx("div",{className:"flex -space-x-2",children:s.map(r=>n.jsx("img",{src:r.avatarUrl||"/Synapse/default-avatar.png",alt:r.displayName||"User",className:"w-5 h-5 rounded-full ring-2 ring-[#252532]"},r.userId))}),n.jsxs("span",{className:"text-xs text-gray-400",children:["Endorsed by ",o.length," ",o.length===1?"person":"people"]})]}):n.jsx("p",{className:"text-xs text-gray-500",children:"No endorsements yet."})]}),a&&t&&n.jsx("button",{onClick:l,className:`p-2 rounded-full transition-all duration-200 ${c?"bg-indigo-600 text-white":"bg-gray-600 hover:bg-indigo-600 text-gray-300"}`,title:c?"Retract Endorsement":"Endorse Skill","aria-pressed":c,children:n.jsx(_l,{className:`w-4 h-4 transition-transform ${c?"rotate-45":"rotate-0"}`})})]})},Bp=vi.memo(zp),Up=({userId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState([]),[u,f]=y.useState([]),[x,d]=y.useState(!0),[m,v]=y.useState(null),[j,T]=y.useState(!1),[g,h]=y.useState(!1),[p,b]=y.useState(!1),[N,w]=y.useState(!1),[S,D]=y.useState("ideas");y.useEffect(()=>{(async()=>{d(!0),v(null),s(null),o([]),r([]),f([]);try{const U=await C.getUserById(e);if(!U){v("User not found."),d(!1);return}s(U);const[A,H,_]=await Promise.all([C.getIdeasByOwnerId(e),C.getIdeasByCollaboratorId(e),C.getUserAchievements(e)]);o(A||[]),r(H||[]),f(_||[]),T(!!t&&(t.connections||[]).includes(e))}catch(U){v("Failed to fetch profile data."),console.error("Profile fetch error:",U)}finally{d(!1)}})()},[e,t==null?void 0:t.connections,t==null?void 0:t.userId]);const E=async()=>{if(!(g||!t)){h(!0);try{await C.sendConnectionRequest(e),T(!j)}catch(L){console.error("Connection request failed:",L),alert("Failed to send connection request.")}finally{h(!1)}}},M=async L=>{if(!(!l||!t))try{const U=await C.endorseSkill(l.userId,L);U&&s(A=>A?{...A,skills:U.skills}:null)}catch(U){console.error("Endorsement failed:",U),alert("Failed to endorse skill.")}},O=()=>{t&&(w(!0),b(!1))},I=async(L,U)=>{if(!(!l||!t))try{await C.submitReport({contentType:"user",contentId:l.userId,reason:L,details:U}),w(!1),alert("Thank you for your report. Our team will review this shortly.")}catch(A){console.error("Report submission failed:",A),alert("Failed to submit report.")}};if(x)return n.jsx("div",{className:"text-center p-8",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400 inline-block"})});if(m)return n.jsx("div",{className:"text-center p-8 text-red-400",children:m});if(!l)return n.jsx("div",{className:"text-center p-8",children:"User not found."});const ee=(t==null?void 0:t.userId)===l.userId;return n.jsxs(n.Fragment,{children:[N&&t&&n.jsx(c0,{contentId:l.userId,contentType:"user",contentTitle:`the profile of ${l.displayName||"this user"}`,currentUser:t,onClose:()=>w(!1),onSubmit:I}),n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 p-8",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start sm:space-x-8",children:[n.jsx("img",{src:l.avatarUrl||"/Synapse/default-avatar.png",alt:l.displayName||"User",className:"w-32 h-32 rounded-full ring-4 ring-indigo-500/50 object-cover"}),n.jsxs("div",{className:"flex-1 mt-4 sm:mt-0 text-center sm:text-left",children:[n.jsxs("div",{className:"flex items-center justify-center sm:justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:l.displayName||"User"}),n.jsxs("div",{className:"relative ml-4",children:[t&&!ee&&n.jsx("button",{onClick:()=>b(!p),className:"p-2 rounded-full hover:bg-white/10",children:n.jsx(Gi,{className:"w-5 h-5 text-gray-400"})}),p&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-[#252532] ring-1 ring-black ring-opacity-5 z-10",children:n.jsx("div",{className:"py-1",children:n.jsxs("button",{onClick:O,className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(as,{className:"w-4 h-4"}),n.jsx("span",{children:"Report User"})]})})})]})]}),n.jsx("p",{className:"text-gray-300 mt-2",children:l.bio||"No bio provided."}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 justify-center sm:justify-start",children:[t&&!ee&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{disabled:g,onClick:E,className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[n.jsx(Ca,{className:"w-5 h-5"}),n.jsx("span",{children:j?"Connected":"Connect"})]}),n.jsxs("button",{onClick:async()=>{if(t)try{const L=await C.startConversation(l.userId);a("chat",L.conversationId||L.id)}catch(L){console.error("Failed to start conversation",L),alert("Could not start conversation.")}},className:"flex items-center space-x-2 bg-[#252532] text-white px-4 py-2 rounded-lg hover:bg-[#374151]",children:[n.jsx(Dt,{className:"w-5 h-5"}),n.jsx("span",{children:"Message"})]})]}),l.linkedInUrl&&n.jsx("a",{href:l.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(Gm,{className:"w-6 h-6"})}),l.portfolioUrl&&n.jsx("a",{href:l.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(Qm,{className:"w-6 h-6"})})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Skills & Endorsements"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(l.skills||[]).length>0?(l.skills||[]).map(L=>n.jsx(Bp,{skill:L,currentUser:t,isEndorsable:!!t&&!ee,onEndorse:()=>M(L.skillName)},L.skillName)):n.jsx("p",{className:"text-gray-500 col-span-full",children:"No skills listed yet."})})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"border-b border-white/10",children:n.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[n.jsxs("button",{onClick:()=>D("ideas"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${S==="ideas"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Ideas (",(i||[]).length+(c||[]).length,")"]}),n.jsxs("button",{onClick:()=>D("achievements"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${S==="achievements"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Achievements (",(u||[]).filter(L=>L==null?void 0:L.unlockedAt).length,")"]})]})}),n.jsxs("div",{className:"py-6",children:[S==="ideas"&&n.jsxs("div",{className:"space-y-6",children:[(i||[]).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Owned Ideas"}),n.jsx("div",{className:"space-y-4",children:i.map(L=>n.jsx(Ha,{idea:L,setPage:a},L.ideaId))})]}),(c||[]).length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Collaborating On"}),n.jsx("div",{className:"space-y-4",children:c.map(L=>n.jsx(Ha,{idea:L,setPage:a},L.ideaId))})]}),(i||[]).length===0&&(c||[]).length===0&&n.jsx(qn,{icon:Hi,title:"No Ideas Yet",message:`${ee?"You haven't":`${l.displayName||"This user"} hasn't`} posted or joined any ideas yet.`,...ee&&{ctaText:"Post Your First Idea",onCtaClick:()=>a("newIdea")}})]}),S==="achievements"&&n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(u||[]).length>0?(u||[]).map(L=>{const U=L?Ir[L.achievementId]:null;if(!U)return null;const A={...U,progress:L.progress||0,unlockedAt:L.unlockedAt};return n.jsx(Op,{achievement:A},L.achievementId)}):n.jsx("div",{className:"col-span-full",children:n.jsx(qn,{icon:Jl,title:"No Achievements",message:`${l.displayName||"This user"} hasn't unlocked any achievements yet.`})})})]})]})]})})]})},_p=({ideaId:e,milestone:t,onClose:a,onSave:l})=>{const[s,i]=y.useState((t==null?void 0:t.title)||""),[o,c]=y.useState((t==null?void 0:t.description)||""),[r,u]=y.useState(t!=null&&t.targetDate?new Date(t.targetDate).toISOString().split("T")[0]:""),[f,x]=y.useState(!1),[d,m]=y.useState(!0),v=async j=>{if(j.preventDefault(),!s||!o||!r){alert("Please fill out all fields.");return}if(!await C.checkBackendHealth()){m(!1),alert("Backend service is currently unavailable. Please try again later.");return}m(!0),x(!0);try{const g={title:s,description:o,targetDate:new Date(r).toISOString()};let h;t!=null&&t.id?h=await C.editMilestone(e,t.id,g):h=await C.addMilestone(e,g),l(h),a()}catch(g){console.error("Failed to save milestone:",g),alert(`Failed to save milestone: ${g.message}`)}finally{x(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[!d&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(ts,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Backend service unavailable"})]}),n.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:[t!=null&&t.id?"Edit":"Add"," Milestone"]}),n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),n.jsx("input",{type:"text",value:s,onChange:j=>i(j.target.value),required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),n.jsx("textarea",{value:o,onChange:j=>c(j.target.value),rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Target Date"}),n.jsx("input",{type:"date",value:r,onChange:j=>u(j.target.value),required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]}),n.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:a,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:f||!d,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:f?"Saving...":"Save Milestone"})]})]})]})})},Sl=({rating:e=0,setRating:t,size:a="w-6 h-6"})=>n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(l=>n.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(l),className:`text-gray-500 transition-colors ${t?"cursor-pointer":"cursor-default"} ${e>=l?"text-yellow-400":t?"hover:text-yellow-300":""}`,disabled:!t,"aria-label":`Rate ${l} out of 5 stars`,children:n.jsx(Vi,{className:`${a} ${e>=l?"fill-current":""}`})},l))}),Rp=({idea:e,currentUser:t,onClose:a,onSubmit:l})=>{const[s,i]=y.useState({problemClarity:null,solutionViability:null,marketPotential:null}),[o,c]=y.useState(""),[r,u]=y.useState(!1),[f,x]=y.useState(!0),d=(v,j)=>{i(T=>({...T,[v]:j}))},m=async v=>{if(v.preventDefault(),Object.values(s).some(T=>T===null)||!o.trim()){alert("Please provide a rating for all categories and a comment.");return}if(!t){alert("Please log in to submit feedback.");return}if(!await C.checkBackendHealth()){x(!1),alert("Backend service is currently unavailable. Please try again later.");return}x(!0),u(!0);try{const T={ideaId:e.ideaId,ratings:{problemClarity:s.problemClarity??0,solutionViability:s.solutionViability??0,marketPotential:s.marketPotential??0},comment:o,feasibility:s.solutionViability,innovation:s.problemClarity,marketPotential:s.marketPotential},{feedback:g,unlockedAchievements:h}=await C.submitFeedback(T);l(g,h||[]),a()}catch(T){console.error("Failed to submit feedback:",T),alert(`Failed to submit feedback: ${T.message}`)}finally{u(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[!f&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(ts,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Backend service unavailable"})]}),n.jsx("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Provide Feedback"}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["On idea: ",n.jsx("span",{className:"font-semibold text-indigo-400",children:e.title})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"font-medium text-gray-300",children:"Problem Clarity"}),n.jsx(Sl,{rating:s.problemClarity??0,setRating:v=>d("problemClarity",v)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"font-medium text-gray-300",children:"Solution Viability"}),n.jsx(Sl,{rating:s.solutionViability??0,setRating:v=>d("solutionViability",v)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"font-medium text-gray-300",children:"Market Potential"}),n.jsx(Sl,{rating:s.marketPotential??0,setRating:v=>d("marketPotential",v)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Comment"}),n.jsx("textarea",{value:o,onChange:v=>c(v.target.value),rows:4,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:a,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:r||!f,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:r?"Submitting...":"Submit Feedback"})]})]})]})})},Lp=({feedback:e})=>{var r,u,f;const[t,a]=y.useState(null),[l,s]=y.useState(!0);if(y.useEffect(()=>{(async()=>{if(!e.userId)return;if(!await C.checkBackendHealth()){s(!1);return}s(!0);try{const m=await C.getUserById(e.userId);a(m)}catch(m){console.error("Failed to fetch feedback user:",m)}})()},[e.userId]),!l)return n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsx("div",{className:"flex-1 bg-red-900/20 border border-red-700/30 text-red-300 text-sm p-3 rounded-lg",children:"User data unavailable"})]});if(!t)return n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg animate-pulse h-24"});const i=e.feasibility??((r=e.ratings)==null?void 0:r.problemClarity),o=e.innovation??((u=e.ratings)==null?void 0:u.solutionViability),c=e.marketPotential??e.market_potential??((f=e.ratings)==null?void 0:f.marketPotential);return n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("img",{src:t.avatarUrl||"/default-avatar.png",alt:t.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-baseline space-x-2",children:[n.jsx("span",{className:"font-semibold text-white",children:t.displayName||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt||e.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-x-4 my-2 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-400",children:"Problem:"}),n.jsx(Sl,{rating:i,size:"w-4 h-4"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-400",children:"Solution:"}),n.jsx(Sl,{rating:o,size:"w-4 h-4"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-400",children:"Potential:"}),n.jsx(Sl,{rating:c,size:"w-4 h-4"})]})]}),e.comment&&n.jsx("p",{className:"text-gray-300 mt-1 bg-[#252532]/50 p-3 rounded-lg",children:e.comment})]})]})},Hp=({idea:e,onClose:t,onSubmit:a})=>{const[l,s]=y.useState({skills:"",contribution:"",motivation:""}),[i,o]=y.useState(!0),[c,r]=y.useState(!1),u=x=>{const{name:d,value:m}=x.target;s(v=>({...v,[d]:m}))},f=async x=>{if(x.preventDefault(),!await C.checkBackendHealth()){o(!1),alert("Backend service is currently unavailable. Please try again later.");return}o(!0),r(!0);try{await a(l)}finally{r(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-lg w-full p-8 relative",children:[!i&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-2",children:[n.jsx(ts,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-300 text-sm",children:"Backend service unavailable"})]}),n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Request to Collaborate"}),n.jsxs("p",{className:"text-gray-400 mb-6",children:["On idea: ",n.jsx("span",{className:"font-semibold text-indigo-400",children:e.title})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What relevant skills/experience can you contribute?"}),n.jsx("textarea",{name:"skills",value:l.skills,onChange:u,rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What would you like to contribute?"}),n.jsx("textarea",{name:"contribution",value:l.contribution,onChange:u,rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"What is your motivation for joining?"}),n.jsx("textarea",{name:"motivation",value:l.motivation,onChange:u,rows:3,required:!0,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"pt-4 flex justify-end",children:n.jsx("button",{type:"submit",disabled:c||!i,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:c?"Submitting...":"Submit Request"})})]})]})})},qp=({request:e,onApprove:t,onDeny:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState(!0),[c,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e.requesterId){r(!1);return}if(r(!0),!await C.checkBackendHealth()){o(!1),r(!1);return}o(!0);try{const x=await C.getUserById(e.requesterId);s(x)}catch(x){console.error("Failed to fetch requester:",x)}finally{r(!1)}})()},[e.requesterId]),i?c?n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg animate-pulse h-40"}):l?n.jsxs("div",{className:"bg-[#252532]/50 p-4 rounded-lg border border-white/10",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("img",{src:l.avatarUrl||"/default-avatar.png",alt:l.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white",children:l.displayName||"User"}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Sent on ",new Date(e.createdAt).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-indigo-300",children:"Skills/Experience"}),n.jsx("p",{className:"text-gray-300",children:e.skills||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-indigo-300",children:"Contribution"}),n.jsx("p",{className:"text-gray-300",children:e.contribution||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-indigo-300",children:"Motivation"}),n.jsx("p",{className:"text-gray-300",children:e.motivation||"Not provided"})]})]}),e.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>t(e.requestId),className:"flex-1 bg-green-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>a(e.requestId),className:"flex-1 bg-red-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-red-700",children:"Deny"})]})]}):n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg",children:n.jsx("p",{className:"text-gray-500 text-sm",children:"Could not load requester details."})}):n.jsx("div",{className:"bg-[#252532]/50 p-4 rounded-lg border border-red-700/30",children:n.jsx("div",{className:"text-red-300 text-sm text-center",children:"User data unavailable"})})},Ip=({comment:e,onReport:t,isGuest:a,currentUser:l})=>{const[s,i]=y.useState(null),[o,c]=y.useState(!1),[r,u]=y.useState(!0),[f,x]=y.useState(!0);y.useEffect(()=>{(async()=>{if(!e.userId){x(!1);return}if(x(!0),!await C.checkBackendHealth()){u(!1),x(!1);return}u(!0);try{const j=await C.getUserById(e.userId);i(j)}catch(j){console.error("Failed to fetch commenter:",j)}finally{x(!1)}})()},[e.userId]);const d=m=>{if(!m)return"unknown time";try{const v=Math.floor((new Date().getTime()-new Date(m).getTime())/1e3);if(isNaN(v)||v<0)return"just now";let j=v/31536e3;return j>1?Math.floor(j)+" years ago":(j=v/2592e3,j>1?Math.floor(j)+" months ago":(j=v/86400,j>1?Math.floor(j)+" days ago":(j=v/3600,j>1?Math.floor(j)+" hours ago":(j=v/60,j>1?Math.floor(j)+" minutes ago":Math.max(0,Math.floor(v))+" seconds ago"))))}catch(v){return console.error("Error formatting comment date:",m,v),"unknown date"}};return r?f?n.jsxs("div",{className:"flex items-start space-x-3 py-4 animate-pulse",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/4"}),n.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"})]})]}):e.isUnderReview?n.jsxs("div",{className:"flex items-center space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsx("div",{className:"flex-1 bg-yellow-900/20 border border-yellow-700/30 text-yellow-300 text-sm p-3 rounded-lg",children:"This comment is currently under review."})]}):s?n.jsxs("div",{className:"flex items-start space-x-3 py-4 group",children:[n.jsx("img",{src:s.avatarUrl||"/default-avatar.png",alt:s.displayName||"User",className:"w-10 h-10 rounded-full object-cover"}),n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"bg-[#252532]/50 p-3 rounded-lg rounded-tl-none relative",children:[n.jsxs("div",{className:"flex items-baseline space-x-2",children:[n.jsx("span",{className:"font-semibold text-white",children:s.displayName||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:d(e.createdAt||e.created_at)})]}),n.jsx("p",{className:"text-gray-300 mt-1",children:e.text}),n.jsxs("div",{className:"absolute top-2 right-2",children:[!a&&(l==null?void 0:l.userId)!==e.userId&&n.jsx("button",{onClick:()=>c(!o),className:"p-1 rounded-full opacity-0 group-hover:opacity-100 hover:bg-white/10 text-gray-400 hover:text-white",children:n.jsx(Gi,{className:"w-4 h-4"})}),o&&!a&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-32 rounded-md shadow-lg bg-[#374151] ring-1 ring-black ring-opacity-5 z-10",children:n.jsx("div",{className:"py-1",children:n.jsxs("button",{onClick:()=>{t(e.commentId||e.id),c(!1)},className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(as,{className:"w-4 h-4"}),n.jsx("span",{children:"Report"})]})})})]})]})})]}):n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-gray-500 text-sm",children:"Could not load commenter details."}),n.jsx("p",{className:"text-gray-300 mt-1",children:e.text})]})]}):n.jsxs("div",{className:"flex items-start space-x-3 py-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex-shrink-0"}),n.jsx("div",{className:"flex-1 bg-red-900/20 border border-red-700/30 text-red-300 text-sm p-3 rounded-lg",children:"User data unavailable"})]})},Yp=({record:e})=>{const[t,a]=y.useState(null),[l,s]=y.useState(!0),[i,o]=y.useState(!1);y.useEffect(()=>{(async()=>{if(e.recordType==="collaboration"&&e.collaboratorId){if(o(!0),!await C.checkBackendHealth()){s(!1),o(!1);return}s(!0);try{const v=await C.getUserById(e.collaboratorId);a(v)}catch(v){console.error("Failed to fetch collaborator:",v)}finally{o(!1)}}})()},[e.recordType,e.collaboratorId]);const c=()=>{switch(e.recordType){case"timestamp":return{icon:n.jsx(Rl,{className:"w-6 h-6 text-emerald-400 flex-shrink-0"}),title:"Idea Timestamped",description:"The creation of this idea was permanently recorded on the blockchain."};case"collaboration":let d="A collaboration event was recorded.";return i?d="Loading collaborator details...":t?d=`${t.displayName||"A user"} officially joined the project.`:l?d="Could not load collaborator details.":d="Collaborator details unavailable (service offline).",{icon:n.jsx(Yi,{className:"w-6 h-6 text-sky-400 flex-shrink-0"}),title:"Collaboration Agreement",description:d};default:return{icon:n.jsx(Rl,{className:"w-6 h-6 text-gray-400 flex-shrink-0"}),title:"Blockchain Event",description:"An event was recorded on the blockchain."}}},{icon:r,title:u,description:f}=c(),x=e.blockchainNetwork==="Polygon"?`https://polygonscan.com/tx/${e.transactionHash}`:"/#";return n.jsxs("div",{className:"bg-[#252532]/50 border border-white/10 rounded-lg p-4 flex items-start space-x-4",children:[r,n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-white",children:u}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:f}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.timestamp?new Date(e.timestamp).toLocaleString():"Date Unknown","  ",e.blockchainNetwork||"Unknown Network"]}),e.transactionHash&&n.jsxs("p",{className:"text-sm text-gray-400 mt-1 break-all",children:["Tx Hash:",n.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-indigo-300 hover:underline ml-1 text-xs",title:e.transactionHash,children:`${e.transactionHash.substring(0,6)}...${e.transactionHash.substring(e.transactionHash.length-4)}`})]})]})]})},Vp=({user:e,setPage:t})=>{const a=e.matchScore??0,l=a>85?"text-emerald-400":a>70?"text-yellow-400":"text-orange-400";return n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg flex flex-col items-center text-center",children:[n.jsxs("div",{className:"relative w-20 h-20",children:[n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[n.jsx("circle",{className:"text-gray-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"}),n.jsx("circle",{className:l,strokeWidth:"8",strokeDasharray:2*Math.PI*45,strokeDashoffset:2*Math.PI*45*(1-a/100),strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%"}})]}),n.jsx("img",{src:e.avatarUrl||"/default-avatar.png",alt:e.displayName||"User",className:"absolute top-1/2 left-1/2 w-16 h-16 rounded-full -translate-x-1/2 -translate-y-1/2 object-cover"})]}),n.jsxs("span",{className:`text-2xl font-bold mt-2 ${l}`,children:[a,"%"]}),n.jsx("span",{className:"text-xs text-gray-400 -mt-1",children:"Match"}),n.jsx("h4",{className:"font-semibold text-white mt-3",children:e.displayName||"User"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:(e.skills||[]).map(s=>s.skillName).slice(0,2).join(", ")}),n.jsxs("p",{className:"text-sm text-gray-300 my-3 italic h-10 line-clamp-2",children:['"',e.reason||"No specific reason provided.",'"']}),n.jsx("button",{onClick:()=>t("profile",e.userId),className:"w-full mt-auto bg-indigo-600 text-white px-3 py-1.5 text-sm rounded-lg hover:bg-indigo-700",children:"View Profile"})]})},Gp=({currentStageId:e,isOwner:t,onUpdate:a})=>{const l=e||"idea-stage",s=wl.findIndex(i=>i.id===l);return n.jsx("div",{className:"space-y-4",children:wl.map((i,o)=>{const c=o<s,r=o===s;return n.jsxs("div",{className:"relative flex items-start",children:[o<wl.length-1&&n.jsx("div",{className:`absolute top-5 left-5 -ml-px w-0.5 h-full ${c?"bg-indigo-500":"bg-gray-600"}`}),n.jsxs("button",{disabled:!t,onClick:()=>t&&a(i.id),className:"flex items-center space-x-3 z-10 w-full text-left disabled:cursor-not-allowed group",children:[n.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 border-2 ${c?"bg-indigo-500 border-indigo-500":r?"bg-indigo-500 border-indigo-500 ring-4 ring-indigo-500/30":"bg-gray-700 border-gray-600 group-hover:bg-gray-600 group-hover:border-gray-500"}`,children:[c&&n.jsx(Ll,{className:"w-5 h-5 text-white"}),!c&&n.jsx("span",{className:`font-bold text-sm ${r?"text-white":"text-gray-400"}`,children:o+1})]}),n.jsx("span",{className:`font-medium ${r||c?"text-white":"text-gray-400 group-hover:text-white"}`,children:i.name})]})]},i.id)})})},Qp=({ideaId:e,currentUser:t,isGuest:a,setPage:l,onAchievementsUnlock:s,onGuestAction:i})=>{const[o,c]=y.useState(null),[r,u]=y.useState(null),[f,x]=y.useState(!0),[d,m]=y.useState(null),[v,j]=y.useState(!1),[T,g]=y.useState(!1),[h,p]=y.useState([]),[b,N]=y.useState([]),[w,S]=y.useState([]),[D,E]=y.useState(""),[M,O]=y.useState(!1),[I,ee]=y.useState([]),[L,U]=y.useState("feedback"),[A,H]=y.useState([]),[_,X]=y.useState(!1),[te,se]=y.useState(!1),[Oe,q]=y.useState(null),[ne,ze]=y.useState(!1),[Pt,jt]=y.useState(null),[we,fe]=y.useState(!0),be=y.useCallback(async B=>{if(B&&x(!0),!await C.checkBackendHealth()){fe(!1),B&&x(!1),m("Backend service is currently unavailable.");return}fe(!0),m(null);try{const $=await C.getIdeaById(e);if(c($),$){const[he,Nt,cs,Ze,f0]=await Promise.all([C.getUserById($.ownerId),C.getCollaborationRequestsByIdeaId(e),C.getCommentsByIdeaId(e),C.getBlockchainRecordsByIdeaId(e),C.getFeedbackByIdeaId(e)]);u(he),p(Nt||[]),N(cs||[]),ee(Ze||[]),S(f0||[])}else m("Idea not found.")}catch($){console.error("Failed to fetch idea data:",$),m("Failed to load idea details.")}finally{B&&x(!1)}},[e]);y.useEffect(()=>{let B,J=!0;return(async()=>{if(await be(!0),J&&o){const he=await C.getBlockchainRecordsByIdeaId(e);ee(he||[]),J&&(he||[]).length===0&&(console.log("Starting blockchain polling for idea:",e),B=window.setInterval(async()=>{if(!J){clearInterval(B);return}try{const Nt=await C.getBlockchainRecordsByIdeaId(e);J&&(Nt||[]).length>0&&(console.log("Blockchain records found, stopping poll for idea:",e),ee(Nt||[]),clearInterval(B))}catch(Nt){console.error("Error during blockchain poll:",Nt),clearInterval(B)}},5e3))}})(),()=>{J=!1,B&&(console.log("Clearing blockchain poll interval for idea:",e),clearInterval(B))}},[e,be]);const $l=y.useCallback(async()=>{if(X(!0),!await C.checkBackendHealth()){fe(!1),X(!1),alert("Cannot fetch recommendations: Backend service unavailable.");return}fe(!0);try{const J=await C.getRecommendedCollaborators(e);H(J||[])}catch(J){console.error("Failed to fetch recommendations:",J),alert("Could not fetch recommendations at this time.")}finally{X(!1)}},[e]),Kl=async B=>{if(!o||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.submitCollaborationRequest({ideaId:o.ideaId,...B}),j(!1),alert("Your collaboration request has been sent!"),be(!1)}catch($){console.error("Failed to submit collaboration request:",$),alert(`Failed to submit request: ${$.message||"Unknown error"}`)}},ls=async(B,J)=>{if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{const he=await C.updateCollaborationRequestStatus(B,J);s((he==null?void 0:he.unlockedAchievements)||[]),be(!1)}catch(he){console.error(`Failed to ${J} request:`,he),alert(`Failed to update request: ${he.message||"Unknown error"}`)}},Xi=async B=>{if(B.preventDefault(),a){i();return}if(!D.trim()||!o||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0),O(!0);try{const $=await C.postComment(o.ideaId,D);N(he=>[...he,$]),c(he=>he?{...he,commentsCount:(he.commentsCount??0)+1}:null),E("")}catch($){console.error("Failed to post comment:",$),alert(`Failed to post comment: ${$.message||"Unknown error"}`)}finally{O(!1)}},ns=async B=>{var cs;if(a){i();return}if(!o||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);const $=(cs=(o.votes||[]).find(Ze=>Ze.userId===t.userId))==null?void 0:cs.type,he=[...o.votes||[]],Nt=he.findIndex(Ze=>Ze.userId===t.userId);$===B?Nt>-1&&he.splice(Nt,1):(Nt>-1&&he.splice(Nt,1),he.push({userId:t.userId,type:B})),c(Ze=>Ze?{...Ze,votes:he}:null);try{const Ze=await C.castVote(o.ideaId,B);Ze&&c(Ze)}catch(Ze){console.error("Vote failed:",Ze),alert(`Failed to cast vote: ${Ze.message||"Unknown error"}`),be(!1)}},Zi=(B,J)=>{S($=>[B,...$]),g(!1),s(J)},Ji=async B=>{if(!o||!Y)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{const $=await C.updateIdeaProgressStage(o.ideaId,B);$&&c($)}catch($){console.error("Failed to update progress:",$),alert(`Failed to update progress: ${$.message||"Unknown error"}`)}},ss=async(B,J)=>{if(!Oe||!t)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.submitReport({contentType:Oe.type,contentId:Oe.id,reason:B,details:J}),q(null),alert("Thank you for your report. Our team will review this shortly.")}catch(he){console.error("Report submission failed:",he),alert(`Failed to submit report: ${he.message||"Unknown error"}`)}},$i=async B=>{if(o&&window.confirm("Are you sure you want to delete this milestone?")){if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.deleteMilestone(o.ideaId,B),be(!1)}catch($){console.error("Failed to delete milestone:",$),alert(`Failed to delete milestone: ${$.message||"Unknown error"}`)}}},is=async B=>{if(!o)return;if(!await C.checkBackendHealth()){fe(!1),alert("Backend service is currently unavailable. Please try again later.");return}fe(!0);try{await C.completeMilestone(o.ideaId,B),be(!1),alert("Milestone completed! A success story has been posted to the feed.")}catch($){console.error("Failed to complete milestone:",$),alert(`Failed to complete milestone: ${$.message||"Unknown error"}`)}},{upvotes:os,downvotes:z,userVote:V}=y.useMemo(()=>{var J;if(!o)return{upvotes:0,downvotes:0,userVote:null};const B=o.votes||[];return{upvotes:B.filter($=>$.type==="up").length,downvotes:B.filter($=>$.type==="down").length,userVote:((J=B.find($=>$.userId===(t==null?void 0:t.userId)))==null?void 0:J.type)||null}},[o,t==null?void 0:t.userId]);if(f)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});if(d)return n.jsx("div",{className:"text-center p-8 text-red-400",children:d});if(!o||!r)return n.jsx("div",{className:"text-center p-8 text-gray-500",children:"Idea not found or owner data missing."});const Y=(t==null?void 0:t.userId)===o.ownerId,ie=!!t&&(o.collaborators||[]).includes(t.userId),Re=t?(h||[]).find(B=>B.requesterId===t.userId):null,Ka=(Re==null?void 0:Re.status)==="pending",Fa=t?(w||[]).some(B=>B.userId===t.userId):!1,r0=()=>{if(a)return n.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-3 rounded-lg shadow-md hover:opacity-90",children:"Sign Up to Collaborate"});if(Y)return n.jsxs("button",{onClick:()=>l("analytics",o.ideaId),className:"w-full bg-gradient-to-r from-teal-500 to-cyan-600 text-white px-6 py-3 rounded-lg shadow-md hover:opacity-90 flex items-center justify-center space-x-2",children:[n.jsx(Hr,{className:"w-5 h-5"}),n.jsx("span",{children:"View Analytics"})]});let B="Request to Collaborate",J=!1;return ie?(B="You are a Collaborator",J=!0):Ka&&(B="Collaboration Request Pending",J=!0),n.jsx("button",{onClick:()=>j(!0),disabled:J||!we,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-3 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:B})},Ki=(h||[]).filter(B=>B.status==="pending"),u0=Y||!!t&&(o.forumMembers||[]).includes(t.userId),d0=o.progressStage==="in-development"||o.progressStage==="launched",Vr=[...o.roadmap||[]].sort((B,J)=>new Date(B.targetDate).getTime()-new Date(J.targetDate).getTime());return n.jsxs(n.Fragment,{children:[v&&t&&n.jsx(Hp,{idea:o,onClose:()=>j(!1),onSubmit:Kl}),T&&n.jsx(Rp,{idea:o,currentUser:t,onClose:()=>g(!1),onSubmit:Zi}),Oe&&t&&n.jsx(c0,{contentId:Oe.id,contentType:Oe.type,contentTitle:Oe.title,currentUser:t,onClose:()=>q(null),onSubmit:ss}),ne&&Y&&n.jsx(_p,{ideaId:o.ideaId,milestone:Pt,onClose:()=>{ze(!1),jt(null)},onSave:()=>{be(!1),ze(!1),jt(null)}}),n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[!we&&n.jsxs("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-700/50 rounded-lg flex items-center space-x-3",children:[n.jsx(ts,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-red-300",children:"Backend Service Unavailable"}),n.jsx("p",{className:"text-red-200 text-sm",children:"Some features may not work properly. Please try again later."})]})]}),o.isUnderReview&&n.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700/50 text-yellow-200 text-sm p-4 rounded-lg mb-6 flex items-start space-x-3",children:[n.jsx(Hn,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold",children:"Content Under Review"}),n.jsx("p",{children:"This idea has been reported and is currently under review."})]})]}),n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("button",{onClick:()=>l("feed"),className:"text-indigo-400 mb-4 hover:underline",children:" Back to Feed"}),n.jsxs("div",{className:"relative",children:[!a&&n.jsx("button",{onClick:()=>se(!te),className:"p-2 rounded-full hover:bg-white/10",children:n.jsx(Gi,{className:"w-5 h-5 text-gray-400"})}),te&&!a&&n.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-[#252532] ring-1 ring-black ring-opacity-5 z-10",children:n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{onClick:()=>{q({type:"idea",id:o.ideaId,title:`the idea "${o.title}"`}),se(!1)},className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(as,{className:"w-4 h-4"}),n.jsx("span",{children:"Report Idea"})]}),Y&&n.jsxs("button",{onClick:()=>{alert("Edit idea not implemented"),se(!1)},className:"w-full text-left flex items-center space-x-2 px-4 py-2 text-sm text-gray-300 hover:bg-white/5",children:[n.jsx(Bc,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit Idea"})]})]})})]})]}),n.jsxs("div",{className:"flex flex-row items-start gap-x-6",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-2 mt-2 flex-shrink-0",children:[n.jsx("button",{onClick:()=>ns("up"),disabled:a||!we,className:`p-2 rounded-full transition-colors ${V==="up"?"bg-indigo-600 text-white":"bg-[#252532] hover:bg-[#374151] disabled:opacity-50"}`,"aria-label":"Upvote",children:n.jsx(Zm,{className:"w-6 h-6"})}),n.jsx("span",{className:"font-bold text-xl text-white",children:os-z}),n.jsx("button",{onClick:()=>ns("down"),disabled:a||!we,className:`p-2 rounded-full transition-colors ${V==="down"?"bg-red-600 text-white":"bg-[#252532] hover:bg-[#374151] disabled:opacity-50"}`,"aria-label":"Downvote",children:n.jsx(Jm,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[" ",n.jsx("h1",{className:"text-4xl font-bold text-white mb-6",children:o.title}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Summary"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.summary})," "]}),o.description&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Description"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.description})]}),o.questionnaire&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Ideation Details"}),n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Problem Statement"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.problemStatement||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Target Audience"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.targetAudience||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Resources Needed"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.resourcesNeeded||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Timeline"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.timeline||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Skills Looking For"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.skillsLooking||"Not provided"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-indigo-300",children:"Vision for Success"}),n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:o.questionnaire.visionForSuccess||"Not provided"})]})]})]}),n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[n.jsx(Qi,{className:"w-6 h-6 text-cyan-400"}),n.jsx("span",{children:"Project Roadmap"})]}),Y&&n.jsxs("button",{onClick:()=>{jt(null),ze(!0)},className:"flex items-center space-x-2 bg-[#252532] hover:bg-[#374151] px-3 py-1.5 text-sm rounded-lg disabled:opacity-50",disabled:!we,children:[n.jsx(_l,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Milestone"})]})]}),Vr.length>0?n.jsx("div",{className:"space-y-4",children:Vr.map(B=>n.jsxs("div",{className:`p-4 rounded-lg border ${B.status==="completed"?"bg-emerald-900/20 border-emerald-500/30":"bg-black/20 border-white/10"}`,children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[B.status==="completed"?n.jsx(Ll,{className:"w-5 h-5 text-emerald-400"}):n.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-500 flex-shrink-0"}),n.jsx("h3",{className:"font-bold text-white",children:B.title})]}),n.jsx("p",{className:"text-sm text-gray-400 mt-2 pl-8",children:B.description})]}),n.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[n.jsx(s0,{className:"w-4 h-4"}),n.jsx("span",{children:new Date(B.targetDate).toLocaleDateString()})]}),Y&&n.jsxs("div",{className:"mt-2 space-x-2",children:[n.jsx("button",{onClick:()=>{jt(B),ze(!0)},className:"p-1.5 hover:bg-white/10 rounded-md disabled:opacity-50",disabled:!we,children:n.jsx(Bc,{className:"w-4 h-4 text-gray-400"})}),n.jsx("button",{onClick:()=>$i(B.id),className:"p-1.5 hover:bg-white/10 rounded-md disabled:opacity-50",disabled:!we,children:n.jsx(Ii,{className:"w-4 h-4 text-gray-400"})})]})]})]}),Y&&B.status==="pending"&&n.jsx("div",{className:"pl-8 pt-3 mt-3 border-t border-white/10",children:n.jsxs("button",{onClick:()=>is(B.id),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1 text-xs font-semibold rounded-md flex items-center space-x-1 disabled:opacity-50",disabled:!we,children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark as Complete"})]})})]},B.id))}):n.jsxs("p",{className:"text-gray-500 py-4 text-center",children:["No roadmap defined yet. ",Y&&"Add the first milestone to get started."]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Community Refinement"}),n.jsx("div",{className:"border-b border-white/10 mb-4",children:n.jsxs("div",{role:"tablist",className:"-mb-px flex space-x-6","aria-label":"Community content",children:[n.jsxs("button",{role:"tab",id:"feedback-tab","aria-controls":"feedback-panel","aria-selected":L==="feedback",onClick:()=>U("feedback"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${L==="feedback"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-300"}`,children:["Feedback ",n.jsx("span",{className:"bg-[#252532] text-xs px-2 py-0.5 rounded-full",children:(w||[]).length})]}),n.jsxs("button",{role:"tab",id:"comments-tab","aria-controls":"comments-panel","aria-selected":L==="comments",onClick:()=>U("comments"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${L==="comments"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-300"}`,children:["Comments ",n.jsx("span",{className:"bg-[#252532] text-xs px-2 py-0.5 rounded-full",children:o.commentsCount??0})]})]})}),n.jsx("div",{id:"feedback-panel",role:"tabpanel",tabIndex:0,"aria-labelledby":"feedback-tab",hidden:L!=="feedback",children:n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[(w||[]).length>0?n.jsx("div",{className:"space-y-2 divide-y divide-white/10",children:w.map(B=>n.jsx(Lp,{feedback:B},B.feedbackId||B.id))}):n.jsx("p",{className:"text-gray-500 py-4 text-center",children:"No feedback yet. Be the first to provide a review!"}),!Y&&!a&&n.jsxs("button",{onClick:()=>g(!0),disabled:Fa||!we,className:"mt-6 w-full bg-[#374151] text-white px-6 py-3 rounded-lg hover:bg-[#4b5563] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(Vi,{className:"w-5 h-5"}),n.jsx("span",{children:Fa?"Feedback Submitted":"Provide Feedback"})]})]})}),n.jsx("div",{id:"comments-panel",role:"tabpanel",tabIndex:0,"aria-labelledby":"comments-tab",hidden:L!=="comments",children:n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("div",{className:"space-y-2 divide-y divide-white/10",children:(b||[]).length>0?b.map(B=>n.jsx(Ip,{comment:B,onReport:J=>q({type:"comment",id:J,title:"a comment"}),isGuest:a,currentUser:t},B.commentId||B.id)):n.jsx("p",{className:"text-gray-500 py-4",children:"Be the first to comment."})}),!a&&n.jsxs("form",{onSubmit:Xi,className:"mt-6 flex items-start space-x-3",children:[t&&n.jsx("img",{src:t.avatarUrl||"/default-avatar.png",alt:t.displayName,className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{value:D,onChange:B=>E(B.target.value),placeholder:"Add a public comment...",rows:2,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx("button",{type:"submit",disabled:M||!D.trim()||!we,className:"bg-indigo-600 text-white px-4 py-2 text-sm rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:M?"Posting...":"Post Comment"})})]})]}),a&&n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:i,className:"text-indigo-400 hover:underline",children:"Log in or sign up to comment"})})]})})]})]}),n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Owner"}),n.jsxs("button",{onClick:()=>l("profile",r.userId),className:"flex items-center space-x-3 group w-full text-left",children:[n.jsx("img",{src:r.avatarUrl||"/default-avatar.png",alt:r.displayName,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-white group-hover:text-indigo-400",children:r.displayName}),n.jsxs("p",{className:"text-sm text-gray-400",children:["@",r.username]})]})]})]}),n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Project Status"}),n.jsx(Gp,{currentStageId:o.progressStage,isOwner:Y,onUpdate:Ji})]}),n.jsxs("div",{className:"space-y-4",children:[r0(),n.jsxs("div",{className:"flex space-x-4",children:[u0&&n.jsxs("button",{onClick:()=>l("forum",o.ideaId),className:"flex-1 bg-gradient-to-r from-sky-500 to-cyan-500 text-white px-4 py-2.5 rounded-lg flex items-center justify-center space-x-2 disabled:opacity-50",disabled:!we,children:[n.jsx(Dt,{className:"w-5 h-5"}),n.jsx("span",{children:"Discussion"})]}),d0&&n.jsxs("button",{onClick:()=>l("kanban",o.ideaId),className:"flex-1 bg-gradient-to-r from-teal-500 to-emerald-600 text-white px-4 py-2.5 rounded-lg flex items-center justify-center space-x-2 disabled:opacity-50",disabled:!we,children:[n.jsx(Fm,{className:"w-5 h-5"}),n.jsx("span",{children:"Project Board"})]})]}),!a&&n.jsx("button",{onClick:()=>l("ideaBoard",o.ideaId),className:"w-full bg-[#374151] text-white px-4 py-2.5 rounded-lg disabled:opacity-50",disabled:!we,children:"View Idea Board"})]}),n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Blockchain Activity"}),(I||[]).length>0?n.jsx("div",{className:"space-y-4",children:I.map(B=>n.jsx(Yp,{record:B},B.recordId||B.transactionHash))}):n.jsxs("div",{className:"bg-gray-700/30 border border-gray-500/30 rounded-lg p-4 flex items-center space-x-3",children:[n.jsx(Ve,{className:"w-5 h-5 text-indigo-400 animate-spin"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Waiting for blockchain activity..."})]})]}),Y&&Ki.length>0&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white mb-4",children:["Collaboration Requests (",Ki.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:Ki.map(B=>n.jsx(qp,{request:B,onApprove:J=>ls(J,"approved"),onDeny:J=>ls(J,"rejected")},B.requestId))})]}),(Y||ie)&&!a&&n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-2xl shadow-lg border border-white/10",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-white flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-5 h-5 text-indigo-400"}),n.jsx("span",{children:"AI Recommendations"})]}),n.jsx("button",{onClick:$l,disabled:_||!we,className:"p-2 rounded-full bg-[#252532] hover:bg-[#374151] disabled:opacity-50",children:n.jsx($m,{className:`w-4 h-4 ${_?"animate-spin":""}`})})]}),_?n.jsx("div",{className:"text-center py-8",children:n.jsx(Ve,{className:"w-6 h-6 text-indigo-400 animate-spin mx-auto"})}):(A||[]).length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4",children:A.slice(0,2).map(B=>n.jsx(Vp,{user:B,setPage:l},B.userId))}):n.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:"Click refresh to get AI-powered collaborator matches based on required skills."})]})]})]})]})]})]})})]})},Xp=({template:e,onSelect:t})=>{const a=Hl[e.icon];return n.jsxs("button",{onClick:t,className:"bg-[#252532] p-6 rounded-2xl border-2 border-transparent hover:border-indigo-500 text-left w-full h-full flex flex-col transition-all duration-200 transform hover:-translate-y-1",children:[n.jsx(a,{className:"w-8 h-8 text-indigo-400 mb-3"}),n.jsx("h3",{className:"font-bold text-lg text-white",children:e.name}),n.jsx("p",{className:"text-sm text-gray-400 mt-1 flex-grow",children:e.description})]})},Zp=({content:e})=>{const t=e.split(`
`).filter(a=>a.trim()!=="");return n.jsx("div",{className:"prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-indigo-400 max-w-none space-y-2 text-left",children:t.map((a,l)=>{if(a.startsWith("### "))return n.jsx("h3",{className:"text-lg font-semibold text-indigo-300 pt-2",children:a.substring(4)},l);if(a.startsWith("- **")){const s=a.substring(2).split(":**");return s.length>=2?n.jsxs("p",{children:[n.jsx("strong",{className:"text-gray-200",children:s[0]}),": ",s.slice(1).join(":**")]},l):n.jsx("p",{children:a.substring(2)},l)}if(a.startsWith("- "))return n.jsx("p",{className:"pl-4 relative before:content-[''] before:absolute before:left-0 before:text-indigo-400",children:a.substring(2)},l);if(a.includes("**")){const s=a.split("**");return n.jsx("p",{children:s.map((i,o)=>o%2===1?n.jsx("strong",{children:i},o):i)},l)}return n.jsx("p",{children:a},l)})})},Jp=({setPage:e,setSelectedIdeaId:t,onAchievementsUnlock:a})=>{const[l,s]=y.useState(1),[i,o]=y.useState(null),[c,r]=y.useState([]),[u,f]=y.useState(""),[x,d]=y.useState({title:"",summary:"",sector:ja[0],region:i0[0],problemStatement:"",targetAudience:"",resourcesNeeded:"",timeline:"",skillsLooking:"",visionForSuccess:"",isPublic:!0}),[m,v]=y.useState(!1),[j,T]=y.useState(!1),[g,h]=y.useState(!1),[p,b]=y.useState(null),[N,w]=y.useState(null),S=()=>{u.trim()&&!c.includes(u.trim())&&(r([...c,u.trim()]),f(""))},D=q=>{r(c.filter(ne=>ne!==q))},E=q=>{q.key==="Enter"&&(q.preventDefault(),S())},M=q=>{const{name:ne,value:ze,type:Pt}=q.target,jt=Pt==="checkbox"?q.target.checked:ze;d(we=>({...we,[ne]:jt})),w(null)},O=async()=>{if(!x.summary){w("Please enter a summary first");return}v(!0),w(null);try{const q=await C.refineSummary({summary:x.summary});d(ne=>({...ne,summary:q.refinedSummary||x.summary}))}catch(q){console.error("Refinement failed:",q),w(`Failed to refine summary: ${q.message||"Please try again."}`)}finally{v(!1)}},I=async()=>{var q,ne,ze,Pt,jt,we;if(!x.title||!x.summary){w("Please fill in title and summary first");return}h(!0),b(null),w(null);try{const be=(await C.analyzeIdea({title:x.title,description:x.summary,category:x.sector})).analysis;if(!be)throw new Error("Received empty analysis from backend.");const $l=`
### AI Validation Report

**Feasibility:** ${((q=be.feasibility)==null?void 0:q.score)??"N/A"}/10 (${((ne=be.feasibility)==null?void 0:ne.reason)??"No reason provided"})
**Innovation:** ${((ze=be.innovation)==null?void 0:ze.score)??"N/A"}/10 (${((Pt=be.innovation)==null?void 0:Pt.reason)??"No reason provided"})
**Market Potential:** ${((jt=be.marketPotential)==null?void 0:jt.score)??"N/A"}/10 (${((we=be.marketPotential)==null?void 0:we.reason)??"No reason provided"})

#### SWOT Analysis (Example based on ai.service.ts):
- **Strengths:** ${(be.strengths??[]).join(", ")||"None identified"}
- **Weaknesses:** ${(be.weaknesses??[]).join(", ")||"None identified"}
- **Opportunities:** ${(be.opportunities??[]).join(", ")||"None identified"}
- **Threats:** ${(be.threats??[]).join(", ")||"None identified"}

#### Recommendations:
${(be.recommendations??[]).map(Kl=>`- ${Kl}`).join(`
`)||"No specific recommendations."}

**Est. Dev Time:** ${be.estimatedDevelopmentTime||"Unknown"}
            `.trim();b($l)}catch(fe){console.error("Validation failed:",fe),w(`Failed to validate idea: ${fe.message||"Please try again."}`)}finally{h(!1)}},ee=q=>{o(q),d(ne=>({...ne,problemStatement:"",targetAudience:"",resourcesNeeded:"",timeline:"",skillsLooking:"",visionForSuccess:""})),s(2)},L=async()=>{if(!x.title.trim()||!x.summary.trim()){w("Title and summary are required");return}T(!0),w(null);try{const q={title:x.title.trim(),description:x.summary.trim(),tags:c,category:x.sector,stage:"idea",isPublic:x.isPublic,questionnaire:{problemStatement:x.problemStatement,targetAudience:x.targetAudience,resourcesNeeded:x.resourcesNeeded,timeline:x.timeline,skillsLooking:x.skillsLooking,visionForSuccess:x.visionForSuccess}},{idea:ne,unlockedAchievements:ze}=await C.addIdea(q);a(ze||[]),alert("Your idea has been published!"),t(ne.ideaId),e("ideaBoard",ne.ideaId)}catch(q){console.error("Publish idea failed:",q),w(`Failed to publish idea: ${q.message||"Please try again."}`)}finally{T(!1)}},U=()=>{if(l===2&&(!x.title.trim()||!x.summary.trim())){w("Title and summary are required");return}w(null),s(q=>q+1)},A=()=>{w(null),s(q=>q-1)},H=4,_="mt-1 block w-full bg-[#252532] border-2 border-[#374151] rounded-lg shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",X=`${_} min-h-[80px]`,te={problemStatement:"What specific problem does this idea solve?",targetAudience:"Who is the primary target audience or user group?",resourcesNeeded:"What key resources (skills, funding, tech) are needed for an MVP?",timeline:"What is a rough timeline for the initial phase (e.g., 3-6 months)?",skillsLooking:"What skills are crucial for collaborators?",visionForSuccess:"What does success look like in 1-3 years?"},se=(i==null?void 0:i.questionnairePrompts)||te,Oe=()=>{switch(l){case 1:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsx("h2",{className:"text-2xl font-semibold text-white text-center",children:"Step 1: Choose a Template"}),n.jsx("p",{className:"text-center text-gray-400",children:"Select a template to guide your ideation, or start fresh."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4",children:Cp.map(q=>n.jsx(Xp,{template:q,onSelect:()=>ee(q)},q.id))}),n.jsx("div",{className:"text-center pt-4",children:n.jsx("button",{onClick:()=>ee(null),className:"text-indigo-400 hover:text-indigo-300 font-semibold p-2",children:"Or start with a Blank Canvas "})})]});case 2:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsx("h2",{className:"text-xl font-semibold text-white",children:"Step 2: Core Idea Details"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300",children:"Idea Title *"}),n.jsx("input",{id:"title",type:"text",name:"title",value:x.title,onChange:M,className:_,placeholder:"Enter a compelling title"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-300",children:"Summary / Description *"}),n.jsx("textarea",{id:"summary",name:"summary",value:x.summary,onChange:M,rows:4,className:X,placeholder:"Describe your idea clearly..."}),n.jsxs("button",{type:"button",onClick:O,disabled:m||!x.summary.trim(),className:"mt-2 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 focus:ring-offset-[#1A1A24] disabled:opacity-50 transition-transform active:scale-95",children:[n.jsx(Lm,{className:"w-4 h-4 mr-1"}),m?"Refining...":"Refine with AI"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"tags-input",className:"block text-sm font-medium text-gray-300",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2 min-h-[2rem]",children:c.map(q=>n.jsxs("div",{className:"flex items-center space-x-1 bg-indigo-900/30 text-indigo-200 px-2.5 py-0.5 rounded-full text-sm",children:[n.jsx("span",{children:q}),n.jsx("button",{type:"button",onClick:()=>D(q),className:"text-indigo-400 hover:text-indigo-200",children:""})]},q))}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{id:"tags-input",type:"text",value:u,onChange:q=>f(q.target.value),onKeyPress:E,placeholder:"Add relevant tags (e.g., AI, HealthTech)",className:`${_} flex-1`}),n.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 text-sm",children:"Add Tag"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"sector",className:"block text-sm font-medium text-gray-300",children:"Primary Sector/Category"}),n.jsx("select",{id:"sector",name:"sector",value:x.sector,onChange:M,className:_,children:ja.map(q=>n.jsx("option",{value:q,children:q},q))})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[n.jsx("input",{type:"checkbox",id:"isPublic",name:"isPublic",checked:x.isPublic,onChange:M,className:"h-4 w-4 rounded border-gray-500 text-indigo-600 focus:ring-indigo-500"}),n.jsx("label",{htmlFor:"isPublic",className:"text-sm text-gray-300",children:"Make this idea public"})]})]});case 3:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Step 3: Deeper Dive ",i?`(${i.name})`:""]}),n.jsx("p",{className:"text-sm text-gray-400 -mt-4",children:"Answer these questions to flesh out your idea."}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"problemStatement",className:"block text-sm font-medium text-gray-300",children:se.problemStatement}),n.jsx("textarea",{id:"problemStatement",name:"problemStatement",value:x.problemStatement,onChange:M,rows:3,className:X})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-gray-300",children:se.targetAudience}),n.jsx("textarea",{id:"targetAudience",name:"targetAudience",value:x.targetAudience,onChange:M,rows:3,className:X})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"resourcesNeeded",className:"block text-sm font-medium text-gray-300",children:se.resourcesNeeded}),n.jsx("textarea",{id:"resourcesNeeded",name:"resourcesNeeded",value:x.resourcesNeeded,onChange:M,rows:3,className:X})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"timeline",className:"block text-sm font-medium text-gray-300",children:se.timeline}),n.jsx("input",{id:"timeline",type:"text",name:"timeline",value:x.timeline,onChange:M,className:_})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"skillsLooking",className:"block text-sm font-medium text-gray-300",children:se.skillsLooking}),n.jsx("input",{id:"skillsLooking",type:"text",name:"skillsLooking",value:x.skillsLooking,onChange:M,className:_})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"visionForSuccess",className:"block text-sm font-medium text-gray-300",children:se.visionForSuccess}),n.jsx("textarea",{id:"visionForSuccess",name:"visionForSuccess",value:x.visionForSuccess,onChange:M,rows:3,className:X})]})]});case 4:return n.jsxs("div",{className:"space-y-6 animate-fadeInUp",children:[n.jsx("h2",{className:"text-xl font-semibold text-white",children:"Step 4: AI Validation & Final Review"}),n.jsx("p",{className:"text-sm text-gray-400 -mt-4",children:"Optionally, get instant AI feedback before publishing."}),n.jsx("div",{className:"text-center pt-2",children:n.jsxs("button",{type:"button",onClick:I,disabled:g||!x.title.trim()||!x.summary.trim(),className:"inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gradient-to-r from-sky-500 to-cyan-500 hover:opacity-90 disabled:opacity-50 transition-transform active:scale-95",children:[n.jsx(Lr,{className:"w-5 h-5 mr-2"}),g?"Analyzing...":"Validate with AI"]})}),g&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx(Ve,{className:"w-6 h-6 animate-spin mx-auto text-indigo-400"}),n.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"AI analyzing feasibility, market fit, and innovation..."})]}),p&&n.jsxs("div",{className:"bg-black/20 p-5 rounded-lg border border-white/10 mt-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-3 text-center",children:"AI Validation Report"}),n.jsx(Zp,{content:p})]}),n.jsx("p",{className:"text-center text-gray-400 pt-4",children:"Ready to share your vision?"})]});default:return null}};return n.jsx("div",{className:"container mx-auto p-4 md:p-8 max-w-3xl animate-fadeInUp",children:n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md p-6 md:p-8 rounded-2xl shadow-2xl border border-white/10",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-white text-center",children:"Share Your New Idea"}),N&&n.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-500/50 rounded-lg text-red-200 text-sm",children:N}),l>1&&n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"w-full bg-[#252532] rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${(l-1)/(H-1)*100}%`}})}),n.jsxs("ol",{className:"flex justify-between text-xs text-gray-500 mt-1 px-1",children:[n.jsx("li",{className:`w-1/3 text-center ${l>=2?"text-indigo-400 font-medium":""}`,children:"Details"}),n.jsx("li",{className:`w-1/3 text-center ${l>=3?"text-indigo-400 font-medium":""}`,children:"Questions"}),n.jsx("li",{className:`w-1/3 text-center ${l>=4?"text-indigo-400 font-medium":""}`,children:"Publish"})]})]}),Oe(),n.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[l>1?n.jsx("button",{onClick:A,className:"bg-[#374151] text-white px-5 py-2 rounded-lg hover:bg-[#4b5563] transition-colors text-sm font-medium",children:"Back"}):n.jsx("div",{className:"w-20"}),l<H?l>1&&n.jsx("button",{onClick:U,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-5 py-2 rounded-lg shadow-md hover:opacity-90 transition-opacity text-sm font-medium",children:"Next"}):n.jsx("button",{onClick:L,disabled:j||!x.title.trim()||!x.summary.trim(),className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white px-6 py-2.5 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-base font-semibold",children:j?"Publishing...":"Publish Idea"}),l===1&&n.jsx("div",{className:"w-20"})]})]})})},In=180,Yn=80,Nd=(e,t,a)=>{const l=e.createSVGPoint();l.x=t,l.y=a;const s=l.matrixTransform(e.getScreenCTM().inverse());return{x:s.x,y:s.y}},$p=({node:e,isSelected:t,onSelect:a,onMouseDown:l})=>n.jsxs("g",{transform:`translate(${e.x}, ${e.y})`,onMouseDown:s=>l(s,e.id),onClick:s=>a(s,e),className:"cursor-pointer group",children:[n.jsx("rect",{width:In,height:Yn,rx:"10",ry:"10",fill:"#1A1A24",stroke:t?"#8B5CF6":"#4B5563",strokeWidth:"2",className:"transition-all group-hover:stroke-indigo-500"}),n.jsx("foreignObject",{width:In,height:Yn,x:"0",y:"0",children:n.jsxs("div",{className:"w-full h-full p-3 flex flex-col justify-center text-center overflow-hidden pointer-events-none",children:[n.jsx("p",{className:"font-bold text-white truncate",children:e.title}),n.jsx("p",{className:"text-sm text-gray-400 truncate",children:e.description})]})})]}),Kp=({fromNode:e,toNode:t})=>{const a=e.x+In/2,l=e.y+Yn/2,s=t.x+In/2,i=t.y+Yn/2,o=`M ${a},${l} L ${s},${i}`;return n.jsx("path",{d:o,stroke:"#4B5563",strokeWidth:"2",fill:"none"})},wd=({title:e,children:t,onClose:a})=>n.jsxs("div",{className:"absolute top-0 right-0 h-full w-80 bg-[#1A1A24]/80 backdrop-blur-md border-l border-white/10 z-20 flex flex-col animate-slideInFromRight",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:e}),n.jsx("button",{onClick:a,className:"p-1 rounded-full hover:bg-white/10",children:n.jsx(Ct,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-thin",children:t})]}),Fp=({node:e,onUpdate:t,onDelete:a,onConnectStart:l})=>{const[s,i]=y.useState(e.title),[o,c]=y.useState(e.description);y.useEffect(()=>{i(e.title),c(e.description)},[e]);const r=()=>{t(e.id,{title:s,description:o})};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400",children:"Title"}),n.jsx("input",{type:"text",value:s,onChange:u=>i(u.target.value),onBlur:r,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 mt-1 text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-400",children:"Description"}),n.jsx("textarea",{value:o,onChange:u=>c(u.target.value),onBlur:r,rows:4,className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 mt-1 text-white"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>l(e.id),className:"flex-1 bg-indigo-600 hover:bg-indigo-700 p-2 rounded-lg text-sm",children:"Connect Node"}),n.jsx("button",{onClick:()=>a(e.id),className:"bg-red-600 hover:bg-red-700 p-2 rounded-lg",children:n.jsx(Ii,{className:"w-5 h-5"})})]})]})},Wp=({onClose:e,onSave:t})=>{const[a,l]=y.useState(""),[s,i]=y.useState(!1),o=async c=>{if(c.preventDefault(),!!a.trim()){i(!0);try{await t(a)}catch(r){console.error("Failed to save version:",r),alert("Failed to save version. Please try again.")}finally{i(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("form",{onSubmit:o,className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-sm w-full p-8 relative",children:[n.jsx("button",{type:"button",onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Save New Version"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"versionName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Version Name"}),n.jsx("input",{id:"versionName",type:"text",value:a,onChange:c=>l(c.target.value),required:!0,placeholder:"e.g., Initial Brainstorm",className:"w-full bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsx("div",{className:"pt-6 flex justify-end",children:n.jsx("button",{type:"submit",disabled:s||!a.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-6 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:s?"Saving...":"Save Version"})})]})})},Pp=({status:e})=>{switch(e){case"saving":return n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-cyan-400",children:[n.jsx(Ve,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Saving..."})]});case"unsaved":return n.jsx("div",{className:"flex items-center space-x-2 text-sm text-yellow-400",children:n.jsx("span",{children:"Unsaved changes"})});case"saved":default:return n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-emerald-400",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{children:"All changes saved"})]})}},ey=({ideaId:e,currentUser:t,setPage:a})=>{var is,os;const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState(!0),[u,f]=y.useState([[]]),[x,d]=y.useState(0),[m,v]=y.useState({x:0,y:0,zoom:1}),[j,T]=y.useState(!1),[g,h]=y.useState(null),[p,b]=y.useState({x:0,y:0}),[N,w]=y.useState(null),[S,D]=y.useState(null),[E,M]=y.useState(null),[O,I]=y.useState([]),[ee,L]=y.useState([]),[U,A]=y.useState(!1),[H,_]=y.useState("saved"),X=y.useRef(null),te=y.useRef(""),se=y.useMemo(()=>(l==null?void 0:l.ownerId)===t.userId,[l,t]),Oe=(z,V)=>z.id.localeCompare(V.id),q=y.useCallback(async()=>{try{const[z,V,Y]=await Promise.all([C.getIdeaById(e),C.getCommentsByNodeId(e),C.getBoardVersions(e)]),ie={nodes:[],isPublic:!1},Re={...z,ideaBoard:(z==null?void 0:z.ideaBoard)||ie};if(s(Re),z){const Fa=[...Re.ideaBoard.nodes||[]].sort(Oe);o(Fa),te.current=JSON.stringify(Fa),u.length===1&&u[0].length===0&&(f([Fa]),d(0)),I(V||[]),L(Y||[])}}catch(z){console.error("Failed to fetch board data:",z),alert("Could not load idea board. Redirecting to Idea Detail."),a("ideaDetail",e)}finally{r(!1)}},[e,a]);y.useEffect(()=>{q()},[q]),y.useEffect(()=>{if(!se||c)return;const z=JSON.stringify([...i].sort(Oe));if(z!==te.current){_("unsaved");const V=setTimeout(async()=>{_("saving");try{await C.updateIdeaBoard(e,i),te.current=z,_("saved")}catch(Y){console.error("Auto-save failed:",Y),_("unsaved")}},2e3);return()=>clearTimeout(V)}},[i,e,se,c]),y.useEffect(()=>{if(!se)return;const z={current:i};return z.current=i,()=>{JSON.stringify([...z.current].sort(Oe))!==te.current&&C.updateIdeaBoard(e,z.current).catch(Y=>{console.error("Save on unmount failed:",Y)})}},[i,e,se]);const ne=y.useCallback(z=>{const V=u.slice(0,x+1);V.push(z),f(V),d(V.length-1)},[u,x]),ze=()=>{x>0&&(d(z=>z-1),o(u[x-1]))},Pt=()=>{x<u.length-1&&(d(z=>z+1),o(u[x+1]))},jt=z=>{z.target===X.current&&(T(!0),b({x:z.clientX,y:z.clientY}))},we=z=>{if(j){const V=(z.clientX-p.x)/m.zoom,Y=(z.clientY-p.y)/m.zoom;v(ie=>({...ie,x:ie.x-V,y:ie.y-Y})),b({x:z.clientX,y:z.clientY})}if(g){const V=i.map(Y=>{if(Y.id===g.id){const{x:ie,y:Re}=Nd(X.current,z.clientX,z.clientY);return{...Y,x:ie-g.dx,y:Re-g.dy}}return Y});o(V)}},fe=()=>{T(!1),g&&(ne(i),h(null))},be=z=>{z.preventDefault();const V=1.1,Y=z.deltaY<0?m.zoom*V:m.zoom/V;v(ie=>({...ie,zoom:Math.max(.1,Math.min(Y,5))}))},$l=(z,V)=>{if(z.stopPropagation(),!se)return;const{x:Y,y:ie}=Nd(X.current,z.clientX,z.clientY),Re=i.find(Ka=>Ka.id===V);h({id:V,dx:Y-Re.x,dy:ie-Re.y})},Kl=(z,V)=>{if(z.stopPropagation(),S&&S!==V.id){const Y=i.map(ie=>{if(ie.id===S){const Re=ie.connections||[];return Re.includes(V.id)?{...ie,connections:Re.filter(Ka=>Ka!==V.id)}:{...ie,connections:[...Re,V.id]}}return ie});o(Y),ne(Y),D(null)}else w(V.id),M("edit")},ls=()=>{const z={id:`node-${Date.now()}`,x:m.x+1e3/m.zoom/2-In/2,y:m.y+800/m.zoom/2-Yn/2,title:"New Node",description:"Click to edit",connections:[]},V=[...i,z];o(V),ne(V)},Xi=(z,V)=>{const Y=i.map(ie=>ie.id===z?{...ie,...V}:ie);o(Y),ne(Y)},ns=z=>{const V=i.filter(Y=>Y.id!==z).map(Y=>({...Y,connections:(Y.connections||[]).filter(ie=>ie!==z)}));o(V),ne(V),w(null),M(null)},Zi=async z=>{const V=await C.saveBoardVersion(e,i,z);L(Y=>[V,...Y]),A(!1)},Ji=async z=>{if(window.confirm("Are you sure you want to revert to this version? Your current board will be replaced."))try{const V=await C.revertToBoardVersion(e,z);if(V&&V.nodes){const Y=V.nodes||[];o(Y),ne(Y),M(null),alert("Board reverted successfully.")}else alert("Failed to revert board.")}catch(V){console.error("Failed to revert board:",V),alert(`Failed to revert board: ${V.message}`)}},ss=y.useMemo(()=>i.find(z=>z.id===N),[i,N]),$i=y.useMemo(()=>(O||[]).filter(z=>z.nodeId===N),[O,N]);return c?n.jsx("div",{className:"w-screen h-screen bg-[#0A0A0F] flex items-center justify-center",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}):l?n.jsxs("div",{className:"w-screen h-screen bg-[#0A0A0F] text-white flex flex-col overflow-hidden",children:[U&&n.jsx(Wp,{onClose:()=>A(!1),onSave:Zi}),n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:" Back to Idea"}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-bold",children:l.title}),n.jsx("p",{className:"text-sm text-gray-400",children:"Idea Board"})]}),n.jsx("div",{className:"w-48 flex justify-end",children:se&&n.jsx(Pp,{status:H})})]}),n.jsxs("div",{className:"flex-1 relative",onMouseUp:fe,onMouseMove:we,children:[n.jsx("svg",{ref:X,className:"w-full h-full",onMouseDown:jt,onWheel:be,children:n.jsxs("g",{transform:`scale(${m.zoom}) translate(${-m.x}, ${-m.y})`,children:[(os=(is=l.ideaBoard)==null?void 0:is.nodes)==null?void 0:os.map(z=>(z.connections||[]).map(V=>{var ie;const Y=(ie=l.ideaBoard)==null?void 0:ie.nodes.find(Re=>Re.id===V);return Y?n.jsx(Kp,{fromNode:z,toNode:Y},`${z.id}-${Y.id}`):null})),i.map(z=>n.jsx($p,{node:z,isSelected:z.id===N||z.id===S,onSelect:Kl,onMouseDown:$l},z.id))]})}),E&&ss&&n.jsxs(wd,{title:"Node Details",onClose:()=>{w(null),M(null)},children:[n.jsxs("div",{className:"flex border-b border-white/10 mb-4",children:[n.jsx("button",{onClick:()=>M("edit"),className:`flex-1 p-2 text-sm ${E==="edit"?"text-indigo-400 border-b-2 border-indigo-400":"text-gray-400"}`,children:"Edit"}),n.jsxs("button",{onClick:()=>M("comments"),className:`flex-1 p-2 text-sm ${E==="comments"?"text-indigo-400 border-b-2 border-indigo-400":"text-gray-400"}`,children:["Comments (",$i.length,")"]})]}),E==="edit"&&se&&n.jsx(Fp,{node:ss,onUpdate:Xi,onDelete:ns,onConnectStart:z=>{D(z),w(null),M(null)}}),E==="edit"&&!se&&n.jsx("p",{className:"text-gray-400",children:"You do not have permission to edit this node."}),E==="comments"&&n.jsx("div",{className:"text-gray-400",children:"Comment section not yet implemented."})]}),E==="versions"&&n.jsx(wd,{title:"Board Versions",onClose:()=>M(null),children:n.jsxs("div",{className:"space-y-4",children:[se&&n.jsx("button",{onClick:()=>A(!0),className:"w-full bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-700",children:"Save Current Version"}),n.jsx("ul",{className:"space-y-2",children:ee.length>0?ee.map(z=>n.jsxs("li",{className:"bg-black/20 p-3 rounded-lg",children:[n.jsx("p",{className:"font-semibold text-white",children:z.name}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Saved on ",new Date(z.createdAt).toLocaleString()]}),se&&n.jsx("button",{onClick:()=>Ji(z.versionId),className:"mt-2 text-sm text-cyan-400 hover:underline",children:"Revert to this version"})]},z.versionId)):n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No saved versions yet."})})]})}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-[#1A1A24]/80 backdrop-blur-md border border-white/10 p-2 rounded-xl flex items-center space-x-2 z-10",children:[n.jsx("button",{onClick:ls,disabled:!se,title:"Add Node",className:"p-2 hover:bg-white/10 rounded-md disabled:opacity-50",children:n.jsx(_l,{className:"w-5 h-5"})}),n.jsx("button",{onClick:ze,disabled:x<=0||!se,title:"Undo",className:"p-2 hover:bg-white/10 rounded-md disabled:opacity-50",children:n.jsx(Hm,{className:"w-5 h-5"})}),n.jsx("button",{onClick:Pt,disabled:x>=u.length-1||!se,title:"Redo",className:"p-2 hover:bg-white/10 rounded-md disabled:opacity-50",children:n.jsx(qm,{className:"w-5 h-5"})}),n.jsx("span",{className:"w-px h-6 bg-white/20"}),n.jsx("button",{onClick:()=>{M("versions"),w(null)},title:"View Versions",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(Km,{className:"w-5 h-5"})}),n.jsx("span",{className:"w-px h-6 bg-white/20"}),n.jsx("button",{onClick:()=>v(z=>({...z,zoom:z.zoom*1.2})),title:"Zoom In",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(_l,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>v(z=>({...z,zoom:z.zoom/1.2})),title:"Zoom Out",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(_m,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>v({x:0,y:0,zoom:1}),title:"Reset View",className:"p-2 hover:bg-white/10 rounded-md",children:n.jsx(Rm,{className:"w-5 h-5"})})]}),S&&n.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm shadow-lg z-10",children:"Click another node to connect, or click it again to cancel."})]})]}):n.jsx("div",{className:"w-screen h-screen bg-[#0A0A0F] flex items-center justify-center",children:"Idea not found."})},ty=({step:e,totalSteps:t})=>{const a=Math.max(0,(e-1)/(t-1)*100);return n.jsx("div",{className:"w-full bg-[#252532] rounded-full h-2.5 mb-8",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${a}%`}})})},Sd=({onNext:e})=>n.jsxs("div",{className:"text-center animate-fadeInUp",children:[n.jsx("h1",{className:"text-5xl font-bold text-gradient font-space-grotesk mb-4",children:"Welcome to Thinker-Doer"}),n.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"The place where great ideas meet brilliant minds."}),n.jsx("button",{onClick:e,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-lg shadow-indigo-500/20 hover:opacity-90 transition-opacity active:scale-95",children:"Let's Get Started"})]}),ay=({interests:e,skills:t,setInterests:a,setSkills:l,onNext:s,onBack:i})=>{const o=(c,r,u)=>{const f=r.includes(c)?r.filter(x=>x!==c):[...r,c];u(f)};return n.jsxs("div",{className:"animate-fadeInUp",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tell us about yourself"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"This will help us personalize your feed. Select at least 3 in total."}),n.jsx("h3",{className:"font-semibold text-lg text-indigo-300 mb-3",children:"Sectors you're interested in:"}),n.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:ja.map(c=>n.jsx("button",{onClick:()=>o(c,e,a),className:`px-4 py-2 rounded-full border-2 text-sm font-medium transition-all ${e.includes(c)?"bg-indigo-500 border-indigo-500 text-white":"bg-[#252532] border-[#374151] hover:border-indigo-500 text-gray-300"}`,children:c},c))}),n.jsx("h3",{className:"font-semibold text-lg text-purple-300 mb-3",children:"Skills you have or are looking for:"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:o0.map(c=>n.jsx("button",{onClick:()=>o(c,t,l),className:`px-4 py-2 rounded-full border-2 text-sm font-medium transition-all ${t.includes(c)?"bg-purple-500 border-purple-500 text-white":"bg-[#252532] border-[#374151] hover:border-purple-500 text-gray-300"}`,children:c},c))}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{onClick:i,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Back"}),n.jsx("button",{onClick:s,disabled:e.length+t.length<3,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:"Next"})]})]})},ly=({bio:e,setBio:t,linkedInUrl:a,setLinkedInUrl:l,portfolioUrl:s,setPortfolioUrl:i,onNext:o,onBack:c})=>{const r="mt-1 block w-full bg-[#101018] border-2 border-transparent shadow-inner rounded-lg shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500";return n.jsxs("div",{className:"animate-fadeInUp",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Complete your profile"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-300",children:["Short Bio ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("textarea",{id:"bio",value:e,onChange:u=>t(u.target.value),rows:3,required:!0,className:r,placeholder:"Tell us about your passions and what you're looking for."})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"linkedin",className:"block text-sm font-medium text-gray-300",children:"LinkedIn Profile (Optional)"}),n.jsx("input",{id:"linkedin",type:"url",value:a,onChange:u=>l(u.target.value),className:r,placeholder:"https://linkedin.com/in/your-profile"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"portfolio",className:"block text-sm font-medium text-gray-300",children:"Portfolio/Website (Optional)"}),n.jsx("input",{id:"portfolio",type:"url",value:s,onChange:u=>i(u.target.value),className:r,placeholder:"https://github.com/your-username"})]})]}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{onClick:c,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Back"}),n.jsx("button",{onClick:o,disabled:!e.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-2 px-6 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:"Next"})]})]})},ny=[{icon:"SearchIcon",title:"Discover Ideas",description:"Explore a feed of innovative ideas from thinkers around the world. Filter by sector, region, and skills to find projects that inspire you."},{icon:"Edit3Icon",title:"Share Your Vision",description:"Have an idea? Post it! Our guided process helps you flesh out your concept and create a visual Idea Board to bring it to life."},{icon:"UsersIcon",title:"Collaborate & Build",description:"Connect with doers, join discussion forums, and work together to turn ideas into reality. Your next great partnership is just a click away."}],sy=({onNext:e,onBack:t,isSubmitting:a})=>n.jsxs("div",{className:"animate-fadeInUp text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"How It Works"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:ny.map(l=>{const s=Hl[l.icon]||Hi;return n.jsxs("div",{className:"bg-[#252532]/50 p-6 rounded-xl",children:[n.jsx(s,{className:"w-10 h-10 text-indigo-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:l.title}),n.jsx("p",{className:"text-sm text-gray-400",children:l.description})]},l.title)})}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{onClick:t,className:"bg-[#374151] text-white px-6 py-2 rounded-lg hover:bg-[#4b5563]",children:"Back"}),n.jsx("button",{onClick:e,disabled:a,className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:a?"Finalizing...":"Enter the Platform"})]})]}),iy=({setCurrentUser:e,onComplete:t})=>{const[a,l]=y.useState(1),[s,i]=y.useState([]),[o,c]=y.useState([]),[r,u]=y.useState(""),[f,x]=y.useState(""),[d,m]=y.useState(""),[v,j]=y.useState(!1),T=async()=>{j(!0);const b={bio:r,interests:s,skills:o.map(N=>({skillName:N,endorsers:[]})),linkedInUrl:f||void 0,portfolioUrl:d||void 0,onboardingCompleted:!0};try{const N=await C.updateUser(b);if(N)e(N),t();else throw new Error("No updated user data returned from API.")}catch(N){console.error("Failed to save profile:",N),alert(`Failed to save profile: ${N.message||"Please try again."}`),j(!1)}},g=()=>l(b=>b+1),h=()=>l(b=>b-1),p=()=>{switch(a){case 1:return n.jsx(Sd,{onNext:g});case 2:return n.jsx(ay,{interests:s,skills:o,setInterests:i,setSkills:c,onNext:g,onBack:h});case 3:return n.jsx(ly,{bio:r,setBio:u,linkedInUrl:f,setLinkedInUrl:x,portfolioUrl:d,setPortfolioUrl:m,onNext:g,onBack:h});case 4:return n.jsx(sy,{onNext:T,onBack:h,isSubmitting:v});default:return n.jsx(Sd,{onNext:g})}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0A0A0F] p-4",children:n.jsxs("div",{className:"max-w-3xl w-full bg-[#1A1A24]/70 backdrop-blur-md border border-white/10 p-8 md:p-12 rounded-2xl shadow-2xl",children:[a>1&&n.jsx(ty,{step:a,totalSteps:5}),p()]})})},oy=({userId:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0),[o,c]=y.useState(null);y.useEffect(()=>{(async()=>{i(!0),c(null);try{const f=await C.getUserById(e);if(f!=null&&f.connections&&f.connections.length>0){const x=await Promise.all(f.connections.map(d=>C.getUserById(d)));l(x.filter(d=>d!==null))}else l([])}catch(f){console.error("Failed to fetch connections:",f),c("Could not load connections. Please try again later.")}finally{i(!1)}})()},[e]);const r=async u=>{try{const f=await C.startConversation(u);t("chat",f.conversationId||f.id)}catch(f){console.error("Failed to start conversation:",f),alert("Could not start chat.")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}):o?n.jsx("div",{className:"text-center p-8 text-red-400",children:o}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"My Connections"}),a.length===0?n.jsx(qn,{icon:Ca,title:"No Connections Yet",message:"Connect with other users to collaborate and share ideas.",ctaText:"Explore Users",onCtaClick:()=>t("explore")}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(u=>{var f;return n.jsxs("div",{className:"bg-[#1A1A24] p-6 rounded-lg shadow border border-white/10 flex flex-col items-center text-center",children:[n.jsx("img",{src:u.avatarUrl||"/Synapse/default-avatar.png",alt:u.displayName||u.username,className:"w-20 h-20 rounded-full mb-4 object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:u.displayName||u.username}),u.username&&n.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["@",u.username]}),n.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:[(f=u.bio)==null?void 0:f.substring(0,50),u.bio&&u.bio.length>50?"...":""]})]}),n.jsxs("div",{className:"mt-auto w-full flex space-x-2",children:[n.jsxs("button",{onClick:()=>r(u.userId),className:"flex-1 flex items-center justify-center space-x-1 bg-[#252532] text-white px-3 py-2 rounded-lg hover:bg-[#374151] text-sm",children:[n.jsx(Dt,{className:"w-4 h-4"}),n.jsx("span",{children:"Message"})]}),n.jsx("button",{onClick:()=>t("profile",u.userId),className:"flex-1 bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 text-sm",children:"View Profile"})]})]},u.userId)})})]})})},cy=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0);return y.useEffect(()=>{C.getAllIdeas().then(o=>{const c=new Set(e.bookmarkedIdeas||[]),r=o.filter(u=>c.has(u.ideaId));l(r)}).catch(o=>{console.error("Failed to load bookmarked ideas:",o)}).finally(()=>{i(!1)})},[e.bookmarkedIdeas]),s?n.jsx("div",{className:"text-center p-8",children:"Loading bookmarks..."}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Bookmarked Ideas"}),n.jsx("div",{className:"space-y-6",children:a.length>0?a.map(o=>n.jsx(Ha,{idea:o,setPage:t},o.ideaId)):n.jsx(qn,{icon:Um,title:"No Bookmarks Yet",message:"Save ideas that catch your eye to come back to them later.",ctaText:"Explore the Feed",onCtaClick:()=>t("feed")})})]})})},ry=({conversation:e,currentUser:t,setPage:a})=>{var v,j,T,g;const[l,s]=y.useState(null),[i,o]=y.useState(!0),c=y.useMemo(()=>e.isGroup||!e.participants?null:e.participants.find(h=>h!==t.userId),[e.isGroup,e.participants,t.userId]);y.useEffect(()=>{o(!0),c?C.getUserById(c).then(s).catch(h=>console.error("Failed to fetch user",h)).finally(()=>o(!1)):(e.isGroup||console.warn("Could not determine other user ID for conversation:",e.conversationId),o(!1))},[c,e.conversationId]);const r=(((v=e.unreadCount)==null?void 0:v[t.userId])||0)>0,u=e.isGroup?e.groupName:(l==null?void 0:l.displayName)||"Loading...",f=e.isGroup?e.groupAvatar:l==null?void 0:l.avatarUrl,x=e.lastUpdatedAt||((j=e.lastMessage)==null?void 0:j.createdAt)||"",d=((T=e.lastMessage)==null?void 0:T.text)||"No messages yet",m=((g=e.lastMessage)==null?void 0:g.senderId)||"";return i&&!e.isGroup?n.jsxs("li",{className:"flex items-center p-4 space-x-4 animate-pulse",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]}):n.jsxs("li",{onClick:()=>a("chat",e.conversationId),className:"flex items-center p-4 space-x-4 cursor-pointer hover:bg-white/5 rounded-lg transition-colors duration-200",children:[n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-700",src:f||"/default-avatar.png",alt:u}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("p",{className:`text-lg font-semibold truncate ${r?"text-white":"text-gray-300"}`,children:u}),n.jsx("p",{className:`text-xs flex-shrink-0 ml-2 ${r?"text-indigo-400":"text-gray-500"}`,children:Yr(x)})]}),n.jsxs("p",{className:`text-sm truncate ${r?"text-gray-200 font-medium":"text-gray-400"}`,children:[m===t.userId&&"You: ",d]})]}),r&&n.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full flex-shrink-0 ml-2"})]})},uy=({conversation:e,currentUser:t,onAccept:a,onDecline:l})=>{var f;const[s,i]=y.useState(null),[o,c]=y.useState(!0),r=y.useMemo(()=>{var x;return(x=e.participants)==null?void 0:x.find(d=>d!==t.userId)},[e.participants,t.userId]);y.useEffect(()=>{c(!0),r?C.getUserById(r).then(i).catch(x=>console.error("Failed to fetch user for request",x)).finally(()=>c(!1)):(console.warn("Could not determine other user ID for request:",e.conversationId),c(!1))},[r,e.conversationId]);const u=((f=e.lastMessage)==null?void 0:f.text)||"No message content";return o?n.jsxs("li",{className:"p-4 space-y-3 animate-pulse",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-700 rounded w-1/2"}),n.jsx("div",{className:"h-3 bg-gray-700 rounded w-3/4"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("div",{className:"h-8 w-20 bg-gray-600 rounded-lg"}),n.jsx("div",{className:"h-8 w-20 bg-indigo-600 rounded-lg"})]})]}):s?n.jsxs("li",{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("img",{className:"h-12 w-12 rounded-full object-cover bg-gray-700",src:s.avatarUrl||"/default-avatar.png",alt:s.displayName||"User"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-lg font-semibold text-white truncate",children:s.displayName||"User"}),n.jsxs("p",{className:"text-sm truncate text-gray-400 italic bg-black/20 p-2 rounded-md mt-1",children:['"',u,'"']})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>l(e.conversationId),className:"px-4 py-1.5 text-sm rounded-lg bg-gray-600 hover:bg-gray-500 text-white",children:"Decline"}),n.jsx("button",{onClick:()=>a(e.conversationId),className:"px-4 py-1.5 text-sm rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white",children:"Accept"})]})]}):null},dy=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState(!0),[o,c]=y.useState(null),[r,u]=y.useState("inbox"),f=y.useCallback(async()=>{c(null);try{const j=await C.getConversationsByUserId();l((j||[]).sort((T,g)=>{const h=T.lastUpdatedAt?new Date(T.lastUpdatedAt).getTime():0,p=g.lastUpdatedAt?new Date(g.lastUpdatedAt).getTime():0;return isNaN(h)&&isNaN(p)?0:isNaN(h)?1:isNaN(p)?-1:p-h}))}catch(j){console.error("Failed to fetch conversations:",j),c(`Could not load messages: ${j.message||"Please try again."}`)}finally{i(!1)}},[]);y.useEffect(()=>{i(!0),f()},[f]);const{acceptedConversations:x,pendingRequests:d}=y.useMemo(()=>({acceptedConversations:a.filter(j=>j.status==="accepted"||!j.status),pendingRequests:a.filter(j=>{var T;return j.status==="pending"&&((T=j.lastMessage)==null?void 0:T.senderId)!==e.userId})}),[a,e.userId]),m=async j=>{try{await C.acceptMessageRequest(j),f()}catch(T){console.error("Failed to accept request:",T),alert("Failed to accept message request.")}},v=async j=>{try{l(T=>T.filter(g=>g.conversationId!==j)),console.log(`Declined request (locally): ${j}`)}catch(T){console.error("Failed to decline request:",T),alert("Failed to decline message request.")}};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})}):o?n.jsx("div",{className:"text-center p-8 text-red-400",children:o}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Messages"}),n.jsx("div",{className:"border-b border-white/10 mb-4",children:n.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>u("inbox"),className:`whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm ${r==="inbox"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Inbox"}),n.jsxs("button",{onClick:()=>u("requests"),className:`whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm ${r==="requests"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Requests ",d.length>0&&n.jsx("span",{className:"ml-2 bg-indigo-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:d.length})]})]})}),n.jsx("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10",children:n.jsxs("ul",{className:"divide-y divide-white/10",children:[r==="inbox"&&(x.length>0?x.map(j=>n.jsx(ry,{conversation:j,currentUser:e,setPage:t},j.conversationId)):n.jsx("div",{className:"p-8",children:n.jsx(qn,{icon:Dt,title:"Your Inbox is Empty",message:"Start a conversation with other thinkers and doers to build your network.",ctaText:"Explore Users",onCtaClick:()=>t("explore")})})),r==="requests"&&(d.length>0?d.map(j=>n.jsx(uy,{conversation:j,currentUser:e,onAccept:m,onDecline:v},j.conversationId)):n.jsx("div",{className:"p-8 text-center text-gray-500",children:"No pending message requests."}))]})})]})})},fy=({message:e,sender:t,currentUser:a,isCurrentUser:l,participants:s})=>{const i=r=>{},o=e.replyToMessageId?i(e.replyToMessageId):void 0,c=o?s[o.senderId]:void 0;return n.jsx("div",{className:`flex flex-col ${l?"items-end":"items-start"} mb-4 group`,children:n.jsxs("div",{className:`flex ${l?"flex-row-reverse":"flex-row"} items-end max-w-xs md:max-w-md lg:max-w-lg`,children:[!l&&n.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/Synapse/default-avatar.png",alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full self-start mr-2 flex-shrink-0 object-cover"}),n.jsxs("div",{className:`relative px-4 py-3 rounded-lg shadow ${l?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-br-none":"bg-[#252532] text-gray-200 rounded-bl-none"}`,children:[!l&&n.jsx("span",{className:"text-xs text-indigo-300 mb-1 font-semibold block",children:(t==null?void 0:t.displayName)||"User"}),o&&n.jsxs("div",{className:"mb-2 p-2 border-l-2 border-indigo-400/50 bg-black/20 rounded",children:[n.jsx("p",{className:"text-xs font-semibold text-indigo-300",children:o.senderId===(a==null?void 0:a.userId)?"You replied to yourself":`You replied to ${(c==null?void 0:c.displayName)||"User"}`}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:o.text||"Media content"})]}),e.text&&n.jsx("p",{className:"text-sm break-words",children:e.text}),e.media&&n.jsx("div",{className:"mt-2",children:e.media.type==="image"?n.jsx("img",{src:e.media.url,alt:"Uploaded content",className:"max-w-full h-auto rounded-md"}):n.jsxs("a",{href:e.media.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline flex items-center space-x-1",children:[n.jsx(qr,{className:"w-4 h-4"}),n.jsx("span",{children:e.media.fileName})]})}),n.jsx("span",{className:`text-xs mt-1 block ${l?"text-indigo-200/80 text-right":"text-gray-500 text-left"}`,children:Yr(e.createdAt)})]}),l&&n.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/Synapse/default-avatar.png",alt:(t==null?void 0:t.displayName)||"User",className:"w-8 h-8 rounded-full self-start ml-2 flex-shrink-0 object-cover"})]})})},hy=({conversationId:e,currentUser:t,setPage:a})=>{var D;const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState({}),[u,f]=y.useState(""),[x,d]=y.useState(!0),[m,v]=y.useState(null),[j,T]=y.useState(null),g=y.useRef(null),h=y.useCallback(async()=>{var E;v(null);try{const[M,O]=await Promise.all([C.getConversationById(e),C.getMessagesByConversationId(e)]);if(s(M),o(O||[]),M!=null&&M.participants){const I=M.participants.filter(L=>!c[L]);if(I.length>0){const L=await Promise.all(I.map(U=>C.getUserById(U)));r(U=>{const A={...U};return L.forEach(H=>{H&&(A[H.userId]=H)}),A})}const ee=(E=M.unreadCount)==null?void 0:E[t.userId];typeof ee=="number"&&ee>0&&(await C.markMessagesRead(e),s(L=>L?{...L,unreadCount:{...L.unreadCount,[t.userId]:0}}:null))}else if(M)console.warn("Conversation data is missing participants:",M);else throw new Error("Conversation not found.")}catch(M){console.error("Failed to fetch chat data:",M),v("Could not load chat. Please try again later.")}finally{d(!1)}},[e,t.userId,c]);y.useEffect(()=>{d(!0),h()},[h]),y.useEffect(()=>{var E;(E=g.current)==null||E.scrollIntoView({behavior:"smooth"})},[i]);const p=async E=>{if(E.preventDefault(),!(u.trim()===""||!l))try{const M=await C.sendMessage({conversationId:l.conversationId,text:u,replyToMessageId:j==null?void 0:j.messageId});o(O=>[...O,M]),f(""),T(null),s(O=>O?{...O,lastMessage:M,lastUpdatedAt:M.createdAt}:null)}catch(M){console.error("Failed to send message:",M),alert("Failed to send message.")}};if(x)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});if(m)return n.jsx("div",{className:"text-center p-8 text-red-400",children:m});if(!l)return n.jsx("div",{className:"text-center p-8 text-gray-400",children:"Conversation not found or access denied."});const b=(l.participants||[]).filter(E=>E!==t.userId),N=b.length===1?c[b[0]]:null,w=l.isGroup?l.groupName:(N==null?void 0:N.displayName)||"Chat",S=l.isGroup?l.groupAvatar:N==null?void 0:N.avatarUrl;return n.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#0A0A0F]",children:[n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("button",{onClick:()=>a("inbox"),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:" Back to Inbox"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("img",{src:S||"/Synapse/default-avatar.png",alt:w,className:"w-10 h-10 rounded-full object-cover"}),n.jsx("h1",{className:"text-lg font-bold text-white",children:w})]}),n.jsx("div",{className:"w-24"})," "]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin",children:[i.length===0&&n.jsx("p",{className:"text-center text-gray-500",children:"No messages yet. Start the conversation!"}),i.map(E=>n.jsx(fy,{message:E,sender:c[E.senderId||E.sender_id],currentUser:t,isCurrentUser:(E.senderId||E.sender_id)===t.userId,participants:c},E.messageId||E.id)),n.jsx("div",{ref:g})]}),n.jsxs("div",{className:"p-4 border-t border-white/10 bg-[#101018]",children:[j&&n.jsxs("div",{className:"mb-2 p-2 bg-[#252532] rounded-md border-l-4 border-indigo-500 flex justify-between items-center text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-gray-300",children:["Replying to ",((D=c[j.senderId])==null?void 0:D.displayName)||"User"]}),n.jsx("p",{className:"text-gray-400 truncate",children:j.text||"Media content"})]}),n.jsx("button",{onClick:()=>T(null),className:"p-1 rounded-full hover:bg-white/10",children:n.jsx(Ct,{className:"w-4 h-4 text-gray-400"})})]}),n.jsxs("form",{onSubmit:p,className:"flex items-center space-x-3",children:[n.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(qr,{className:"w-5 h-5"})}),n.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-white",children:n.jsx(a0,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:u,onChange:E=>f(E.target.value),placeholder:"Type your message...",className:"flex-1 bg-[#252532] border-2 border-[#374151] rounded-lg shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:n.jsx(_r,{className:"w-5 h-5"})})]})]})]})},my=({isOpen:e,onClose:t,onConfirm:a,title:l,message:s,confirmText:i="Confirm",cancelText:o="Cancel",confirmButtonClass:c="bg-red-600 hover:bg-red-700"})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirmation-modal-title",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-md w-full p-8 relative",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white","aria-label":"Close modal",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{id:"confirmation-modal-title",className:"text-2xl font-bold text-white mb-4",children:l}),n.jsx("p",{className:"text-gray-300 mb-8",children:s}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg text-white bg-[#374151] hover:bg-[#4b5563]",children:o}),n.jsx("button",{onClick:a,className:`px-6 py-2 rounded-lg text-white shadow-md ${c}`,children:i})]})]})}):null,xy=({idea:e,members:t,currentUser:a,onAddMember:l,onRemoveMember:s,setPage:i})=>{const[o,c]=y.useState(""),r=a.userId===e.ownerId,u=()=>{o.trim()&&(l(o.trim()),c(""))};return n.jsxs("div",{className:"bg-[#1A1A24]/60 p-4 rounded-lg border border-white/10 h-full flex flex-col",children:[n.jsxs("h3",{className:"text-lg font-bold text-white mb-4 border-b border-white/10 pb-2",children:["Forum Members (",t.length,")"]}),n.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:n.jsx("ul",{className:"space-y-3 pr-2",children:t.map(f=>n.jsxs("li",{className:"flex items-center justify-between group",children:[n.jsxs("button",{onClick:()=>i("profile",f.userId),className:"flex items-center space-x-3 text-left",children:[n.jsx("img",{src:f.avatarUrl||"/default-avatar.png",alt:f.displayName||f.username,className:"w-8 h-8 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-gray-300 group-hover:text-indigo-400",children:f.displayName||f.username}),f.userId===e.ownerId&&n.jsx("span",{className:"block text-xs text-indigo-400",children:"Owner"})]})]}),r&&f.userId!==a.userId&&n.jsx("button",{onClick:()=>s(f.userId,f.displayName||f.username||"User"),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-400 transition-opacity",children:n.jsx(Im,{className:"w-5 h-5"})})]},f.userId))})}),r&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[n.jsx("h4",{className:"font-semibold text-white mb-2",children:"Add Member"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:o,onChange:f=>c(f.target.value),placeholder:"Enter user ID or username",className:"flex-1 bg-[#252532] border-2 border-[#374151] rounded-lg py-1 px-3 text-sm text-white focus:outline-none focus:ring-1 focus:ring-indigo-500"}),n.jsx("button",{onClick:u,className:"bg-indigo-600 p-2 rounded-lg hover:bg-indigo-700",children:n.jsx(Yi,{className:"w-5 h-5"})})]})]})]})},kd=({msg:e,sender:t,isOwner:a,onPin:l,onDelete:s})=>n.jsxs("div",{className:"group flex items-start gap-3 p-3 rounded-lg transition-colors hover:bg-white/5",children:[n.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/default-avatar.png",alt:(t==null?void 0:t.displayName)||"User",className:"w-10 h-10 rounded-full mt-1 flex-shrink-0 object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-baseline space-x-2",children:[n.jsx("span",{className:"font-bold text-indigo-300",children:(t==null?void 0:t.displayName)||"User"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleString()})]}),a&&n.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>l(e.messageId),className:"text-gray-400 hover:text-indigo-400 p-1 rounded-full hover:bg-white/10",title:e.isPinned?"Unpin message":"Pin message",children:n.jsx(Rr,{className:`w-4 h-4 ${e.isPinned?"text-indigo-400 fill-current":""}`})}),n.jsx("button",{onClick:()=>s(e.messageId),className:"text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-white/10",title:"Delete message",children:n.jsx(Ii,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-gray-200 mt-1 break-words",children:e.text})]})]}),gy=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState([]),[c,r]=y.useState([]),[u,f]=y.useState(""),[x,d]=y.useState(!0),[m,v]=y.useState(!0),[j,T]=y.useState(null),g=y.useRef(null),h=y.useCallback(async()=>{try{const O=await C.getIdeaById(e);if(O){if(!(O.forumMembers||[]).includes(t.userId)){alert("You don't have access to this forum."),a("feed");return}s(O);const I=await Promise.all((O.forumMembers||[]).map(L=>C.getUserById(L)));r(I.filter(L=>L!==null));const ee=await C.getForumMessages(e);o(ee||[])}else a("feed")}catch(O){console.error("Failed to fetch forum data:",O),alert("Could not load forum."),a("ideaDetail",e)}},[e,t.userId,a]);y.useEffect(()=>{d(!0),h().finally(()=>d(!1))},[h]),y.useEffect(()=>{var O;(O=g.current)==null||O.scrollIntoView({behavior:"smooth"})},[i]);const p=async O=>{if(O.preventDefault(),!(u.trim()===""||!l))try{const I=await C.postForumMessage(l.ideaId,u);o(ee=>[...ee,I]),f("")}catch(I){console.error("Failed to send message:",I),alert("Failed to send message.")}},b=async O=>{if(l)try{(await C.addForumMember(l.ideaId,O)).success?h():alert("Could not add member. User may not exist or is already in the forum.")}catch(I){console.error("Failed to add member:",I),alert("Could not add member.")}},N=(O,I)=>{l&&T({title:`Remove ${I}?`,message:`Are you sure you want to remove ${I} from the forum? This action cannot be undone.`,confirmText:"Remove",onConfirm:async()=>{try{(await C.removeForumMember(l.ideaId,O)).success?h():alert("Could not remove member.")}catch(ee){console.error("Failed to remove member:",ee),alert("Could not remove member.")}finally{T(null)}}})},w=O=>{T({title:"Delete Message?",message:"Are you sure you want to delete this message? This action cannot be undone.",confirmText:"Delete",onConfirm:async()=>{try{await C.deleteForumMessage(O),o(I=>I.filter(ee=>ee.messageId!==O))}catch(I){console.error("Failed to delete message:",I),alert("Failed to delete message.")}finally{T(null)}}})},S=async O=>{try{await C.pinForumMessage(O),h()}catch(I){console.error("Failed to pin message:",I),alert("Failed to update pin status.")}};if(x||!l)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});const D=t.userId===l.ownerId,E=(i||[]).filter(O=>O.isPinned),M=(i||[]).filter(O=>!O.isPinned);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#0A0A0F]",children:[n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("div",{children:n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:" Back to Idea"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:"Discussion Forum"}),n.jsx("p",{className:"text-sm text-gradient",children:l.title})]}),n.jsx("div",{className:"w-36"})," "]}),n.jsxs("div",{className:"flex-grow flex min-h-0",children:[n.jsxs("main",{className:"flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin",children:[i.length===0&&n.jsx("p",{className:"text-center text-gray-500",children:"No messages in this forum yet. Start the discussion!"}),E.length>0&&n.jsxs("div",{className:"border border-indigo-500/30 rounded-lg mb-4 bg-indigo-900/10",children:[n.jsxs("button",{onClick:()=>v(!m),className:"w-full flex justify-between items-center p-3 bg-indigo-900/20 rounded-t-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Rr,{className:"w-5 h-5 text-indigo-400"}),n.jsx("h4",{className:"font-semibold text-indigo-300",children:"Pinned Messages"})]}),n.jsx(Xm,{className:`w-5 h-5 text-indigo-400 transition-transform ${m?"":"-rotate-90"}`})]}),m&&n.jsx("div",{className:"py-1 px-2 divide-y divide-white/5",children:E.map(O=>n.jsx(kd,{msg:O,sender:c.find(I=>I.userId===O.senderId),isOwner:D,onPin:S,onDelete:w},O.messageId))})]}),n.jsx("div",{className:"space-y-1",children:M.map(O=>n.jsx(kd,{msg:O,sender:c.find(I=>I.userId===O.senderId),isOwner:D,onPin:S,onDelete:w},O.messageId))}),n.jsx("div",{ref:g})]}),n.jsx("div",{className:"mt-auto p-4 border-t border-white/10 bg-[#0A0A0F]",children:n.jsxs("form",{onSubmit:p,className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:u,onChange:O=>f(O.target.value),placeholder:"Type your message...",className:"flex-1 bg-[#252532] border-2 border-[#374151] rounded-full py-3 px-5 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),n.jsx("button",{type:"submit",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-3.5 rounded-full hover:opacity-90 transition-opacity disabled:opacity-50",disabled:!u.trim(),children:n.jsx(_r,{className:"w-5 h-5"})})]})})]}),n.jsx("aside",{className:"w-80 p-4 flex-shrink-0 border-l border-white/10 hidden md:block",children:n.jsx(xy,{idea:l,members:c,currentUser:t,onAddMember:b,onRemoveMember:N,setPage:a})})]})]}),j&&n.jsx(my,{isOpen:!0,onClose:()=>T(null),onConfirm:j.onConfirm,title:j.title,message:j.message,confirmText:j.confirmText})]})},nn=({icon:e,label:t,isActive:a,onClick:l,isDisabled:s})=>{const i=a?"text-indigo-500 dark:text-indigo-400":"text-gray-500 dark:text-gray-400",o=s?"opacity-50 cursor-not-allowed":"hover:text-indigo-500 dark:hover:text-indigo-400";return n.jsxs("button",{onClick:l,disabled:s,className:`flex flex-col items-center justify-center w-full pt-2 pb-1 transition-all duration-200 transform ${a?"scale-110":""} ${i} ${o}`,children:[n.jsx(e,{className:"w-6 h-6 mb-1"}),n.jsx("span",{className:"text-xs font-medium",children:t})]})},py=({activePage:e,setPage:t,currentUser:a,isGuest:l,onGuestAction:s})=>n.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white/60 dark:bg-[#0A0A0F]/60 backdrop-blur-xl border-t border-gray-200 dark:border-white/10 z-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-around items-center h-16",children:[n.jsx(nn,{icon:Ym,label:"Home",isActive:e==="feed",onClick:()=>t("feed")}),n.jsx(nn,{icon:Vm,label:"Explore",isActive:e==="explore",onClick:()=>t("explore")}),n.jsx(nn,{icon:Dt,label:"Messages",isActive:e==="inbox"||e==="chat",onClick:l?s:()=>t("inbox")}),n.jsx(nn,{icon:qi,label:"Notifications",isActive:e==="notifications",onClick:l?s:()=>t("notifications")}),n.jsx(nn,{icon:Ca,label:"Profile",isActive:e==="profile",onClick:l||!a?s:()=>t("profile",a.userId)})]})})}),yy=({currentUser:e,setPage:t})=>{const[a,l]=y.useState([]),[s,i]=y.useState([]),[o,c]=y.useState([]),[r,u]=y.useState(!0),[f,x]=y.useState(null),[d,m]=y.useState("sectors"),[v,j]=y.useState("");y.useEffect(()=>{(async()=>{u(!0),x(null);try{const p=await C.getAllIdeas();l(p||[]);const b=[...p||[]].sort((N,w)=>(w.likesCount||0)+(w.commentsCount||0)-((N.likesCount||0)+(N.commentsCount||0)));if(i(b.slice(0,10)),e){const N=new Set(e.interests||[]),w=new Set((e.skills||[]).map(D=>D==null?void 0:D.skillName).filter(Boolean)),S=[...p||[]].filter(D=>(D.tags||[]).some(E=>N.has(E))||(D.requiredSkills||[]).some(E=>w.has(E))).slice(0,10);c(S)}}catch(p){console.error("Failed to fetch explore data:",p),x("Could not load ideas. Please try again later.")}finally{u(!1)}})()},[e]);const T=y.useMemo(()=>{const h={},p=v?(a||[]).filter(b=>((b==null?void 0:b.title)||"").toLowerCase().includes(v.toLowerCase())||((b==null?void 0:b.summary)||"").toLowerCase().includes(v.toLowerCase())):a||[];for(const b of ja)h[b]=p.filter(N=>(N==null?void 0:N.sector)===b);return h},[a,v]),g=()=>{if(r)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin text-indigo-400"})});if(f)return n.jsx("div",{className:"text-center p-8 text-red-400",children:f});switch(d){case"sectors":const h=ja.some(p=>{var b;return((b=T[p])==null?void 0:b.length)>0});return!h&&v?n.jsx("p",{className:"text-gray-400 text-center",children:"No ideas found matching your search."}):h?n.jsx("div",{className:"space-y-10",children:ja.map(p=>{const b=T[p];return!b||b.length===0?null:n.jsxs("section",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4 border-l-4 border-indigo-500 pl-3",children:p}),n.jsx("div",{className:"flex overflow-x-auto space-x-6 pb-4 -mx-4 px-4 scrollbar-thin",children:b.map(N=>n.jsx("div",{className:"w-80 flex-shrink-0",children:n.jsx(Ha,{idea:N,setPage:t})},N.ideaId))})]},p)})}):n.jsx("p",{className:"text-gray-400 text-center",children:"No ideas found in any sector yet."});case"trending":return s.length===0?n.jsx("p",{className:"text-gray-400 text-center",children:"No trending ideas found yet."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(p=>n.jsx(Ha,{idea:p,setPage:t},p.ideaId))});case"recommended":return e?o.length===0?n.jsx("p",{className:"text-gray-400 text-center col-span-full",children:"No recommendations found. Update your profile interests and skills."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>n.jsx(Ha,{idea:p,setPage:t},p.ideaId))}):n.jsx("p",{className:"text-gray-400 text-center",children:"Please log in to see recommendations."});default:return null}};return n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Explore Ideas"}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"search",placeholder:"Search all ideas by keyword...",value:v,onChange:h=>j(h.target.value),className:"w-full bg-[#1A1A24] border-2 border-[#374151] rounded-lg shadow-sm py-3 px-4 text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})}),n.jsx("div",{className:"border-b border-white/10 mb-6",children:n.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[n.jsx("button",{onClick:()=>m("sectors"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="sectors"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"By Sector"}),n.jsx("button",{onClick:()=>m("trending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="trending"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Trending"}),n.jsx("button",{onClick:()=>m("recommended"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${d==="recommended"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Recommended"})]})}),g()]})})},Cd={all:[],collaborations:["COLLABORATION_REQUEST","COLLABORATION_APPROVED","COLLABORATION_RECORDED"],feedback:["NEW_COMMENT","NEW_FEEDBACK"],community:["NEW_CONNECTION","ACHIEVEMENT_UNLOCKED","CONTENT_REPORTED_OWNER","CONTENT_REPORTED_REPORTER","IDEA_TIMESTAMPED","NEW_MESSAGE","MESSAGE_REQUEST","MILESTONE_COMPLETED"]},by={COLLABORATION_REQUEST:Yi,COLLABORATION_APPROVED:Ca,COLLABORATION_RECORDED:Rl,NEW_COMMENT:Dt,NEW_FEEDBACK:Vi,NEW_CONNECTION:Ca,ACHIEVEMENT_UNLOCKED:Jl,CONTENT_REPORTED_OWNER:Hn,CONTENT_REPORTED_REPORTER:Hn,IDEA_TIMESTAMPED:Rl,NEW_MESSAGE:Dt,MESSAGE_REQUEST:Dt,MILESTONE_COMPLETED:Qi},vy=({notification:e,setPage:t})=>{const a=s=>{const i=Math.floor((new Date().getTime()-new Date(s).getTime())/1e3);let o=i/86400;return o>1?`${Math.floor(o)}d ago`:(o=i/3600,o>1?`${Math.floor(o)}h ago`:(o=i/60,o>1?`${Math.floor(o)}m ago`:"just now"))},l=by[e.type]||qi;return n.jsxs("li",{onClick:()=>{e.link?t(e.link.page,e.link.id):console.warn("Notification link missing:",e)},className:`p-4 flex items-start space-x-4 cursor-pointer hover:bg-white/5 transition-colors duration-200 ${e.read?"":"bg-indigo-900/10"}`,children:[n.jsx("div",{className:`mt-1 flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center ${e.read?"bg-gray-700":"bg-indigo-600"}`,children:n.jsx(l,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm ${e.read?"text-gray-300":"text-white font-semibold"}`,children:e.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a(e.createdAt)})]}),!e.read&&n.jsx("div",{className:"w-2.5 h-2.5 bg-indigo-500 rounded-full mt-2 flex-shrink-0"})]})},jy=({setPage:e})=>{const[t,a]=y.useState([]),[l,s]=y.useState(!0),[i,o]=y.useState("all"),c=y.useCallback(async()=>{try{const f=await C.getNotificationsByUserId();a(f)}catch(f){console.error("Failed to fetch notifications:",f),alert("Could not load notifications. Please try again later.")}},[]);y.useEffect(()=>{s(!0),c().finally(()=>s(!1))},[c]);const r=async()=>{try{await C.markAllNotificationsAsRead(),c()}catch(f){console.error("Failed to mark notifications as read:",f),alert("Could not mark notifications as read. Please try again.")}},u=y.useMemo(()=>i==="all"?t:t.filter(f=>Cd[i].includes(f.type)),[t,i]);return l?n.jsx("div",{className:"text-center p-8",children:"Loading notifications..."}):n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Notifications"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center space-x-1.5 text-sm text-gray-400 hover:text-white",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsx("span",{children:"Mark all as read"})]}),n.jsx("button",{onClick:()=>e("notificationSettings"),className:"p-2 rounded-full text-gray-400 hover:text-white hover:bg-white/10",children:n.jsx(t0,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"border-b border-white/10 mb-4",children:n.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:Object.keys(Cd).map(f=>n.jsx("button",{onClick:()=>o(f),className:`capitalize whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm ${i===f?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:f},f))})}),n.jsx("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10",children:n.jsx("ul",{className:"divide-y divide-white/10",children:u.length>0?u.map(f=>n.jsx(vy,{notification:f,setPage:e},f.id)):n.jsx("div",{className:"p-8 text-center text-gray-500",children:"You have no notifications in this category."})})})]})})},Ny=({setPage:e})=>n.jsx("div",{className:"container mx-auto p-4 md:p-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto bg-[#1A1A24] p-8 rounded-2xl shadow-2xl border border-white/10",children:[n.jsx("button",{onClick:()=>e("profile"),className:"text-indigo-400 mb-6",children:" Back to Profile"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Rl,{className:"w-8 h-8 text-indigo-400"}),n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Community Guidelines"})]}),n.jsxs("div",{className:"prose prose-invert prose-p:text-gray-300 prose-headings:text-white prose-a:text-indigo-400 max-w-none space-y-4",children:[n.jsx("p",{children:"Welcome to the Thinker-Doer Platform. Our mission is to foster innovation and collaboration in a safe, respectful, and productive environment. By participating, you agree to abide by these guidelines."}),n.jsx("h2",{className:"text-xl font-semibold",children:"1. Be Respectful and Constructive"}),n.jsx("p",{children:"Treat all members with respect. Disagreements are natural, but they must be handled constructively. Personal attacks, harassment, hate speech, trolling, and any form of bullying are strictly prohibited."}),n.jsx("h2",{className:"text-xl font-semibold",children:"2. Protect Intellectual Property"}),n.jsx("p",{children:"Only post ideas and content that you own or have the right to share. Do not infringe on copyrights, trademarks, or patents. Our blockchain timestamping feature is here to help establish proof of origin for your ideas."}),n.jsx("h2",{className:"text-xl font-semibold",children:"3. No Inappropriate Content"}),n.jsx("p",{children:"Do not post content that is obscene, pornographic, graphically violent, or otherwise offensive. This is a professional platform for innovation, not a social media site for personal expression."}),n.jsx("h2",{className:"text-xl font-semibold",children:"4. No Spam or Scams"}),n.jsx("p",{children:"Do not use the platform for unsolicited advertising, spam, or fraudulent activities. All content should be relevant to the purpose of ideation and collaboration."}),n.jsx("h2",{className:"text-xl font-semibold",children:"5. Moderation and Enforcement"}),n.jsx("p",{children:"We provide a reporting mechanism for any content or user that violates these guidelines. Our moderation team will review all reports. Violations may result in content removal, temporary suspension, or permanent banning from the platform."}),n.jsx("p",{className:"pt-4 border-t border-white/10",children:"We believe in the power of this community to self-regulate and maintain a high standard of interaction. Thank you for contributing to a positive and innovative ecosystem."})]})]})}),wy=({achievementId:e,onClose:t,onShare:a})=>{const l=Ir[e];if(!l)return null;const s=Hl[l.icon]||Jl;return n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-yellow-400/50 max-w-md w-full p-8 relative text-center",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-xl font-bold text-yellow-300 mb-2",children:"Achievement Unlocked!"}),n.jsxs("div",{className:"flex flex-col items-center my-6",children:[n.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center bg-yellow-400/10 border-2 border-yellow-400/30",children:n.jsx(s,{className:"w-12 h-12 text-yellow-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-white mt-4",children:l.name}),n.jsx("p",{className:"text-gray-400 mt-1",children:l.description})]}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg text-white bg-[#374151] hover:bg-[#4b5563]",children:"Dismiss"}),n.jsx("button",{onClick:a,className:"px-6 py-2 rounded-lg text-white shadow-md bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90",children:"Share to Feed"})]})]})})},ks=({icon:e,title:t,value:a,colorClass:l})=>n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md p-6 rounded-2xl border border-white/10 flex items-center space-x-4",children:[n.jsx("div",{className:`p-3 rounded-full ${l}`,children:n.jsx(e,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:t}),n.jsx("p",{className:"text-2xl font-bold text-white",children:a})]})]}),Cs=({title:e,children:t})=>n.jsxs("div",{className:"bg-[#1A1A24]/70 backdrop-blur-md p-6 rounded-2xl border border-white/10",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:e}),n.jsx("div",{className:"h-64",children:t})]}),Sy=({data:e})=>{if(!e||e.length===0)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"No data available."});const t=Math.max(...e.map(l=>l.views),1);if(e.length<2)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"Not enough data for line chart."});const a=e.map((l,s)=>`${s/(e.length-1)*100},${100-l.views/t*100}`).join(" ");return n.jsxs("div",{className:"w-full h-full flex flex-col",children:[n.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"flex-1",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"lineChartGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:"0.4"}),n.jsx("stop",{offset:"100%",stopColor:"#8B5CF6",stopOpacity:"0"})]})}),n.jsx("polygon",{fill:"url(#lineChartGradient)",points:`0,100 ${a} 100,100`}),n.jsx("polyline",{fill:"none",stroke:"#8B5CF6",strokeWidth:"2",points:a})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[n.jsx("span",{children:new Date(e[0].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n.jsx("span",{children:new Date(e[e.length-1].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})},Ad=({data:e})=>{if(!e||e.length===0)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"No data available."});const t=Math.max(...e.map(a=>a.value),1);return n.jsx("div",{className:"w-full h-full flex items-end justify-around space-x-2",children:e.map((a,l)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-full bg-gradient-to-t from-indigo-500 to-purple-500 rounded-t-md transition-all duration-300 ease-out",style:{height:`${a.value/t*100}%`},title:`${a.label}: ${a.value}`}),n.jsx("span",{className:"text-xs text-gray-400 mt-1 truncate",children:a.label})]},l))})},ky=({data:e})=>{const t=e||[],a=t.reduce((i,o)=>i+o.count,0);if(a===0)return n.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"No collaborator data yet."});const l=["#6366F1","#8B5CF6","#A78BFA","#38BDF8","#22D3EE"];let s=0;return n.jsxs("div",{className:"w-full h-full flex items-center space-x-6",children:[n.jsx("div",{className:"w-1/2 h-full relative",children:n.jsx("svg",{viewBox:"0 0 36 36",className:"w-full h-full",children:t.map((i,o)=>{const c=i.count/a*100;if(c===0)return null;const r=`${c} ${100-c}`,u=25-s;return s+=c,n.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"transparent",stroke:l[o%l.length],strokeWidth:"4",strokeDasharray:r,strokeDashoffset:u,transform:"rotate(-90 18 18)"},i.skill)})})}),n.jsx("div",{className:"w-1/2 space-y-2",children:t.map((i,o)=>n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:l[o%l.length]}}),n.jsx("span",{className:"text-gray-300",children:i.skill}),n.jsxs("span",{className:"ml-auto text-gray-400 font-mono",children:[(i.count/a*100).toFixed(0),"%"]})]},i.skill))})]})},Cy=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState(null),[c,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{r(!0);try{const[f,x]=await Promise.all([C.getIdeaById(e),C.getAnalyticsForIdea(e)]);if(f&&f.ownerId!==t.userId&&!(f.collaborators||[]).includes(t.userId)){alert("You don't have permission to view these analytics."),a("ideaDetail",e);return}s(f),o(x)}catch(f){console.error("Failed to fetch analytics data:",f),alert("Could not load analytics data."),a("ideaDetail",e)}finally{r(!1)}})()},[e,t.userId,a]),c?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin"})}):!l||!i?n.jsx("div",{className:"text-center p-8",children:"Could not load analytics data."}):n.jsx("div",{className:"bg-[#0A0A0F] min-h-screen p-4 md:p-8 animate-fadeInUp",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"text-indigo-400 mb-6",children:" Back to Idea"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Hr,{className:"w-8 h-8 text-indigo-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-gray-400",children:l.title})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ks,{icon:Wm,title:"Total Views",value:i.totalViews.toLocaleString(),colorClass:"bg-blue-500"}),n.jsx(ks,{icon:e0,title:"Engagement Rate",value:`${i.engagementRate.toFixed(1)}%`,colorClass:"bg-emerald-500"}),n.jsx(ks,{icon:Ca,title:"Collaborators",value:(l.collaborators||[]).length,colorClass:"bg-purple-500"}),n.jsx(ks,{icon:Pm,title:"Conversion Rate",value:`${i.collaborationConversionRate.toFixed(1)}%`,colorClass:"bg-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsx(Cs,{title:"Views Over Time (Last 7 Days)",children:n.jsx(Sy,{data:i.viewsOverTime})}),n.jsx(Cs,{title:"Collaborator Skills",children:n.jsx(ky,{data:i.collaboratorSkillDemographics})}),n.jsx(Cs,{title:"Top 5 Regions by Views",children:n.jsx(Ad,{data:(i.geography||[]).slice(0,5).map(u=>({label:u.region,value:u.views}))})}),n.jsx(Cs,{title:"Traffic Sources",children:n.jsx(Ad,{data:(i.trafficSources||[]).map(u=>({label:u.source,value:u.visits}))})})]})]})})},Ys={enabled:!1,startTime:"22:00",endTime:"08:00"},_o={collaborationRequests:["inApp"],collaborationUpdates:["inApp"],commentsOnMyIdeas:["inApp"],feedbackOnMyIdeas:["inApp"],newConnections:["inApp"],achievementUnlocks:["inApp"],directMessages:["inApp"],messageReactions:["inApp"],doNotDisturb:Ys},Ro=({checked:e,onChange:t})=>n.jsx("button",{type:"button",className:`${e?"bg-indigo-600":"bg-gray-600"} relative inline-flex items-center h-6 rounded-full w-11 transition-colors`,onClick:()=>t(!e),children:n.jsx("span",{className:`${e?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`})}),Td=({label:e,description:t,children:a})=>n.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium text-white",children:e}),n.jsx("p",{className:"text-gray-400",children:t})]}),n.jsx("div",{className:"mt-2 sm:mt-0 sm:col-span-2 flex items-center space-x-6 justify-end",children:a})]}),Ay=({currentUser:e,setCurrentUser:t,setPage:a})=>{var T,g,h;const[l,s]=y.useState(()=>e.notificationSettings??{..._o}),[i,o]=y.useState(!1),[c,r]=y.useState(!1);y.useEffect(()=>{const p=e.notificationSettings??_o;JSON.stringify(l)!==JSON.stringify(p)&&s(p)},[e.notificationSettings]);const u=(p,b,N)=>{s(w=>{const S=w[p]??[],D=N?[...S,b]:S.filter(E=>E!==b);return{...w,[p]:D}})},f=(p,b)=>{s(N=>({...N,doNotDisturb:{...N.doNotDisturb??Ys,[p]:b}}))},x=async()=>{o(!0);try{const p=await C.updateNotificationSettings(l);if(p)t(p),s(p.notificationSettings??_o),r(!0),setTimeout(()=>r(!1),2e3);else throw new Error("No updated user data returned from API.")}catch(p){console.error("Failed to save settings:",p),alert(`Failed to save settings: ${p.message||"Please try again."}`)}finally{o(!1)}},d=[{key:"collaborationRequests",label:"Collaboration Requests",description:"When someone wants to join your idea."},{key:"collaborationUpdates",label:"Collaboration Updates",description:"When your request is approved or a collaboration is recorded."},{key:"commentsOnMyIdeas",label:"Comments on Your Ideas",description:"When someone comments on an idea you own."},{key:"feedbackOnMyIdeas",label:"Feedback on Your Ideas",description:"When someone provides feedback on an idea you own."},{key:"newConnections",label:"New Connections",description:"When another user connects with you."},{key:"achievementUnlocks",label:"Achievement Unlocks",description:"When you unlock a new achievement badge."},{key:"directMessages",label:"Direct Messages",description:"When you receive a new direct message."},{key:"messageReactions",label:"Message Reactions",description:"When someone reacts to your message."}],m=((T=l.doNotDisturb)==null?void 0:T.enabled)??!1,v=((g=l.doNotDisturb)==null?void 0:g.startTime)??Ys.startTime,j=((h=l.doNotDisturb)==null?void 0:h.endTime)??Ys.endTime;return n.jsxs("div",{className:"bg-[#0A0A0F] min-h-screen",children:[n.jsx("header",{className:"bg-[#1A1A24]/80 backdrop-blur-lg border-b border-white/10 sticky top-0 z-10",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsx("button",{onClick:()=>a("notifications"),className:"text-indigo-400",children:" Back to Notifications"}),n.jsx("h1",{className:"text-xl font-bold text-white",children:"Notification Settings"}),n.jsx("div",{className:"w-36 flex justify-end",children:n.jsx("button",{onClick:x,disabled:i||c,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold px-4 py-2 rounded-lg shadow-md hover:opacity-90 disabled:opacity-50",children:i?"Saving...":c?"Saved!":"Save"})})]})})}),n.jsxs("main",{className:"container mx-auto p-4 md:p-8",children:[n.jsx("div",{className:"max-w-3xl mx-auto bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10",children:n.jsx("div",{className:"divide-y divide-white/10 px-6",children:d.map(({key:p,label:b,description:N})=>n.jsxs(Td,{label:b,description:N,children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("label",{className:"text-xs font-medium text-gray-400",children:"In-App"}),n.jsx(Ro,{checked:(l[p]??[]).includes("inApp"),onChange:w=>u(p,"inApp",w)})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Email"}),n.jsx(Ro,{checked:(l[p]??[]).includes("email"),onChange:w=>u(p,"email",w)})]})]},p))})}),n.jsx("div",{className:"max-w-3xl mx-auto bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 mt-8",children:n.jsxs("div",{className:"divide-y divide-white/10 px-6",children:[n.jsx(Td,{label:"Do Not Disturb",description:"Temporarily mute all notifications during specific hours.",children:n.jsx(Ro,{checked:m,onChange:p=>f("enabled",p)})}),m&&n.jsxs("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4 items-center",children:[n.jsx("div",{className:"text-sm font-medium text-white",children:"Quiet Hours"}),n.jsxs("div",{className:"mt-2 sm:mt-0 sm:col-span-2 flex items-center space-x-4 justify-end",children:[n.jsx("input",{type:"time",value:v,onChange:p=>f("startTime",p.target.value),className:"bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx("input",{type:"time",value:j,onChange:p=>f("endTime",p.target.value),className:"bg-[#252532] border-2 border-[#374151] rounded-lg p-2 text-white"})]})]})]})})]})]})},Ty=({isOpen:e,onClose:t,onNavigateToLogin:a})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:n.jsxs("div",{className:"bg-[#1A1A24] rounded-2xl shadow-2xl border border-white/10 max-w-sm w-full p-8 relative text-center",children:[n.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:n.jsx(Ct,{className:"w-6 h-6"})}),n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-indigo-500/10 border-2 border-indigo-500/30 mx-auto",children:n.jsx(Ca,{className:"w-8 h-8 text-indigo-400"})}),n.jsx("h2",{className:"text-2xl font-bold text-white mt-4",children:"Join the Conversation"}),n.jsx("p",{className:"text-gray-400 my-4",children:"Sign up or log in to like, comment, collaborate, and bring your ideas to life."}),n.jsx("button",{onClick:a,className:"w-full mt-4 px-6 py-3 rounded-lg text-white font-semibold shadow-md bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90 transition-opacity",children:"Sign Up / Log In"})]})}):null,My=({task:e,onDragStart:t})=>n.jsxs("div",{draggable:!0,onDragStart:a=>t(a,e.id),className:"bg-[#252532] p-3 rounded-lg border-2 border-[#374151] cursor-grab active:cursor-grabbing",children:[n.jsx("h4",{className:"font-semibold text-white",children:e.title}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]}),Ey=({column:e,tasks:t,onDragOver:a,onDrop:l,onDragStart:s})=>n.jsxs("div",{onDragOver:a,onDrop:i=>l(i,e.id),className:"w-80 bg-[#101018] rounded-xl flex flex-col flex-shrink-0",children:[n.jsxs("h3",{className:"font-bold text-lg text-white p-4 border-b border-white/10",children:[e.title," (",t.length,")"]}),n.jsx("div",{className:"flex-1 p-3 space-y-3 overflow-y-auto scrollbar-thin",children:t.map(i=>n.jsx(My,{task:i,onDragStart:(o,c)=>s(o,c)},i.id))})]}),Dy=({ideaId:e,currentUser:t,setPage:a})=>{const[l,s]=y.useState(null),[i,o]=y.useState(null),[c,r]=y.useState(!0);y.useEffect(()=>{(async()=>{r(!0);try{const m=await C.getIdeaById(e);m&&(m.ownerId===t.userId||(m.collaborators||[]).includes(t.userId))?(s(m),o(m.kanbanBoard||null)):(alert("You don't have access to this project board."),a("feed"))}catch(m){console.error("Failed to fetch kanban board:",m),alert("Could not load project board."),a("ideaDetail",e)}finally{r(!1)}})()},[e,t,a]);const u=(d,m)=>{d.dataTransfer.setData("taskId",m)},f=d=>{d.preventDefault()},x=async(d,m)=>{d.preventDefault();const v=d.dataTransfer.getData("taskId");if(!v||!i)return;let j;for(const w of i.columnOrder)if((i.columns[w].taskIds||[]).includes(v)){j=w;break}if(!j||j===m)return;const T={...i},g=T.columns[j],h=T.columns[m],p=(g.taskIds||[]).filter(w=>w!==v),b=[...h.taskIds||[],v];o(w=>w?{...w,columns:{...w.columns,[j]:{...w.columns[j],taskIds:p},[m]:{...w.columns[m],taskIds:b}}}:null);const N={...i,columns:{...i.columns,[j]:{...g,taskIds:p},[m]:{...h,taskIds:b}}};try{await C.updateKanbanBoard(e,N)}catch(w){console.error("Failed to save kanban board update:",w),alert("Failed to save changes. Reverting."),o(i)}};return c?n.jsx("div",{className:"flex items-center justify-center h-screen bg-[#0A0A0F]",children:n.jsx(Ve,{className:"w-8 h-8 animate-spin"})}):!l||!i?n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-[#0A0A0F]",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Project Board Not Found"}),n.jsx("p",{className:"text-gray-400",children:"This project does not have a Kanban board yet."}),n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"mt-6 bg-indigo-600 px-4 py-2 rounded-lg text-sm hover:bg-indigo-700",children:" Back to Idea Details"})]}):n.jsxs("div",{className:"w-full h-screen flex flex-col bg-[#0A0A0F] text-white",children:[n.jsxs("header",{className:"p-4 bg-[#1A1A24]/90 backdrop-blur-sm border-b border-white/10 flex justify-between items-center z-20 flex-shrink-0",children:[n.jsx("button",{onClick:()=>a("ideaDetail",e),className:"bg-[#252532] px-4 py-2 rounded-lg text-sm hover:bg-[#374151]",children:" Back to Idea"}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-xl font-bold",children:l.title}),n.jsx("p",{className:"text-sm text-gradient",children:"Project Board"})]}),n.jsx("div",{className:"w-28"})]}),n.jsx("main",{className:"flex-1 p-4 overflow-x-auto",children:n.jsx("div",{className:"flex space-x-4 h-full",children:i.columnOrder.map(d=>{const m=i.columns[d],v=(m.taskIds||[]).map(j=>i.tasks[j]);return n.jsx(Ey,{column:m,tasks:v,onDragOver:f,onDrop:x,onDragStart:(j,T)=>u(j,T)},m.id)})})})]})};class Oy extends vi.Component{constructor(){super(...arguments);Fi(this,"state",{hasError:!1});Fi(this,"handleRefresh",()=>{this.setState({hasError:!1},()=>window.location.reload())})}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,l){console.error("Uncaught error:",a,l)}render(){return this.state.hasError?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4 text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Something went wrong."}),n.jsx("p",{className:"mt-4 text-lg",children:"We're sorry for the inconvenience. Please try refreshing the page."}),n.jsx("button",{onClick:this.handleRefresh,className:"mt-6 px-6 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700",children:"Refresh"})]}):this.props.children}}const zy=()=>{const[e,t]=y.useState(null),[a,l]=y.useState(!1),[s,i]=y.useState("feed"),[o,c]=y.useState(null),[r,u]=y.useState(null),[f,x]=y.useState(null),[d,m]=y.useState([]),[v,j]=y.useState(!1),[T]=y.useState(!0),[g,h]=y.useState(()=>{const U=localStorage.getItem("theme");return U==="light"||U==="dark"?U:window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"});y.useEffect(()=>{const U=window.document.documentElement;g==="dark"?U.classList.add("dark"):U.classList.remove("dark"),localStorage.setItem("theme",g)},[g]);const p=()=>{h(U=>U==="light"?"dark":"light")},b=(U,A)=>{i(U),c(U==="ideaDetail"||U==="ideaBoard"||U==="forum"||U==="analytics"||U==="kanban"?A??null:null),u(U==="profile"&&A?A:null),x(U==="chat"&&A?A:null),window.scrollTo(0,0)},N=U=>{U===null&&localStorage.removeItem("authToken"),localStorage.setItem("currentUser",JSON.stringify(U)),t(U),l(!1)},w=()=>{l(!0),t(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),b("feed")},S=()=>{l(!1),t(null),localStorage.removeItem("authToken"),localStorage.removeItem("currentUser")},D=()=>{j(!0)},E=U=>{U&&U.length>0&&m(A=>[...A,...U])},M=()=>{m(U=>U.slice(1))},O=()=>{if(e){const U={...e,onboardingCompleted:!0};t(U),localStorage.setItem("currentUser",JSON.stringify(U)),b("feed")}};if(y.useEffect(()=>{const U=localStorage.getItem("authToken"),A=localStorage.getItem("currentUser");if(U&&A){const H=JSON.parse(A);t(H),C.verifyToken(U).then(_=>{var X;_.valid?(X=_.user)!=null&&X.userId&&C.getUserById(_.user.userId).then(te=>{te&&N(te)}):S()}).catch(_=>{console.error("Token verification failed:",_),S()})}else U?C.verifyToken(U).then(H=>{var _;H.valid&&((_=H.user)!=null&&_.userId)?C.getUserById(H.user.userId).then(X=>{X&&N(X)}):S()}).catch(()=>{S()}):w()},[]),!e&&!a)return n.jsx(xp,{setCurrentUser:N,setPage:b,onGuestLogin:w});if(e&&!e.onboardingCompleted)return n.jsx(iy,{setCurrentUser:t,onComplete:O,currentUser:e});const I=()=>{if(["inbox","notifications","notificationSettings","profile","newIdea","ideaBoard","kanban","forum","connections","bookmarks","chat","analytics"].includes(s)&&(a||!e))return b("feed"),n.jsx(el,{currentUser:e,setPage:b});switch(s){case"feed":return n.jsx(el,{currentUser:e,setPage:b});case"explore":return n.jsx(yy,{currentUser:e,setPage:b});case"inbox":return n.jsx(dy,{currentUser:e,setPage:b});case"notifications":return n.jsx(jy,{setPage:b});case"notificationSettings":return n.jsx(Ay,{currentUser:e,setCurrentUser:t,setPage:b});case"profile":return n.jsx(Up,{userId:r||e.userId,currentUser:e,setPage:b});case"ideaDetail":if(o)return n.jsx(Qp,{ideaId:o,currentUser:e,isGuest:a,setPage:b,onAchievementsUnlock:E,onGuestAction:D});break;case"ideaBoard":if(o)return n.jsx(ey,{ideaId:o,currentUser:e,setPage:b});break;case"kanban":if(o)return n.jsx(Dy,{ideaId:o,currentUser:e,setPage:b});break;case"forum":if(o)return n.jsx(gy,{ideaId:o,currentUser:e,setPage:b});break;case"analytics":if(o)return n.jsx(Cy,{ideaId:o,currentUser:e,setPage:b});break;case"newIdea":return n.jsx(Jp,{setPage:b,setSelectedIdeaId:c,onAchievementsUnlock:E});case"connections":return n.jsx(oy,{userId:e.userId,setPage:b});case"bookmarks":return n.jsx(cy,{currentUser:e,setPage:b});case"chat":if(f)return n.jsx(hy,{conversationId:f,currentUser:e,setPage:b});break;case"privacyPolicy":return n.jsx(Ny,{setPage:b});default:return n.jsx(el,{currentUser:e,setPage:b})}return o===null&&["ideaDetail","ideaBoard","kanban","forum","analytics"].includes(s)?(b("feed"),n.jsx(el,{currentUser:e,setPage:b})):f===null&&s==="chat"?(b("feed"),n.jsx(el,{currentUser:e,setPage:b})):n.jsx(el,{currentUser:e,setPage:b})},ee=s!=="ideaBoard"&&s!=="forum"&&s!=="chat"&&s!=="analytics"&&s!=="notificationSettings"&&s!=="onboarding"&&s!=="kanban",L=ee&&s!=="newIdea"&&s!=="ideaDetail"&&s!=="privacyPolicy";return n.jsx("div",{className:"min-h-screen font-sans",children:n.jsxs(Oy,{children:[T&&n.jsx(mp,{}),ee&&n.jsx(Sp,{currentUser:e,isGuest:a,setPage:b,setCurrentUser:N,onGuestAction:D,onNavigateToLogin:S,theme:g,toggleTheme:p}),n.jsx("main",{className:`${ee?"pt-16":""} ${L?"pb-20":""}`,children:I()}),L&&n.jsx(py,{activePage:s,setPage:b,currentUser:e,isGuest:a,onGuestAction:D}),d.length>0&&e&&n.jsx(wy,{achievementId:d[0],onClose:M,onShare:()=>{C.shareAchievementToFeed(d[0]),M()}}),n.jsx(Ty,{isOpen:v,onClose:()=>j(!1),onNavigateToLogin:S})]})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Synapse/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});fp.createRoot(document.getElementById("root")).render(n.jsx(vi.StrictMode,{children:n.jsx(zy,{})}));
